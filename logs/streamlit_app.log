2025-04-11 21:35:18,578 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 21:35:18,581 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 21:36:00,894 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1e4497c7-b0c6-4a5c-b408-4c88024d7ecf'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='7a75a73f-96a1-4ba5-9d2f-0b141dfce936')]...
2025-04-11 21:36:07,440 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 21:36:07,443 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 21:36:07,445 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 21:36:07,447 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 21:36:07,517 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='105f821c-a9dc-41bb-a187-cf678efb50e2'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='0a09ff88-927c-46f1-954a-54c6988a4873'), HumanMessage(content='Merhaba, size nasıl yardımcı olabilirim?', additional_kwargs={}, response_metadata={}, id='dc2e7ec0-65a7-4491-8dc2-26dc18fabc0c'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='42ba4a55-d62c-4e4f-8f5f-a7236b06cdc6')]...
2025-04-11 21:36:12,651 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "too...
2025-04-11 21:36:12,652 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 21:36:12,653 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 21:36:12,654 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "too...
2025-04-11 21:36:12,709 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a1a91c13-2383-4a07-9455-24e3745879f2'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='539816cf-34be-4db5-aecc-21f9b9bb1890'), HumanMessage(content='Merhaba, size nasıl yardımcı olabilirim?', additional_kwargs={}, response_metadata={}, id='4d21eacd-7cb7-478f-89e2-61f7b8233705'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='cb29ca38-4aad-4298-be78-cfa7aed0960b'), HumanMessage(content='Merhaba, size nas\\ıl yard\\ımc\\ı olabilirim?', additional_kwargs={}, response_metadata={}, id='687a7a6b-6b3f-486f-a517-974e91b9979c'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='94b33e29-f301-4ad4-9264-d56dd2c7fc93')]...
2025-04-11 21:36:19,113 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "too...
2025-04-11 21:36:19,114 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 21:36:19,115 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 21:36:19,116 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "too...
2025-04-11 21:36:19,170 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7484fc8e-f9b6-4094-bf36-028334108a28'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='6c929a03-544c-4d58-8d17-53fcc0da8c34'), HumanMessage(content='Merhaba, size nasıl yardımcı olabilirim?', additional_kwargs={}, response_metadata={}, id='a4eb9f3c-6ec6-4223-a2e5-10d095f650b8'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='eb3a5748-b660-40e0-806c-b5a7cb45aab2'), HumanMessage(content='Merhaba, size nas\\ıl yard\\ımc\\ı olabilirim?', additional_kwargs={}, response_metadata={}, id='c4a2ab40-43bd-4a88-a577-4250d3f4158e'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='b69b5bf4-7511-49c2-8c6a-d7ee01564748'), HumanMessage(content='Merhaba, size nas\\ıl yard\\ımc\\ı olabilirim?', additional_kwargs={}, response_metadata={}, id='d7ee0c11-6f6a-475a-abaf-a26951a957b1'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='3612a60a-1aff-4ba7-be39-16d3da533096')]...
2025-04-11 21:48:57,951 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 21:48:57,954 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 21:49:00,667 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='931f8eb9-7148-4240-a70a-fc7c3411b518'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='81ac53db-4ecc-4ec2-937d-b9009e9d574a')]...
2025-04-11 21:49:04,014 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 21:49:04,016 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 21:49:04,018 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 21:49:04,020 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 21:57:31,989 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 21:57:31,992 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 21:57:34,359 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5e739b10-309c-4a80-9e61-82b9d030939b'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='da1244b7-97af-4ce9-86c4-115bd3955f4b')]...
2025-04-11 21:57:36,962 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! No content in response"}...
2025-04-11 21:57:36,964 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 21:57:36,965 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 21:57:36,966 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! No content in response"}...
2025-04-11 22:08:12,895 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:08:12,902 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:08:27,226 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:08:27,235 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:08:50,627 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7c591c9b-ccc4-4648-875a-a29fec063c1e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='25830f94-d6ee-4f5a-91b9-c73e97af711e')]...
2025-04-11 22:08:51,927 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:08:51,930 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:08:51,931 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:08:51,932 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:09:08,626 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='64c757c4-c5c2-4016-84f7-74ca8199ed4e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='331e04c0-0f04-4494-9d01-9dbeb560155b'), HumanMessage(content='otel hakkında bilgi alabilir miyim', additional_kwargs={}, response_metadata={}, id='7dae0a84-c03b-4ced-890a-36c903b4fda5')]...
2025-04-11 22:09:09,966 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u01...
2025-04-11 22:09:09,967 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:09:09,968 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:09:09,969 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u01...
2025-04-11 22:09:10,033 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:11:03,561 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:11:03,631 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:11:12,656 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='60649640-c56f-4de1-be37-b8d0c2e05af0'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='85538dfe-28ae-47e1-9087-9059ab496cb2')]...
2025-04-11 22:11:14,056 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:11:14,062 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:11:14,067 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:11:14,069 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:11:43,819 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:11:43,824 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:12:34,268 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='55045691-e17d-4788-8d89-98de8c9dd56b'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='9924070a-a15e-4aa7-8895-3eedd6f3c2d1')]...
2025-04-11 22:12:35,542 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:12:35,543 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:12:35,544 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:12:35,545 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-11 22:12:53,006 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7b956b72-f8fe-4903-8b3a-690b48335699'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='1403fdae-4d8d-4a5c-93b4-ea21f1414a15'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='958458e8-5b38-4e2b-8750-3ca6d711746b')]...
2025-04-11 22:12:54,353 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "\u00d6zkaya Otel Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u013...
2025-04-11 22:12:54,354 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:12:54,355 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:12:54,356 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u00d6zkaya Otel Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u013...
2025-04-11 22:12:54,455 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:13:07,111 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:13:07,128 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='50652608-d3cf-4b42-92af-705f5e662978'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='7cf1779f-9584-4a58-8134-d5f9d91d9ccc'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='860b3b23-3773-4357-88ab-4d5c02a88111'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='5509301c-e1d6-44c5-8e68-03cce9134de9')]...
2025-04-11 22:13:08,585 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Oda tiplerimiz ve fiyatlar\\u0131 \\u015fu \\u015fekildedir: Standard oda 1000TL, Delu...
2025-04-11 22:13:08,586 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:13:08,587 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:13:08,588 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Oda tiplerimiz ve fiyatlar\\u0131 \\u015fu \\u015fekildedir: Standard oda 1000TL, Delu...
2025-04-11 22:13:08,673 - __main__ - ERROR - Eval hatası: unterminated string literal (detected at line 1) (<string>, line 1)
2025-04-11 22:13:18,401 - __main__ - ERROR - Eval hatası: unterminated string literal (detected at line 1) (<string>, line 1)
2025-04-11 22:13:18,439 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3903b4a9-71cb-4b8c-a5fe-6e220082048c'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='17ea9208-23f4-4c6f-8753-94dbf1f4cb88'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='57cccb0b-1ad3-404d-ab7c-8ba72c8d10f7'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='31661ccb-1b2a-4e95-b014-87912cf8a4b0'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='5e116769-52d6-4363-aaa1-7be20448b049')]...
2025-04-11 22:13:20,386 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\\u00e7in rezervasyon yapmak istiyorsunuz anl\\u0131yorum. L\\u00fctfen ad\...
2025-04-11 22:13:20,387 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:13:20,388 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3903b4a9-71cb-4b8c-a5fe-6e220082048c'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='17ea9208-23f4-4c6f-8753-94dbf1f4cb88'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='57cccb0b-1ad3-404d-ab7c-8ba72c8d10f7'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='31661ccb-1b2a-4e95-b014-87912cf8a4b0'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='5e116769-52d6-4363-aaa1-7be20448b049')]
2025-04-11 22:13:20,388 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-11 22:13:20,389 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3903b4a9-71cb-4b8c-a5fe-6e220082048c'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='17ea9208-23f4-4c6f-8753-94dbf1f4cb88'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='57cccb0b-1ad3-404d-ab7c-8ba72c8d10f7'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='31661ccb-1b2a-4e95-b014-87912cf8a4b0'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='5e116769-52d6-4363-aaa1-7be20448b049')]
2025-04-11 22:13:20,391 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:13:20,392 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:13:20,393 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:13:20,394 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\\u00e7in rezervasyon yapmak istiyorsunuz anl\\u0131yorum. L\\u00fctfen ad\...
2025-04-11 22:13:38,423 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e0c63e5d-6874-4875-b7fc-f8e6076a2df1'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='e066daa1-8fe2-4f19-b0e4-b3f2416b4d2d'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='4f856111-37af-43c0-b188-c9e3e2a6b04f'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='9994bfa0-be22-472c-bab3-d347afeca508'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='bd92bf5a-eb35-45bc-a24a-cafa5c234fa6'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='caa7d365-9188-4d97-8451-98e573cb29d6')]...
2025-04-11 22:13:40,219 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\u00e7in rezervasyonunuzu al\u0131yorum. L\u00fctfen hangi tarihlerde konak...
2025-04-11 22:13:40,220 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:13:40,222 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e0c63e5d-6874-4875-b7fc-f8e6076a2df1'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='e066daa1-8fe2-4f19-b0e4-b3f2416b4d2d'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='4f856111-37af-43c0-b188-c9e3e2a6b04f'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='9994bfa0-be22-472c-bab3-d347afeca508'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='bd92bf5a-eb35-45bc-a24a-cafa5c234fa6'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='caa7d365-9188-4d97-8451-98e573cb29d6')]
2025-04-11 22:13:40,222 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-11 22:13:40,222 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Hilal Karaman", "check_in_date": null, "check_out_date": null, "room_type": "Suite", "adults": null, "children": null}
2025-04-11 22:13:40,222 - agents.router_agent - INFO - Müşteri adına göre rezervasyon sorgusu: {"customer_name": "Hilal Karaman"}
2025-04-11 22:13:40,223 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e0c63e5d-6874-4875-b7fc-f8e6076a2df1'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='e066daa1-8fe2-4f19-b0e4-b3f2416b4d2d'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='4f856111-37af-43c0-b188-c9e3e2a6b04f'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='9994bfa0-be22-472c-bab3-d347afeca508'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='bd92bf5a-eb35-45bc-a24a-cafa5c234fa6'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='caa7d365-9188-4d97-8451-98e573cb29d6')]
2025-04-11 22:13:40,224 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:13:40,225 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:13:40,226 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:13:40,228 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\u00e7in rezervasyonunuzu al\u0131yorum. L\u00fctfen hangi tarihlerde konak...
2025-04-11 22:14:02,064 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b3d5eb12-d367-4949-9a8e-7f642a7f3c24'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='f52a876e-8e16-40ed-b6a4-af14ea6ee174'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e86f1e32-63cc-437d-987a-dad4ced167fb'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='09ba507b-63a7-4b85-9b61-3ecff341a93f'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='23e5f0f8-dc9a-4505-a15b-a170b78c151a'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='d3b47782-f5f2-4fc1-a3b9-258bf02370a6'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='8314d36c-8f2a-4d83-80f6-3b46c2a10fe5')]...
2025-04-11 22:14:03,677 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda rezervasyonunuz al\\u0131n\\u0131yor. 1-5 Temmuz tarihleri aras\\u0131nda 2 ...
2025-04-11 22:14:03,678 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:14:03,680 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b3d5eb12-d367-4949-9a8e-7f642a7f3c24'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='f52a876e-8e16-40ed-b6a4-af14ea6ee174'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e86f1e32-63cc-437d-987a-dad4ced167fb'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='09ba507b-63a7-4b85-9b61-3ecff341a93f'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='23e5f0f8-dc9a-4505-a15b-a170b78c151a'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='d3b47782-f5f2-4fc1-a3b9-258bf02370a6'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='8314d36c-8f2a-4d83-80f6-3b46c2a10fe5')]
2025-04-11 22:14:03,680 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-11 22:14:03,680 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Hilal Karaman", "check_in_date": "2024-07-01", "check_out_date": "2024-07-05", "room_type": "Suite", "adults": 2, "children": null}
2025-04-11 22:14:03,681 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b3d5eb12-d367-4949-9a8e-7f642a7f3c24'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='f52a876e-8e16-40ed-b6a4-af14ea6ee174'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e86f1e32-63cc-437d-987a-dad4ced167fb'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='09ba507b-63a7-4b85-9b61-3ecff341a93f'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='23e5f0f8-dc9a-4505-a15b-a170b78c151a'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='d3b47782-f5f2-4fc1-a3b9-258bf02370a6'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='8314d36c-8f2a-4d83-80f6-3b46c2a10fe5')]
2025-04-11 22:14:03,682 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: add_reservation_tool
2025-04-11 22:14:03,683 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: add_reservation_tool
2025-04-11 22:14:03,684 - agents.tools_agents - INFO - AddReservationAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13821a340>
2025-04-11 22:14:03,685 - agents.tools_agents - INFO - Birden fazla mesaj tespit edildi (3), en yeni veriyi kullanıyorum
2025-04-11 22:14:03,685 - agents.tools_agents - INFO - Tersine sıralamada geçerli HumanMessage içeriği bulundu: {"customer_name": "Hilal Karaman", "check_in_date": "2024-07-01", "check_out_date": "2024-07-05", "room_type": "Suite", "adults": 2, "children": null}
2025-04-11 22:14:09,838 - agents.tools_agents - INFO - Başarılı ekleme işlemi sonrası state temizleniyor...
2025-04-11 22:14:09,839 - agents.tools_agents - INFO - new_reservation alanı state'ten temizlendi
2025-04-11 22:14:09,839 - agents.tools_agents - INFO - add_reservation_result alanı temizlendi, sadece son sonuç tutuldu
2025-04-11 22:14:09,839 - agents.tools_agents - INFO - Add reservation completed: True
2025-04-11 22:14:09,844 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:14:09,846 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda rezervasyonunuz al\\u0131n\\u0131yor. 1-5 Temmuz tarihleri aras\\u0131nda 2 ...
2025-04-11 22:14:41,175 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d850435a-171f-4b11-8e5a-450d6cc19bbb'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='6cbfbf8d-7e8f-4b90-8de5-ff955eeb9475'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='37915de9-83bf-42a1-b9ab-acb21ec2121c'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='13eef5d8-c3e8-448a-97bc-02f6cc14a790'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='da528034-e128-4ca8-a277-901930f1d2aa'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='1cdcc0e1-51ef-43ad-98ad-331fb8a54d02'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='1577918b-8479-4c4d-a073-084efad7338f'), HumanMessage(content='Eline sağlık', additional_kwargs={}, response_metadata={}, id='137f3324-e7aa-4a81-8222-3a701e14e2d3')]...
2025-04-11 22:14:42,481 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuz ba\\u015far\\u0131yla tamamland\\u0131. Size ba\\u015fka nas\\u0131l y...
2025-04-11 22:14:42,482 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:14:42,483 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:14:42,485 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuz ba\\u015far\\u0131yla tamamland\\u0131. Size ba\\u015fka nas\\u0131l y...
2025-04-11 22:14:50,265 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef025997-1a4c-442f-b62c-49abc339090e'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='3bd4f9c8-6b45-40e3-9f6b-ea3a688e8bf2'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e7a3f12c-b7f5-4dbf-8055-5716022edda8'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='2bf72aec-a034-4dd1-a35d-80ae899de866'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='6dfd290c-ce6d-43c2-843b-1a766d96ece1'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='e38152a0-18fb-4926-aea2-12f94eae1f9c'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='f1015a02-4b9c-4fb4-8dcd-49ed66b14bb2'), HumanMessage(content='Eline sağlık', additional_kwargs={}, response_metadata={}, id='c4df5a80-b4ec-45c0-820d-85b4f3696f2c'), HumanMessage(content='Bunu silebilir miyiz', additional_kwargs={}, response_metadata={}, id='9db79197-5a1b-434b-adcb-e8769c49510d')]...
2025-04-11 22:14:51,558 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuzu iptal etmek istedi\u011finizi anl\u0131yorum. L\u00fctfen rezervasyon...
2025-04-11 22:14:51,559 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:14:51,560 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef025997-1a4c-442f-b62c-49abc339090e'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='3bd4f9c8-6b45-40e3-9f6b-ea3a688e8bf2'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e7a3f12c-b7f5-4dbf-8055-5716022edda8'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='2bf72aec-a034-4dd1-a35d-80ae899de866'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='6dfd290c-ce6d-43c2-843b-1a766d96ece1'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='e38152a0-18fb-4926-aea2-12f94eae1f9c'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='f1015a02-4b9c-4fb4-8dcd-49ed66b14bb2'), HumanMessage(content='Eline sağlık', additional_kwargs={}, response_metadata={}, id='c4df5a80-b4ec-45c0-820d-85b4f3696f2c'), HumanMessage(content='Bunu silebilir miyiz', additional_kwargs={}, response_metadata={}, id='9db79197-5a1b-434b-adcb-e8769c49510d')]
2025-04-11 22:14:51,561 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:14:51,561 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:Hilal Karaman, Oda:Suite
2025-04-11 22:14:51,561 - agents.router_agent - INFO - Silme verisi oluşturuldu (JSON string): {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:14:51,562 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef025997-1a4c-442f-b62c-49abc339090e'), HumanMessage(content='Merhaba ', additional_kwargs={}, response_metadata={}, id='3bd4f9c8-6b45-40e3-9f6b-ea3a688e8bf2'), HumanMessage(content='Otel hakkında bilgi almak istiyorum dayı', additional_kwargs={}, response_metadata={}, id='e7a3f12c-b7f5-4dbf-8055-5716022edda8'), HumanMessage(content='Fiyatlar nasıl', additional_kwargs={}, response_metadata={}, id='2bf72aec-a034-4dd1-a35d-80ae899de866'), HumanMessage(content='Suit oda ayıralım bana', additional_kwargs={}, response_metadata={}, id='6dfd290c-ce6d-43c2-843b-1a766d96ece1'), HumanMessage(content='Hilal Karaman ', additional_kwargs={}, response_metadata={}, id='e38152a0-18fb-4926-aea2-12f94eae1f9c'), HumanMessage(content='1-5 Temmuz arası istiyorum 2 yetişkin olacak', additional_kwargs={}, response_metadata={}, id='f1015a02-4b9c-4fb4-8dcd-49ed66b14bb2'), HumanMessage(content='Eline sağlık', additional_kwargs={}, response_metadata={}, id='c4df5a80-b4ec-45c0-820d-85b4f3696f2c'), HumanMessage(content='Bunu silebilir miyiz', additional_kwargs={}, response_metadata={}, id='9db79197-5a1b-434b-adcb-e8769c49510d')]
2025-04-11 22:14:51,563 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:14:51,563 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:14:51,564 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:14:51,566 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuzu iptal etmek istedi\u011finizi anl\u0131yorum. L\u00fctfen rezervasyon...
2025-04-11 22:15:04,202 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aec3624a-94b2-45b8-a5ec-f6dc2e198358'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='929fe073-0d5b-4202-b4fd-b21fc17ae567')]...
2025-04-11 22:15:05,562 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuzu iptal etmek istedi\u011finizi anl\u0131yorum. L\u00fctfen rezervasyon...
2025-04-11 22:15:05,562 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:15:05,563 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aec3624a-94b2-45b8-a5ec-f6dc2e198358'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='929fe073-0d5b-4202-b4fd-b21fc17ae567')]
2025-04-11 22:15:05,563 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:15:05,563 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:Hilal Karaman, Oda:Suite
2025-04-11 22:15:05,563 - agents.router_agent - INFO - Silme verisi oluşturuldu (JSON string): {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:15:05,564 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aec3624a-94b2-45b8-a5ec-f6dc2e198358'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='929fe073-0d5b-4202-b4fd-b21fc17ae567')]
2025-04-11 22:15:05,565 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:15:05,565 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:15:05,566 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:15:05,566 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuzu iptal etmek istedi\u011finizi anl\u0131yorum. L\u00fctfen rezervasyon...
2025-04-11 22:15:10,015 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:15:10,020 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:15:15,719 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e53506b-c078-4898-92a0-a265fd411646'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='05cea122-a5a7-49aa-98fa-bfedeabd601a')]...
2025-04-11 22:15:17,341 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi rezervasyonu iptal etmek istedi\u011finizi belirtir misiniz?", "action_type": "d...
2025-04-11 22:15:17,342 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:15:17,342 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e53506b-c078-4898-92a0-a265fd411646'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='05cea122-a5a7-49aa-98fa-bfedeabd601a')]
2025-04-11 22:15:17,342 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:15:17,342 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:None, Oda:None
2025-04-11 22:15:17,342 - agents.router_agent - WARNING - Silme işlemi için hiçbir tanımlayıcı bilgi bulunamadı (ne ID ne de isim)!
2025-04-11 22:15:17,342 - agents.router_agent - INFO - Hata verisi oluşturuldu: {"error": "Silme i\u00e7in yeterli bilgi yok"}
2025-04-11 22:15:17,343 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e53506b-c078-4898-92a0-a265fd411646'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='05cea122-a5a7-49aa-98fa-bfedeabd601a')]
2025-04-11 22:15:17,343 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:15:17,343 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:15:17,344 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:15:17,344 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi rezervasyonu iptal etmek istedi\u011finizi belirtir misiniz?", "action_type": "d...
2025-04-11 22:15:24,220 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0bbc7409-2711-45b9-a282-fb7b8b6fb1d3'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='daccc131-3098-4694-b832-d8f880be6112'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='33e8ca04-1934-4588-8b35-15180a523c8b')]...
2025-04-11 22:15:25,509 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan hangi rezervasyonu silmek istedi\u011finizi belirtir mis...
2025-04-11 22:15:25,510 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:15:25,511 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0bbc7409-2711-45b9-a282-fb7b8b6fb1d3'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='daccc131-3098-4694-b832-d8f880be6112'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='33e8ca04-1934-4588-8b35-15180a523c8b')]
2025-04-11 22:15:25,511 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:15:25,511 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:Hilal Karaman, Oda:None
2025-04-11 22:15:25,511 - agents.router_agent - INFO - Silme verisi oluşturuldu (JSON string): {"customer_name": "Hilal Karaman"}
2025-04-11 22:15:25,512 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0bbc7409-2711-45b9-a282-fb7b8b6fb1d3'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='daccc131-3098-4694-b832-d8f880be6112'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='33e8ca04-1934-4588-8b35-15180a523c8b')]
2025-04-11 22:15:25,512 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:15:25,513 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:15:25,513 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:15:25,514 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan hangi rezervasyonu silmek istedi\u011finizi belirtir mis...
2025-04-11 22:15:32,429 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4aa1c6cf-e083-4735-88ce-c9da6c029c81'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='402d5a4b-cecd-4c0b-9598-2ee440b37ab9'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='b1e04aa5-6b8d-4889-a8cc-b55d8306f19b'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='a7878fa5-d056-4434-80c1-03999f164b6e')]...
2025-04-11 22:15:33,998 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan Suite oday\u0131 silmek istedi\u011finizi anl\u0131yorum...
2025-04-11 22:15:33,999 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:15:34,000 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4aa1c6cf-e083-4735-88ce-c9da6c029c81'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='402d5a4b-cecd-4c0b-9598-2ee440b37ab9'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='b1e04aa5-6b8d-4889-a8cc-b55d8306f19b'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='a7878fa5-d056-4434-80c1-03999f164b6e')]
2025-04-11 22:15:34,000 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:15:34,001 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:Hilal Karaman, Oda:Suite
2025-04-11 22:15:34,001 - agents.router_agent - INFO - Silme verisi oluşturuldu (JSON string): {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:15:34,002 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4aa1c6cf-e083-4735-88ce-c9da6c029c81'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='402d5a4b-cecd-4c0b-9598-2ee440b37ab9'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='b1e04aa5-6b8d-4889-a8cc-b55d8306f19b'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='a7878fa5-d056-4434-80c1-03999f164b6e')]
2025-04-11 22:15:34,002 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-11 22:15:34,003 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-11 22:15:34,004 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:15:34,005 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan Suite oday\u0131 silmek istedi\u011finizi anl\u0131yorum...
2025-04-11 22:15:40,808 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b254fc0d-845a-4312-89b3-aaa1b20ce2d6'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='38989a60-27e8-401b-8072-db93fe025f31'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='bdf4c48a-2fff-4668-a8dc-24e1635ea4c1'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='0f149afe-d10c-4e16-bead-10b90abd93ed'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='304e308e-4c58-4539-a5e2-d929fd921e61')]...
2025-04-11 22:15:42,206 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan Suite oda rezervasyonunuz iptal ediliyor.", "action_typ...
2025-04-11 22:15:42,208 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-11 22:15:42,209 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b254fc0d-845a-4312-89b3-aaa1b20ce2d6'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='38989a60-27e8-401b-8072-db93fe025f31'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='bdf4c48a-2fff-4668-a8dc-24e1635ea4c1'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='0f149afe-d10c-4e16-bead-10b90abd93ed'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='304e308e-4c58-4539-a5e2-d929fd921e61')]
2025-04-11 22:15:42,209 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-11 22:15:42,209 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:Hilal Karaman, Oda:Suite
2025-04-11 22:15:42,210 - agents.router_agent - INFO - Silme verisi oluşturuldu (JSON string): {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:15:42,211 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b254fc0d-845a-4312-89b3-aaa1b20ce2d6'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='38989a60-27e8-401b-8072-db93fe025f31'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='bdf4c48a-2fff-4668-a8dc-24e1635ea4c1'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='0f149afe-d10c-4e16-bead-10b90abd93ed'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='304e308e-4c58-4539-a5e2-d929fd921e61')]
2025-04-11 22:15:42,211 - agents.router_agent - INFO - Tespit edilen tool_action: delete_reservation_tool
2025-04-11 22:15:42,211 - agents.router_agent - INFO - delete_reservation_tool'a yönlendiriliyor
2025-04-11 22:15:42,211 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: delete_reservation_tool
2025-04-11 22:15:42,212 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: delete_reservation_tool
2025-04-11 22:15:42,212 - agents.tools_agents - INFO - DeleteReservationAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x104b9e340>
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Çözümlenmiş delete_data: [HumanMessage(content='{"error": "Silme i\\u00e7in yeterli bilgi yok"}', additional_kwargs={}, response_metadata={}, id='38c7abd4-ce5a-4a90-9e11-edaee5866446'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='4e2b44a0-8089-436d-99ea-a6ab4d372214'), HumanMessage(content='{"customer_name": "Hilal Karaman", "room_type": "Suite"}', additional_kwargs={}, response_metadata={}, id='aa65b7bd-413a-4047-8b05-50dcf38675fc'), HumanMessage(content='{"customer_name": "Hilal Karaman", "room_type": "Suite"}', additional_kwargs={}, response_metadata={}, id='667e5f6f-a845-496a-b6a5-f678287fab7b')]
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Liste tipinde veri tespit edildi, uzunluk: 4
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Mesaj içeriği alındı: {"error": "Silme i\u00e7in yeterli bilgi yok"}
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Mesaj içeriği alındı: {"customer_name": "Hilal Karaman"}
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Mesaj içeriği alındı: {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Mesaj içeriği alındı: {"customer_name": "Hilal Karaman", "room_type": "Suite"}
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Geçerli mesaj bulundu (ters sırada): {'customer_name': 'Hilal Karaman', 'room_type': 'Suite'}
2025-04-11 22:15:42,213 - agents.tools_agents - INFO - Silme parametreleri: ID=None, İsim=Hilal Karaman, Oda Tipi=Suite
2025-04-11 22:15:42,214 - agents.tools_agents - INFO - Müşteri adı ile silme deneniyor: Hilal Karaman
2025-04-11 22:15:42,214 - services.sheets_service - INFO - Rezervasyon silme işlemi başlatıldı: ID/İsim=Hilal Karaman, Oda Tipi=Suite, use_customer_name=True
2025-04-11 22:15:46,371 - services.sheets_service - INFO - Silme için işaretlenen satır: 2, Müşteri: Hilal Karaman, Oda: Suite
2025-04-11 22:15:46,371 - services.sheets_service - INFO - Toplam 1 rezervasyon silinecek
2025-04-11 22:15:46,371 - services.sheets_service - INFO - Satır siliniyor: 2
2025-04-11 22:15:47,223 - agents.tools_agents - INFO - Başarılı silme işlemi sonrası state temizleniyor...
2025-04-11 22:15:47,223 - agents.tools_agents - INFO - delete_reservation alanı state'ten temizlendi
2025-04-11 22:15:47,224 - agents.tools_agents - INFO - delete_reservation_result alanı temizlendi, sadece son sonuç tutuldu
2025-04-11 22:15:47,224 - agents.tools_agents - INFO - Delete reservation completed: True - Müşteri adı ve oda tipi ile rezervasyon silindi: Hilal Karaman (Suite)
2025-04-11 22:15:47,230 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:15:47,237 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan Suite oda rezervasyonunuz iptal ediliyor.", "action_typ...
2025-04-11 22:16:02,782 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='be40d80e-2a59-4e0c-af50-b40fb2ea107a'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='962a35dd-f25b-48c1-8771-9f9ee81e6556'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='4f957092-7cdf-44b9-9b37-32360d52d03a'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='4f01871b-ed49-49b4-8969-427c2fa50ab9'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='9052522c-274c-4303-8e89-16711a1cba3f'), HumanMessage(content='eline sağlıok', additional_kwargs={}, response_metadata={}, id='43215b9a-3cd3-4193-a056-ca11d0d83b5a')]...
2025-04-11 22:16:04,398 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:04,404 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:16:04,406 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:16:04,413 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:09,618 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8fa8afb7-c8c3-424a-af22-1ff697f7945c'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='a91bf081-92dc-483c-918d-305551f11fca'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='b18e4a6d-324b-4d26-adf9-4f2129a5b045'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='bf2a75d0-d3f5-49e9-b381-1e5101a377f9'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='6ee560d0-882f-4468-becb-e7760db3f888'), HumanMessage(content='eline sağlıok', additional_kwargs={}, response_metadata={}, id='c81083e4-0c9d-48a0-8820-d2cee3e067cb'), HumanMessage(content='adamsın', additional_kwargs={}, response_metadata={}, id='64c1a8c8-6f31-4bb0-a710-be71fa630dad')]...
2025-04-11 22:16:11,372 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:11,373 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:16:11,373 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:16:11,374 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:14,477 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b679d54a-877d-48ed-b781-0d0cfcae3c6b'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='f846be03-afb7-4095-af7a-913cc2e20c6b'), HumanMessage(content='Hilal karaman adına olanı', additional_kwargs={}, response_metadata={}, id='440ada16-bbad-4a7e-b253-bd7320c2d097'), HumanMessage(content='Suite oda', additional_kwargs={}, response_metadata={}, id='ff9b46b3-3367-4b2d-a225-7ab2d6d8f85e'), HumanMessage(content='Onaylıyorum', additional_kwargs={}, response_metadata={}, id='113ed854-cb10-478e-918d-00156723fbb0'), HumanMessage(content='eline sağlıok', additional_kwargs={}, response_metadata={}, id='572e94fa-bf1f-45f9-8518-8ab3197f65b6'), HumanMessage(content='adamsın', additional_kwargs={}, response_metadata={}, id='0971159e-abec-4aa5-aeaa-0923f509ab7c'), HumanMessage(content='tamam dur', additional_kwargs={}, response_metadata={}, id='3ad57029-016e-4c18-b084-f073debe2caa')]...
2025-04-11 22:16:15,967 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:15,974 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:16:15,976 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:16:15,977 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:16:33,397 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-11 22:16:33,405 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-11 22:16:38,691 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c25b03f5-9dd6-49c7-813e-c0667692286d'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='4daf0f9e-1c7d-4291-99f8-effcf49459a4')]...
2025-04-11 22:16:39,953 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m, hava durumu hakk\u0131nda bilgi vereme...
2025-04-11 22:16:39,955 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:16:39,956 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:16:39,958 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m, hava durumu hakk\u0131nda bilgi vereme...
2025-04-11 22:16:50,486 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f5db82c0-63a4-4a22-b031-fd496974e1ce'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='49977f26-306e-459c-9441-539ebad15402'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='4a2794f3-171a-4431-856a-08ebf79762b2')]...
2025-04-11 22:16:51,838 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m, hava durumu hakk\u0131nda bilgi vereme...
2025-04-11 22:16:51,841 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:16:51,842 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:16:51,844 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m, hava durumu hakk\u0131nda bilgi vereme...
2025-04-11 22:16:59,504 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9f22b6b4-6e83-4c34-8d75-050d5f4c8ad0'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='967a8ef9-6e50-455e-ab65-10a4e866c868'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='7b3e56ce-1a66-4c4d-be5b-cd53c2392210'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='7238b207-ab46-460e-a1c2-5625b8e4e0c5')]...
2025-04-11 22:17:01,227 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de konumlanm\\u0131\\u015f bir oteldir. Restoran, topla...
2025-04-11 22:17:01,228 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:01,229 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:01,229 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de konumlanm\\u0131\\u015f bir oteldir. Restoran, topla...
2025-04-11 22:17:01,285 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:17:07,740 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:17:07,780 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aabe86ba-9e8b-4216-9381-111ef1d6bac4'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='38a67d3f-00c5-4054-9117-7602760539ed'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='2bc3ea11-cc29-4a36-859f-b45fd7b5d693'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='45bf0815-6b66-4664-9f2f-2bd7c2aff1ea'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='5895a503-272a-48a8-bbe1-7f7e9dbfee8f')]...
2025-04-11 22:17:09,224 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m. Sivas hakk\u0131nda genel bilgiler ver...
2025-04-11 22:17:09,224 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:09,225 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:09,226 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ben bir otel rezervasyon asistan\u0131y\u0131m. Sivas hakk\u0131nda genel bilgiler ver...
2025-04-11 22:17:09,285 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:17:24,967 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-11 22:17:24,982 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11d6bae6-f187-4d02-b9fe-92fc1a9d7bba'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='13cd3c29-4991-4740-b001-0f06b1dd0a8f'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='5377a4fa-efc3-4534-8d31-9980ab296401'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='b323a691-8a05-4fe8-9bc5-73edb7715697'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='fdff65ed-8d7b-440a-ae92-be636fc8d487'), HumanMessage(content='evlilik cüzdanı şartı varmı', additional_kwargs={}, response_metadata={}, id='dfd3b238-fa63-44b8-beb5-9d8dfd9aef4d')]...
2025-04-11 22:17:26,382 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimizde evlilik c\u00fczdan\u0131 \u015fart\u0131 aranmamaktad\u0131r.", "action_ty...
2025-04-11 22:17:26,384 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:26,385 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:26,385 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimizde evlilik c\u00fczdan\u0131 \u015fart\u0131 aranmamaktad\u0131r.", "action_ty...
2025-04-11 22:17:37,441 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='22d5ace5-599a-4ae2-a0a2-5837438167b7'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='cad8a20b-ec12-4073-97df-b440e557d718'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='d89b2209-ee34-4757-a7a2-74324da96a86'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='29df9105-e1e0-4e66-b10f-c482bb6f5419'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='c563d69b-d4cc-47f6-bd43-9353635c36b0'), HumanMessage(content='evlilik cüzdanı şartı varmı', additional_kwargs={}, response_metadata={}, id='a89bda6d-465d-44b4-b52b-9c1bc33082b7'), HumanMessage(content='tamam süper', additional_kwargs={}, response_metadata={}, id='cc24b420-97b1-46d4-9877-6ebe6270616e')]...
2025-04-11 22:17:38,953 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Memnun olman\u0131za sevindim. Size ba\u015fka nas\u0131l yard\u0131mc\u0131 olabiliri...
2025-04-11 22:17:38,954 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:38,956 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:38,958 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Memnun olman\u0131za sevindim. Size ba\u015fka nas\u0131l yard\u0131mc\u0131 olabiliri...
2025-04-11 22:17:44,049 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c0efd88f-9b8f-41e9-b6e7-26d88d6fb701'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='bb7c51f2-44c4-448f-bb5c-709d3c82332f'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='aff8719a-c6b9-40ed-8cd8-9813c2fef726'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='09b851f9-776b-4271-88e0-512553b9b86a'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='3a283b9f-3f23-42b2-a696-1d9fe2802657'), HumanMessage(content='evlilik cüzdanı şartı varmı', additional_kwargs={}, response_metadata={}, id='444c11f0-b3fe-4b5c-b1af-957bfaf9249f'), HumanMessage(content='tamam süper', additional_kwargs={}, response_metadata={}, id='4c84bc1c-a832-4985-9e17-dfe3e9cc495c'), HumanMessage(content='sen kral adamsın', additional_kwargs={}, response_metadata={}, id='d3727f68-aa3a-4d43-bdc3-afbd155a712c')]...
2025-04-11 22:17:45,573 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:17:45,574 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:45,575 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:45,576 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-11 22:17:54,302 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='204f73d3-d48e-4356-bbc8-1fd1d62624e8'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='5bb3b82b-f155-4d44-8789-a479aca28460'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='bd943b62-a0e8-47bd-8f13-194c6c3fc5ba'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='85da2aa6-8d33-4d67-9b11-0476753b82f9'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='582133b4-7429-4e85-9847-1233eea42355'), HumanMessage(content='evlilik cüzdanı şartı varmı', additional_kwargs={}, response_metadata={}, id='de86e6dd-55e8-4e18-9f34-046d56605d46'), HumanMessage(content='tamam süper', additional_kwargs={}, response_metadata={}, id='1eed9d70-469b-476c-9557-5f7808d5807c'), HumanMessage(content='sen kral adamsın', additional_kwargs={}, response_metadata={}, id='14a4971f-6e41-43a5-8d9e-fca6861cc739'), HumanMessage(content='sivaslımısın malatyamı', additional_kwargs={}, response_metadata={}, id='bd10413c-6e5d-40c0-9fce-37ddc6ed63d8')]...
2025-04-11 22:17:55,726 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-11 22:17:55,727 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:17:55,728 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:17:55,729 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-11 22:18:10,436 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='57c6123f-4683-4d13-9977-5f2a80a18465'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='36ffc327-79d5-4f4c-a444-8bbe6693c76b'), HumanMessage(content='Oteller hakkında bilgi ver bana anlat otel nedir', additional_kwargs={}, response_metadata={}, id='37e658f4-024f-47f2-b61f-742bdea05f13'), HumanMessage(content='Özkaya oteli anlat', additional_kwargs={}, response_metadata={}, id='1578ce50-f5a3-4b42-89c6-f56392d64336'), HumanMessage(content='Sivas nasıl bir yer', additional_kwargs={}, response_metadata={}, id='6868727d-026b-4761-b56e-48ab3111827d'), HumanMessage(content='evlilik cüzdanı şartı varmı', additional_kwargs={}, response_metadata={}, id='8b27b9f8-74b0-4263-af5e-1dfa340ff308'), HumanMessage(content='tamam süper', additional_kwargs={}, response_metadata={}, id='424698a6-f5c7-4257-a8a4-95c4f5681ca0'), HumanMessage(content='sen kral adamsın', additional_kwargs={}, response_metadata={}, id='a9fc8756-41db-4233-a73f-496aad8d017a'), HumanMessage(content='sivaslımısın malatyamı', additional_kwargs={}, response_metadata={}, id='016a1806-be6a-4d2c-aef1-2e72c3461c02'), HumanMessage(content='neden başka konuıda cevap vermiyorsun', additional_kwargs={}, response_metadata={}, id='8aecd4e1-d405-4162-90a9-b53c31b8c674')]...
2025-04-11 22:18:11,767 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-11 22:18:11,768 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-11 22:18:11,769 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-11 22:18:11,770 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-12 19:09:02,248 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:09:02,251 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:09:22,826 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:09:22,829 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:17:43,388 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:17:43,400 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:18:03,810 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:18:03,823 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:18:30,725 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:18:30,729 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:18:47,086 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:18:47,099 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:19:08,910 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:19:08,914 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:20:05,113 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:20:05,116 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:21:32,149 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:21:32,166 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:21:41,603 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:21:41,612 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:21:48,054 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:21:48,057 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:21:53,540 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:21:53,545 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:21:59,769 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f3964525-7a7a-47b6-a518-ac34b59f2294'), HumanMessage(content='Tell me retriever', additional_kwargs={}, response_metadata={}, id='c647c4af-6238-4b5a-a05c-7a510e9a40fa')]...
2025-04-12 19:22:01,276 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:22:01,278 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:22:01,280 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:22:01,281 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:22:08,150 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='95b50099-a734-4f38-9a1a-4d91df13a313'), HumanMessage(content='Tell me retriever', additional_kwargs={}, response_metadata={}, id='a93dc54d-0306-43cc-962d-b9a6e74e18e7'), HumanMessage(content='nasılsın', additional_kwargs={}, response_metadata={}, id='ae52dbb2-832a-456b-9829-43b10be9df9c')]...
2025-04-12 19:22:09,423 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:22:09,425 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:22:09,426 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:22:09,427 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:22:17,772 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d869a05a-7137-42b8-9abf-ef3e3ed9508f'), HumanMessage(content='Tell me retriever', additional_kwargs={}, response_metadata={}, id='29552817-b2fb-44a1-af08-fe58f1503117'), HumanMessage(content='nasılsın', additional_kwargs={}, response_metadata={}, id='e92f03d0-4cfb-4d9d-aa93-0218c8468a8e'), HumanMessage(content='otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='d1ef9b47-c952-452b-8ef1-cb8720e6de96')]...
2025-04-12 19:22:19,426 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u01...
2025-04-12 19:22:19,427 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:22:19,427 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:22:19,428 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u00d6zkaya Otel, Sivas Merkez'de bulunmaktad\u0131r. Otelimizde restoran, toplant\u01...
2025-04-12 19:22:19,547 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 19:22:26,953 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:22:26,956 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:22:50,577 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:22:50,586 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:23:08,048 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:23:08,058 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:25:53,684 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:25:53,692 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:25:59,764 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='06eda56f-f312-457d-8f5d-69bbaabc3e1a'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2bbd56b7-16d7-45f5-be32-fd1d4ba5695a')]...
2025-04-12 19:26:04,506 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:26:04,508 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:26:04,509 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:26:04,510 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:26:15,157 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:26:15,163 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:26:44,068 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:26:44,078 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:26:53,750 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='20b61764-0215-456a-9c6f-f2f23443edc4'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='31911677-e441-4a82-a7a3-723ff6d7cc05')]...
2025-04-12 19:26:55,145 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen tekrar deneyin.", "action_type": null, "tool_action": nu...
2025-04-12 19:26:55,146 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:26:55,146 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:26:55,147 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen tekrar deneyin.", "action_type": null, "tool_action": nu...
2025-04-12 19:27:01,240 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:01,246 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:27:04,717 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e1ccdb45-756c-437c-b30c-0aa5b956014f'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='26698d21-5248-46f8-acfc-e22122195aba')]...
2025-04-12 19:27:06,170 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:27:06,171 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:27:06,175 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:27:06,177 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:27:13,313 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:13,320 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:27:18,151 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b72d4511-cf1a-457e-87b9-57f76948f7f5'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='85e96f25-4385-4988-ab3e-672f42105a34')]...
2025-04-12 19:27:19,793 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:27:19,794 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:27:19,795 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:27:19,795 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlayamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "t...
2025-04-12 19:27:29,012 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:29,016 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:27:36,475 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:36,478 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:27:43,649 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:43,653 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:27:49,257 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:27:49,271 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:28:06,775 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:28:06,801 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:28:12,071 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2dbe8989-3f8f-47d5-94ef-ead7902955d6'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='457027ef-2797-4874-9af4-e1b7e362a117')]...
2025-04-12 19:28:13,498 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:28:13,499 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:28:13,501 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:28:13,502 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:29:43,251 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:29:43,261 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:30:01,492 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2dfd7a8c-9c68-472c-8924-0554096c7baa'), HumanMessage(content='10-15 Ağustos arası oda müsaitliği', additional_kwargs={}, response_metadata={}, id='7d81cbaf-b5a5-44d3-847e-feb43a6a5e8f')]...
2025-04-12 19:30:02,833 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Oda tipini ve ka\u00e7 ki\u015fi konaklayaca\u011f\u0131n\u0131z\u0131 belirtir misini...
2025-04-12 19:30:02,834 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-12 19:30:02,835 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2dfd7a8c-9c68-472c-8924-0554096c7baa'), HumanMessage(content='10-15 Ağustos arası oda müsaitliği', additional_kwargs={}, response_metadata={}, id='7d81cbaf-b5a5-44d3-847e-feb43a6a5e8f')]
2025-04-12 19:30:02,835 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-12 19:30:02,837 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2dfd7a8c-9c68-472c-8924-0554096c7baa'), HumanMessage(content='10-15 Ağustos arası oda müsaitliği', additional_kwargs={}, response_metadata={}, id='7d81cbaf-b5a5-44d3-847e-feb43a6a5e8f')]
2025-04-12 19:30:02,837 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-12 19:30:02,838 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-12 19:30:02,839 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:30:02,840 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Oda tipini ve ka\u00e7 ki\u015fi konaklayaca\u011f\u0131n\u0131z\u0131 belirtir misini...
2025-04-12 19:30:22,753 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:30:22,759 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:30:40,397 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:30:40,404 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:32:36,106 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:32:36,112 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:33:14,678 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:33:14,685 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:33:18,000 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8bf9cfd8-1a85-4660-9116-b81947d1f9f0'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='75d6c305-9ef7-4b6c-a78a-4d0684ce008d')]...
2025-04-12 19:33:24,281 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_action": n...
2025-04-12 19:33:24,288 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:33:24,290 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:33:24,292 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_action": n...
2025-04-12 19:33:26,135 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:33:26,170 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:33:31,563 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d845896e-b937-43ea-8bbc-d68328df9631'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='fcd93963-4967-400a-a980-ff6fdeda1cac')]...
2025-04-12 19:33:36,805 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:33:36,807 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:33:36,809 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:33:36,810 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:34:09,168 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:34:09,180 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:37:01,751 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:37:01,760 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:37:27,655 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:37:27,661 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:37:34,084 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8361ccf0-6c5e-44ba-9e38-dd0a5418557d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='69059af1-cbaf-4669-a8fc-3b6e116dfe7e')]...
2025-04-12 19:37:39,060 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:37:39,062 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:37:39,064 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:37:39,065 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:38:25,636 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:38:25,643 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:40:55,218 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:40:55,224 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:41:39,045 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:41:39,049 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:42:05,894 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:42:05,899 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:45:49,169 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:45:49,200 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:45:57,817 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b70d7956-b491-46a9-81b0-28b601fcbeee'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='571ab9fb-7720-408a-b0a0-150ab21ee5f2')]...
2025-04-12 19:46:01,443 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:46:01,446 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:46:01,447 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:46:01,448 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:47:33,678 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d51b65a-4da5-49ea-a7cd-0cc21799339d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='85f589fa-5079-4d9f-98f8-0a02203c77b8'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='8150a9cf-c8a5-4e51-bca6-aaaaa5b7a10f')]...
2025-04-12 19:47:35,971 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi rezervasyonu iptal etmek istedi\u011finizi belirtir misiniz?", "action_type": "d...
2025-04-12 19:47:35,972 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: delete_reservation), data_extractor'a yönlendiriliyor
2025-04-12 19:47:35,973 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d51b65a-4da5-49ea-a7cd-0cc21799339d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='85f589fa-5079-4d9f-98f8-0a02203c77b8'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='8150a9cf-c8a5-4e51-bca6-aaaaa5b7a10f')]
2025-04-12 19:47:35,974 - agents.router_agent - INFO - Tespit edilen action_type: delete_reservation
2025-04-12 19:47:35,974 - agents.router_agent - INFO - Silme işlemi için veri hazırlanıyor, İsim:None, Oda:None
2025-04-12 19:47:35,974 - agents.router_agent - WARNING - Silme işlemi için hiçbir tanımlayıcı bilgi bulunamadı (ne ID ne de isim)!
2025-04-12 19:47:35,974 - agents.router_agent - INFO - Hata verisi oluşturuldu: {"error": "Silme i\u00e7in yeterli bilgi yok"}
2025-04-12 19:47:35,976 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d51b65a-4da5-49ea-a7cd-0cc21799339d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='85f589fa-5079-4d9f-98f8-0a02203c77b8'), HumanMessage(content='rezervasyon silmek istiyorum', additional_kwargs={}, response_metadata={}, id='8150a9cf-c8a5-4e51-bca6-aaaaa5b7a10f')]
2025-04-12 19:47:35,977 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-12 19:47:35,978 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-12 19:47:35,979 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:47:35,980 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi rezervasyonu iptal etmek istedi\u011finizi belirtir misiniz?", "action_type": "d...
2025-04-12 19:52:55,861 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:52:55,869 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:53:06,060 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='47158506-2566-49dc-ace3-d820ecb73b56'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a01db43b-33ea-426b-9649-2b0df9d97895')]...
2025-04-12 19:53:11,019 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:53:11,023 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:53:11,025 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:53:11,027 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:57:03,425 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 19:57:03,426 - __main__ - INFO - Session state durumu: {'workflow': None, 'conversation': [], 'form_submitted': False, 'initialized': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}}
2025-04-12 19:57:03,440 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:57:03,445 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:57:42,375 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 19:57:42,375 - __main__ - INFO - Session state durumu: {'workflow': None, 'conversation': [], 'form_submitted': False, 'initialized': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}}
2025-04-12 19:57:42,385 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 19:57:42,393 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 19:57:46,954 - __main__ - INFO - Session state durumu: {'user_message': 'merhaba', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:57:46,965 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0eed6097-185d-4911-8cd8-221efe27c297'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='17167e89-f830-44fc-8845-6dfbd691ce30')]...
2025-04-12 19:57:49,784 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:57:49,786 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:57:49,787 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:57:49,789 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 19:57:49,857 - __main__ - INFO - Session state durumu: {'user_message': 'merhaba', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0eed6097-185d-4911-8cd8-221efe27c297'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='17167e89-f830-44fc-8845-6dfbd691ce30')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:57:58,595 - __main__ - INFO - Session state durumu: {'user_message': 'iyimisin ', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0eed6097-185d-4911-8cd8-221efe27c297'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='17167e89-f830-44fc-8845-6dfbd691ce30')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:57:58,604 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3a36edf1-f237-42b6-8386-7de86f926a8e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8496b198-5b31-488b-8808-2f2e1ebe1247'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='48238baf-9ac2-4f81-ba66-08f65c4f9082')]...
2025-04-12 19:58:01,924 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, nas\u0131ls\u0131n\u0131z? Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "...
2025-04-12 19:58:01,926 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:58:01,928 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:58:01,932 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, nas\u0131ls\u0131n\u0131z? Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "...
2025-04-12 19:58:01,982 - __main__ - INFO - Session state durumu: {'user_message': 'iyimisin ', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3a36edf1-f237-42b6-8386-7de86f926a8e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8496b198-5b31-488b-8808-2f2e1ebe1247'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='48238baf-9ac2-4f81-ba66-08f65c4f9082')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:58:06,636 - __main__ - INFO - Session state durumu: {'user_message': 'bana otel hakkında bilgi ver', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3a36edf1-f237-42b6-8386-7de86f926a8e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8496b198-5b31-488b-8808-2f2e1ebe1247'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='48238baf-9ac2-4f81-ba66-08f65c4f9082')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:58:06,648 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8c428c44-190c-4b95-b886-8f2ee68b7e92'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='877bab6a-afdf-4ef9-a52e-3f7e1c757741'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='2fc1bf2d-9de6-48a7-8ceb-2477c8f1deda'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='8b56f1e2-b664-4b1e-8161-2340325a69c5')]...
2025-04-12 19:58:09,890 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Alt\\u0131kula\\u00e7 Otel, Malatya Merkez'de bulunmaktad\\u0131r. Otelimizde restoran...
2025-04-12 19:58:09,892 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:58:09,893 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:58:09,895 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Alt\\u0131kula\\u00e7 Otel, Malatya Merkez'de bulunmaktad\\u0131r. Otelimizde restoran...
2025-04-12 19:58:09,940 - __main__ - INFO - Session state durumu: {'user_message': 'bana otel hakkında bilgi ver', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8c428c44-190c-4b95-b886-8f2ee68b7e92'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='877bab6a-afdf-4ef9-a52e-3f7e1c757741'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='2fc1bf2d-9de6-48a7-8ceb-2477c8f1deda'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='8b56f1e2-b664-4b1e-8161-2340325a69c5')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?")], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:58:09,942 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 19:58:20,826 - __main__ - INFO - Session state durumu: {'user_message': 'yazım halatarını düzelty', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8c428c44-190c-4b95-b886-8f2ee68b7e92'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='877bab6a-afdf-4ef9-a52e-3f7e1c757741'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='2fc1bf2d-9de6-48a7-8ceb-2477c8f1deda'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='8b56f1e2-b664-4b1e-8161-2340325a69c5')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?")], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:58:20,832 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 19:58:20,840 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='efa39936-1253-4348-9aad-06db92e293d0'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9bb44f8e-e1fb-4f1c-8daf-5406b3d99bd7'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='210c7330-4e1e-4b02-8cab-475415ea72c5'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='e95e745e-9a88-402f-91ec-0c51eeb44517'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='9605b3d2-af5e-4719-9852-7152ab273aaf')]...
2025-04-12 19:58:38,248 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Elbette, Alt\u0131kula\u00e7 Otel Malatya Merkez'de bulunmaktad\u0131r ve restoran, to...
2025-04-12 19:58:38,252 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 19:58:38,254 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 19:58:38,263 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Elbette, Alt\u0131kula\u00e7 Otel Malatya Merkez'de bulunmaktad\u0131r ve restoran, to...
2025-04-12 19:58:38,398 - __main__ - INFO - Session state durumu: {'user_message': 'yazım halatarını düzelty', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='efa39936-1253-4348-9aad-06db92e293d0'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9bb44f8e-e1fb-4f1c-8daf-5406b3d99bd7'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='210c7330-4e1e-4b02-8cab-475415ea72c5'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='e95e745e-9a88-402f-91ec-0c51eeb44517'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='9605b3d2-af5e-4719-9852-7152ab273aaf')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?")], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:58:38,401 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 19:59:37,783 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım hüseyin tamam mı', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='efa39936-1253-4348-9aad-06db92e293d0'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9bb44f8e-e1fb-4f1c-8daf-5406b3d99bd7'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='210c7330-4e1e-4b02-8cab-475415ea72c5'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='e95e745e-9a88-402f-91ec-0c51eeb44517'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='9605b3d2-af5e-4719-9852-7152ab273aaf')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?")], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 19:59:37,794 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 19:59:37,805 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1ba690a9-8ce8-42ee-87a3-5af84dd5d020'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='59a3e444-bc5f-4daa-8ba4-2fe89f649e75'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='d08b93f0-3410-4d39-8422-d91e94cd800f'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='2cbd135e-e006-46c9-96df-70addc53fd48'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='4cb43fd4-fe9d-4dce-9b3d-e67dbfd89c9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='01435573-da50-4a9a-ad8a-412036d78ca7')]...
2025-04-12 20:00:06,458 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba H\u00fcseyin, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type...
2025-04-12 20:00:06,462 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 20:00:06,464 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 20:00:06,470 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba H\u00fcseyin, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type...
2025-04-12 20:00:06,625 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım hüseyin tamam mı', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1ba690a9-8ce8-42ee-87a3-5af84dd5d020'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='59a3e444-bc5f-4daa-8ba4-2fe89f649e75'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='d08b93f0-3410-4d39-8422-d91e94cd800f'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='2cbd135e-e006-46c9-96df-70addc53fd48'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='4cb43fd4-fe9d-4dce-9b3d-e67dbfd89c9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='01435573-da50-4a9a-ad8a-412036d78ca7')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812'), AIMessage(content='{"response": "Merhaba H\\u00fcseyin, size nas\\\\u0131l yard\\\\u0131mc\\\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='0577972c-2c2e-4b4f-9580-b78dfe4e4b49')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?"), ('user', 'benim adım hüseyin tamam mı'), ('assistant', 'Merhaba Hüseyin, size nas\\ıl yard\\ımc\\ı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 20:01:25,973 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım neydi', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1ba690a9-8ce8-42ee-87a3-5af84dd5d020'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='59a3e444-bc5f-4daa-8ba4-2fe89f649e75'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='d08b93f0-3410-4d39-8422-d91e94cd800f'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='2cbd135e-e006-46c9-96df-70addc53fd48'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='4cb43fd4-fe9d-4dce-9b3d-e67dbfd89c9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='01435573-da50-4a9a-ad8a-412036d78ca7')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812'), AIMessage(content='{"response": "Merhaba H\\u00fcseyin, size nas\\\\u0131l yard\\\\u0131mc\\\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='0577972c-2c2e-4b4f-9580-b78dfe4e4b49')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?"), ('user', 'benim adım hüseyin tamam mı'), ('assistant', 'Merhaba Hüseyin, size nas\\ıl yard\\ımc\\ı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 20:01:26,004 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d4ec89b6-8326-459d-b13a-00155f29adde'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='cc0c8743-9faf-45db-8011-5c6ce1bf7373'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='a1b61e81-7ad3-4e91-9503-c6011db20ce1'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='f6cab0dc-495e-43e2-87aa-129b4e632805'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='196b73ad-5466-40d2-a8a7-0e137df10e9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='a7b39532-ed95-4c8a-9f13-b9802124406a'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='8c9764da-662a-4751-9a8f-06f4c09a65e7')]...
2025-04-12 20:01:43,689 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! HTTPSConnectionPool(host='generativelanguage.googleapis.com', po...
2025-04-12 20:01:43,695 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 20:01:43,697 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 20:01:43,702 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! HTTPSConnectionPool(host='generativelanguage.googleapis.com', po...
2025-04-12 20:01:43,703 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 20:01:43,832 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım neydi', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d4ec89b6-8326-459d-b13a-00155f29adde'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='cc0c8743-9faf-45db-8011-5c6ce1bf7373'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='a1b61e81-7ad3-4e91-9503-c6011db20ce1'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='f6cab0dc-495e-43e2-87aa-129b4e632805'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='196b73ad-5466-40d2-a8a7-0e137df10e9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='a7b39532-ed95-4c8a-9f13-b9802124406a'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='8c9764da-662a-4751-9a8f-06f4c09a65e7')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812'), AIMessage(content='{"response": "Merhaba H\\u00fcseyin, size nas\\\\u0131l yard\\\\u0131mc\\\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='0577972c-2c2e-4b4f-9580-b78dfe4e4b49'), AIMessage(content='{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}', additional_kwargs={}, response_metadata={}, id='13f69811-a209-4015-9aee-6372cfa75406')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?"), ('user', 'benim adım hüseyin tamam mı'), ('assistant', 'Merhaba Hüseyin, size nas\\ıl yard\\ımc\\ı olabilirim?'), ('user', 'benim adım neydi'), ('assistant', '{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}')], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 20:01:43,836 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 20:01:51,391 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım neydi', 'form_submitted': True, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d4ec89b6-8326-459d-b13a-00155f29adde'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='cc0c8743-9faf-45db-8011-5c6ce1bf7373'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='a1b61e81-7ad3-4e91-9503-c6011db20ce1'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='f6cab0dc-495e-43e2-87aa-129b4e632805'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='196b73ad-5466-40d2-a8a7-0e137df10e9e'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='a7b39532-ed95-4c8a-9f13-b9802124406a'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='8c9764da-662a-4751-9a8f-06f4c09a65e7')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812'), AIMessage(content='{"response": "Merhaba H\\u00fcseyin, size nas\\\\u0131l yard\\\\u0131mc\\\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='0577972c-2c2e-4b4f-9580-b78dfe4e4b49'), AIMessage(content='{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}', additional_kwargs={}, response_metadata={}, id='13f69811-a209-4015-9aee-6372cfa75406')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?"), ('user', 'benim adım hüseyin tamam mı'), ('assistant', 'Merhaba Hüseyin, size nas\\ıl yard\\ımc\\ı olabilirim?'), ('user', 'benim adım neydi'), ('assistant', '{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}')], 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 20:01:51,399 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-12 20:01:51,404 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a318c59f-b72b-42f9-b422-24d92deb1828'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='43c54bd6-1ae0-45bb-961e-08c48554abba'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='3a63a013-a0ff-45cd-85cc-93801741af2d'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9ad4d0db-cdb9-40b7-8ee6-bbaee9a81bd8'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='0dcafb6f-eec0-4d0d-ba51-e9b77ee18cd1'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='65da9947-b8cc-435c-ae9d-08b4d9dfaaf4'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='e39c9412-3601-472d-96a1-a9a925ec443b'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='9f3cabc8-7329-4018-821d-503d09ae5c11')]...
2025-04-12 20:02:13,863 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ad\u0131n\u0131z H\u00fcseyin. Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "actio...
2025-04-12 20:02:13,867 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 20:02:13,869 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 20:02:13,875 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ad\u0131n\u0131z H\u00fcseyin. Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "actio...
2025-04-12 20:02:14,004 - __main__ - INFO - Session state durumu: {'user_message': 'benim adım neydi', 'form_submitted': False, 'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a318c59f-b72b-42f9-b422-24d92deb1828'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='43c54bd6-1ae0-45bb-961e-08c48554abba'), HumanMessage(content='iyimisin ', additional_kwargs={}, response_metadata={}, id='3a63a013-a0ff-45cd-85cc-93801741af2d'), HumanMessage(content='bana otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9ad4d0db-cdb9-40b7-8ee6-bbaee9a81bd8'), HumanMessage(content='yazım halatarını düzelty', additional_kwargs={}, response_metadata={}, id='0dcafb6f-eec0-4d0d-ba51-e9b77ee18cd1'), HumanMessage(content='benim adım hüseyin tamam mı', additional_kwargs={}, response_metadata={}, id='65da9947-b8cc-435c-ae9d-08b4d9dfaaf4'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='e39c9412-3601-472d-96a1-a9a925ec443b'), HumanMessage(content='benim adım neydi', additional_kwargs={}, response_metadata={}, id='9f3cabc8-7329-4018-821d-503d09ae5c11')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='852d0531-86b0-4754-aa19-73e829da11eb'), AIMessage(content='{"response": "Merhaba, nas\\u0131ls\\u0131n\\u0131z? Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='1c00c049-68d7-48f9-ab22-8b8c8ab96483'), AIMessage(content='{"response": "Alt\\\\u0131kula\\\\u00e7 Otel, Malatya Merkez\'de bulunmaktad\\\\u0131r. Otelimizde restoran, toplant\\\\u0131 salonlar\\\\u0131, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\\\u00fc\\\\u00e7\\\\u00fck evcil hayvanlar kabul edilmektedir (ek \\\\u00fccret gerekebilir). Otopark ve Wi-Fi \\\\u00fccretsizdir ve kahvalt\\\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\\\u011fi\\\\u015fmektedir. Daha fazla bilgiye ihtiyac\\\\u0131n\\\\u0131z var m\\\\u0131?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1e96e5c-23bd-4c43-80c1-ba60cf44e7a1'), AIMessage(content='{"response": "Elbette, Alt\\u0131kula\\u00e7 Otel Malatya Merkez\'de bulunmaktad\\u0131r ve restoran, toplant\\u0131 salonlar\\u0131, fitness merkezi ve \\u00fccretsiz Wi-Fi gibi olanaklar sunmaktad\\u0131r. Check-in saati 14:00, check-out saati ise 12:00\'dir. K\\u00fc\\u00e7\\u00fck evcil hayvanlar ek \\u00fccretle kabul edilmektedir. Otopark ve Wi-Fi \\u00fccretsizdir ve kahvalt\\u0131 dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\u011fi\\u015fmektedir. Ba\\u015fka bir konuda bilgi almak ister misiniz?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f7d98826-981a-4cda-a61b-45aafabf4812'), AIMessage(content='{"response": "Merhaba H\\u00fcseyin, size nas\\\\u0131l yard\\\\u0131mc\\\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='0577972c-2c2e-4b4f-9580-b78dfe4e4b49'), AIMessage(content='{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}', additional_kwargs={}, response_metadata={}, id='13f69811-a209-4015-9aee-6372cfa75406'), AIMessage(content='{"response": "Ad\\u0131n\\u0131z H\\u00fcseyin. Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='2a93f9e5-e2c1-4b5a-98d8-6703327bc67b')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x104f8d700>, 'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?'), ('user', 'iyimisin '), ('assistant', 'Merhaba, nasılsınız? Size nasıl yardımcı olabilirim?'), ('user', 'bana otel hakkında bilgi ver'), ('assistant', "Alt\\ıkula\\ç Otel, Malatya Merkez'de bulunmaktad\\ır. Otelimizde restoran, toplant\\ı salonlar\\ı, fitness merkezi ve wifi gibi olanaklar mevcuttur. Check-in saati 14:00, check-out saati ise 12:00'dir. K\\ü\\ç\\ük evcil hayvanlar kabul edilmektedir (ek \\ücret gerekebilir). Otopark ve Wi-Fi \\ücretsizdir ve kahvalt\\ı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak de\\ği\\şmektedir. Daha fazla bilgiye ihtiyac\\ın\\ız var m\\ı?"), ('user', 'yazım halatarını düzelty'), ('assistant', "Elbette, Altıkulaç Otel Malatya Merkez'de bulunmaktadır ve restoran, toplantı salonları, fitness merkezi ve ücretsiz Wi-Fi gibi olanaklar sunmaktadır. Check-in saati 14:00, check-out saati ise 12:00'dir. Küçük evcil hayvanlar ek ücretle kabul edilmektedir. Otopark ve Wi-Fi ücretsizdir ve kahvaltı dahildir. Oda tiplerimiz Standard (1000TL), Deluxe (1500TL) ve Suite (2500TL) olarak değişmektedir. Başka bir konuda bilgi almak ister misiniz?"), ('user', 'benim adım hüseyin tamam mı'), ('assistant', 'Merhaba Hüseyin, size nas\\ıl yard\\ımc\\ı olabilirim?'), ('user', 'benim adım neydi'), ('assistant', '{"error": "Error in invoking model! HTTPSConnectionPool(host=\'generativelanguage.googleapis.com\', port=443): Max retries exceeded with url: /v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyChj0_O0D7WsaF99ZR3lEQMxdr46pZ6wjE (Caused by SSLError(SSLEOFError(8, \'[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1000)\')))"}'), ('user', 'benim adım neydi'), ('assistant', 'Adınız Hüseyin. Size nasıl yardımcı olabilirim?')], 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 20:46:46,841 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 20:46:46,842 - __main__ - INFO - Session state durumu: {'form_submitted': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'conversation': [], 'initialized': False, 'workflow': None}
2025-04-12 20:46:46,844 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 20:46:46,847 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 20:54:48,573 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 20:54:48,574 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 20:54:48,576 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 20:54:48,578 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 20:54:54,174 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 20:54:54,175 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 20:54:54,179 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 20:54:54,182 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:01:56,357 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:01:56,358 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:01:56,361 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:01:56,365 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:02:20,694 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:02:20,694 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:02:20,697 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:02:20,699 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:03:48,480 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:03:48,481 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:03:48,485 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:03:48,492 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:04:04,400 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:04:04,401 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:04:04,403 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:04:04,406 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:04:53,449 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:04:53,449 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:04:53,457 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:04:53,461 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:05:04,564 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:05:04,564 - __main__ - INFO - Session state durumu: {'initialized': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False}
2025-04-12 21:05:04,568 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:05:04,572 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:05:34,631 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:05:34,632 - __main__ - INFO - Session state durumu: {'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False, 'conversation': [], 'workflow': None, 'initialized': False}
2025-04-12 21:05:34,634 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:05:34,636 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:22:05,717 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:22:05,717 - __main__ - INFO - Session state durumu: {'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'form_submitted': False, 'initialized': False}
2025-04-12 21:22:05,719 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:22:05,721 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:29:57,092 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:29:57,092 - __main__ - INFO - Session state durumu: {'conversation': [], 'workflow': None, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': False, 'form_submitted': False}
2025-04-12 21:29:57,094 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:29:57,096 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:30:00,222 - __main__ - INFO - Session state durumu: {'conversation': [], 'form_submitted': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x117f6d880>, 'FormSubmitter:chat_form-💬 Gönder': True, 'user_message': 'merhaba', 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 21:30:00,243 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d0d63e78-fe11-44ad-a451-17e40c799f26'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='95f4e7bc-043d-465d-b886-20fdf4c21866')]...
2025-04-12 21:30:01,761 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 21:30:01,762 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-12 21:30:01,764 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 21:30:01,765 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-12 21:30:01,811 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'merhaba'), ('assistant', 'Merhaba, size nasıl yardımcı olabilirim?')], 'form_submitted': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x117f6d880>, 'FormSubmitter:chat_form-💬 Gönder': False, 'user_message': 'merhaba', 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d0d63e78-fe11-44ad-a451-17e40c799f26'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='95f4e7bc-043d-465d-b886-20fdf4c21866')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "Merhaba, size nas\\u0131l yard\\u0131mc\\u0131 olabilirim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='11720415-1ce9-44dd-a30d-92edc95f69ef')], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False}
2025-04-12 21:59:48,871 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-12 21:59:48,873 - __main__ - INFO - Session state durumu: {'conversation': [], 'initialized': False, 'workflow': None, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-12 21:59:48,875 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-12 21:59:48,877 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-12 21:59:55,425 - __main__ - INFO - Session state durumu: {'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x156f66180>, 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [], 'user_message': 'Hüseyin Altıkulaç listele', 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': True}
2025-04-12 21:59:55,442 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='025381df-70cf-4f8e-bd47-838a012ab1a8'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='84726484-1599-4bed-a2ad-d613a5f5d969')]...
2025-04-12 21:59:57,292 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-12 21:59:57,294 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-12 21:59:57,296 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='025381df-70cf-4f8e-bd47-838a012ab1a8'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='84726484-1599-4bed-a2ad-d613a5f5d969')]
2025-04-12 21:59:57,296 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-12 21:59:57,296 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-12 21:59:57,297 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='025381df-70cf-4f8e-bd47-838a012ab1a8'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='84726484-1599-4bed-a2ad-d613a5f5d969')]
2025-04-12 21:59:57,298 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-12 21:59:57,299 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-12 21:59:57,300 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x15760d8a0>
2025-04-12 21:59:58,041 - services.sheets_service - ERROR - Tablo açılırken hata: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-04-12 21:59:58,041 - services.sheets_service - ERROR - Rezervasyon verileri alınırken hata: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-04-12 21:59:58,042 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-12 21:59:58,044 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-12 21:59:58,045 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-12 21:59:58,092 - __main__ - INFO - Session state durumu: {'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x156f66180>, 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.')], 'user_message': 'Hüseyin Altıkulaç listele', 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='025381df-70cf-4f8e-bd47-838a012ab1a8'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='84726484-1599-4bed-a2ad-d613a5f5d969')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='96d2925e-67ed-421a-8d51-8000f7f01e55')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 0, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='b0f14c12-b893-4786-95f4-fb4d5849799f', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1d0b386c-e0aa-47e8-bb8a-714e71d3f150'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='30abe119-14d8-4b38-ad03-be3bb0f502ee')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': False}
2025-04-13 11:39:15,347 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 11:39:15,348 - __main__ - INFO - Session state durumu: {'workflow': None, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False, 'initialized': False, 'conversation': []}
2025-04-13 11:39:15,350 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 11:39:15,353 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 11:53:48,249 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 11:53:48,250 - __main__ - INFO - Session state durumu: {'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'conversation': [], 'initialized': False, 'form_submitted': False}
2025-04-13 11:53:48,252 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 11:53:48,253 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 11:54:52,102 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True}
2025-04-13 11:54:52,158 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4428932-6a4a-42bb-89af-390abd84f787'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='18ce9f9f-0e08-4490-b9dc-354d364c003b')]...
2025-04-13 11:54:53,876 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 11:54:53,877 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 11:54:53,878 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4428932-6a4a-42bb-89af-390abd84f787'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='18ce9f9f-0e08-4490-b9dc-354d364c003b')]
2025-04-13 11:54:53,878 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 11:54:53,878 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 11:54:53,878 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4428932-6a4a-42bb-89af-390abd84f787'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='18ce9f9f-0e08-4490-b9dc-354d364c003b')]
2025-04-13 11:54:53,878 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 11:54:53,879 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 11:54:53,879 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x133a20900>
2025-04-13 11:54:53,879 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 11:54:58,657 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 11:54:58,659 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 11:54:58,660 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 11:54:58,719 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4428932-6a4a-42bb-89af-390abd84f787'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='18ce9f9f-0e08-4490-b9dc-354d364c003b')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='561830a0-fa33-498d-b53e-1defb766ceef')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b482acb6-3f74-4eab-8f0e-b8fd41966a23', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='61e6d5e0-08b0-443e-8317-2d8f737f0033'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ac5a086-43e7-43cc-a6e7-284f7d9809de')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 11:55:01,698 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'teşekkürler', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4428932-6a4a-42bb-89af-390abd84f787'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='18ce9f9f-0e08-4490-b9dc-354d364c003b')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='561830a0-fa33-498d-b53e-1defb766ceef')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b482acb6-3f74-4eab-8f0e-b8fd41966a23', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='61e6d5e0-08b0-443e-8317-2d8f737f0033'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ac5a086-43e7-43cc-a6e7-284f7d9809de')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True}
2025-04-13 11:55:01,712 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4a2ba98b-1f29-4290-8adb-dd941f59caf7'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='102a171c-1cc2-4cc2-9b02-93a8c611ea58'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='5fdb01e9-8718-4365-92b8-7f14d2810d85')]...
2025-04-13 11:55:02,879 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 11:55:02,880 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 11:55:02,881 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4a2ba98b-1f29-4290-8adb-dd941f59caf7'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='102a171c-1cc2-4cc2-9b02-93a8c611ea58'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='5fdb01e9-8718-4365-92b8-7f14d2810d85')]
2025-04-13 11:55:02,881 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 11:55:02,881 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 11:55:02,882 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4a2ba98b-1f29-4290-8adb-dd941f59caf7'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='102a171c-1cc2-4cc2-9b02-93a8c611ea58'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='5fdb01e9-8718-4365-92b8-7f14d2810d85')]
2025-04-13 11:55:02,883 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 11:55:02,884 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 11:55:02,886 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x133a218a0>
2025-04-13 11:55:02,886 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 11:55:07,588 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 11:55:07,589 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 11:55:07,590 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 11:55:07,637 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'teşekkürler', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'teşekkürler'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4a2ba98b-1f29-4290-8adb-dd941f59caf7'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='102a171c-1cc2-4cc2-9b02-93a8c611ea58'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='5fdb01e9-8718-4365-92b8-7f14d2810d85')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='561830a0-fa33-498d-b53e-1defb766ceef'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='dac6e551-9bc9-4fd6-aed4-1ea11f622aac')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b482acb6-3f74-4eab-8f0e-b8fd41966a23', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='ece26148-387e-4e3f-a2b5-ef298d0ced8c', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='61e6d5e0-08b0-443e-8317-2d8f737f0033'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ac5a086-43e7-43cc-a6e7-284f7d9809de'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='edc5c60f-d78e-4919-b601-8f3bde8eb188'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0496cbf5-7985-4f31-bdec-bbe1dab33914')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 11:55:15,737 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'tamam yeter gördüm', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'teşekkürler'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4a2ba98b-1f29-4290-8adb-dd941f59caf7'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='102a171c-1cc2-4cc2-9b02-93a8c611ea58'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='5fdb01e9-8718-4365-92b8-7f14d2810d85')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='561830a0-fa33-498d-b53e-1defb766ceef'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='dac6e551-9bc9-4fd6-aed4-1ea11f622aac')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b482acb6-3f74-4eab-8f0e-b8fd41966a23', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='ece26148-387e-4e3f-a2b5-ef298d0ced8c', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='61e6d5e0-08b0-443e-8317-2d8f737f0033'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ac5a086-43e7-43cc-a6e7-284f7d9809de'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='edc5c60f-d78e-4919-b601-8f3bde8eb188'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0496cbf5-7985-4f31-bdec-bbe1dab33914')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True}
2025-04-13 11:55:15,754 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='845f38e9-e629-46b0-8a20-668eb1c01140'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='50ecd39c-813b-4979-82d1-ab35b1a10fe2'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='7de4154e-1ccd-4b9c-a570-3a9888e930af'), HumanMessage(content='tamam yeter gördüm', additional_kwargs={}, response_metadata={}, id='7d88a6e4-3035-4148-9de9-e600536a9531')]...
2025-04-13 11:55:17,008 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 11:55:17,008 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 11:55:17,009 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 11:55:17,010 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 11:55:17,054 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'tamam yeter gördüm', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x133536ab0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'teşekkürler'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'tamam yeter gördüm'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='845f38e9-e629-46b0-8a20-668eb1c01140'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='50ecd39c-813b-4979-82d1-ab35b1a10fe2'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='7de4154e-1ccd-4b9c-a570-3a9888e930af'), HumanMessage(content='tamam yeter gördüm', additional_kwargs={}, response_metadata={}, id='7d88a6e4-3035-4148-9de9-e600536a9531')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='561830a0-fa33-498d-b53e-1defb766ceef'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='dac6e551-9bc9-4fd6-aed4-1ea11f622aac'), AIMessage(content='{"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015fka bir konuda yard\\u0131mc\\u0131 olabilir miyim?", "action_type": null, "tool_action": null, "customer_name": null, "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='528dec7e-f58f-4791-a3df-ff7358c88c97')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b482acb6-3f74-4eab-8f0e-b8fd41966a23', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='ece26148-387e-4e3f-a2b5-ef298d0ced8c', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='61e6d5e0-08b0-443e-8317-2d8f737f0033'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ac5a086-43e7-43cc-a6e7-284f7d9809de'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='edc5c60f-d78e-4919-b601-8f3bde8eb188'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0496cbf5-7985-4f31-bdec-bbe1dab33914')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 12:04:05,328 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:04:05,332 - __main__ - INFO - Session state durumu: {'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'conversation': [], 'initialized': False, 'form_submitted': False}
2025-04-13 12:04:05,336 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:04:05,346 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:06:35,660 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x102ec7f20>, 'conversation': [], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True}
2025-04-13 12:06:35,678 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4469a123-8b5f-409a-a54f-49d30dab9819'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c470f833-478a-4dc9-95d3-a1c36a0a50a0')]...
2025-04-13 12:06:37,045 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:06:37,046 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:06:37,047 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4469a123-8b5f-409a-a54f-49d30dab9819'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c470f833-478a-4dc9-95d3-a1c36a0a50a0')]
2025-04-13 12:06:37,048 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:06:37,048 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:06:37,048 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4469a123-8b5f-409a-a54f-49d30dab9819'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c470f833-478a-4dc9-95d3-a1c36a0a50a0')]
2025-04-13 12:06:37,049 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:06:37,049 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:06:37,050 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x133bc9f80>
2025-04-13 12:06:37,050 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:06:37,050 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:06:42,481 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:06:42,482 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:06:42,483 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:06:42,487 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:06:42,547 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x102ec7f20>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4469a123-8b5f-409a-a54f-49d30dab9819'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c470f833-478a-4dc9-95d3-a1c36a0a50a0')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='8fcc89cb-7e90-4f55-a608-5869a27ba6de')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b6bb878e-5df2-43db-addf-de1023a6a88a', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9815eb3d-f45f-40f8-9e08-5b4d576650e3'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1c522ba8-7a77-4625-b228-acb90c96cc80')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 12:09:54,946 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'hüseyin altıkulaç', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x102ec7f20>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4469a123-8b5f-409a-a54f-49d30dab9819'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c470f833-478a-4dc9-95d3-a1c36a0a50a0')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='8fcc89cb-7e90-4f55-a608-5869a27ba6de')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b6bb878e-5df2-43db-addf-de1023a6a88a', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9815eb3d-f45f-40f8-9e08-5b4d576650e3'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1c522ba8-7a77-4625-b228-acb90c96cc80')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True}
2025-04-13 12:09:54,964 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='015469ea-8684-47e0-bb64-f98ab148692a'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c393ce4a-c382-4488-aeb6-902d43377166'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='16cf6346-5ccd-44d2-a9df-4fc3a6f1d20f')]...
2025-04-13 12:09:56,258 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:09:56,259 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:09:56,261 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='015469ea-8684-47e0-bb64-f98ab148692a'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c393ce4a-c382-4488-aeb6-902d43377166'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='16cf6346-5ccd-44d2-a9df-4fc3a6f1d20f')]
2025-04-13 12:09:56,261 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:09:56,261 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:09:56,262 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='015469ea-8684-47e0-bb64-f98ab148692a'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c393ce4a-c382-4488-aeb6-902d43377166'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='16cf6346-5ccd-44d2-a9df-4fc3a6f1d20f')]
2025-04-13 12:09:56,263 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:09:56,264 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:09:56,265 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x133a29440>
2025-04-13 12:09:56,265 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:09:56,265 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:10:00,939 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:10:00,940 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:10:00,941 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:10:00,943 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:10:01,025 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'user_message': 'hüseyin altıkulaç', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x102ec7f20>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'hüseyin altıkulaç'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'initialized': True, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='015469ea-8684-47e0-bb64-f98ab148692a'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='c393ce4a-c382-4488-aeb6-902d43377166'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='16cf6346-5ccd-44d2-a9df-4fc3a6f1d20f')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='8fcc89cb-7e90-4f55-a608-5869a27ba6de'), AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='a87c09a7-2da8-41e6-8eb4-c4f7b5d6ece3')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='b6bb878e-5df2-43db-addf-de1023a6a88a', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='018ad38e-37c5-43bf-9875-a88606480885', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9815eb3d-f45f-40f8-9e08-5b4d576650e3'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1c522ba8-7a77-4625-b228-acb90c96cc80'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e61641e0-5411-4c3c-b0a4-d36cff4ab53e'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fbf7de97-0449-4c00-9f90-dab9efcdd3f1')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 12:10:37,058 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:10:37,058 - __main__ - INFO - Session state durumu: {'form_submitted': False, 'conversation': [], 'initialized': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None}
2025-04-13 12:10:37,061 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:10:37,064 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:10:41,194 - __main__ - INFO - Session state durumu: {'initialized': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True, 'FormSubmitter:chat_form-💬 Gönder': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [], 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x120f5a900>}
2025-04-13 12:10:41,219 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2ce84a61-b05a-42cf-8728-32a3ad8737e0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='bbc76371-c28e-447d-a688-fd4c84381b3b')]...
2025-04-13 12:10:42,512 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:10:42,513 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:10:42,514 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2ce84a61-b05a-42cf-8728-32a3ad8737e0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='bbc76371-c28e-447d-a688-fd4c84381b3b')]
2025-04-13 12:10:42,514 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:10:42,515 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:10:42,515 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2ce84a61-b05a-42cf-8728-32a3ad8737e0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='bbc76371-c28e-447d-a688-fd4c84381b3b')]
2025-04-13 12:10:42,515 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:10:42,516 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:10:42,516 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x130c38a40>
2025-04-13 12:10:42,516 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:10:42,516 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:10:47,223 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:10:47,223 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:10:47,225 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:10:47,228 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:10:47,274 - __main__ - INFO - Session state durumu: {'initialized': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2ce84a61-b05a-42cf-8728-32a3ad8737e0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='bbc76371-c28e-447d-a688-fd4c84381b3b')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='14a2b250-855c-4009-8e65-ec61e4cc9c55')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='103837bd-8db5-418f-92a8-fe6a60113997', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='4c2d1812-3905-44f4-b26f-93eb0ec48201'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='14fa5c9d-e808-4f14-9455-7c76a5a24126')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False, 'FormSubmitter:chat_form-💬 Gönder': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'user_message': 'Hüseyin Altıkulaç listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x120f5a900>}
2025-04-13 12:13:30,563 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:13:30,564 - __main__ - INFO - Session state durumu: {'conversation': [], 'workflow': None, 'form_submitted': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': False}
2025-04-13 12:13:30,567 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:13:30,569 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:13:34,032 - __main__ - INFO - Session state durumu: {'conversation': [], 'form_submitted': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x123af2270>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:13:34,061 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='155ac694-9882-4d06-9372-6f915b2b838c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='79059fd4-30ee-42f2-9a3a-21e5833ad999')]...
2025-04-13 12:13:35,558 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:13:35,559 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:13:35,560 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='155ac694-9882-4d06-9372-6f915b2b838c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='79059fd4-30ee-42f2-9a3a-21e5833ad999')]
2025-04-13 12:13:35,560 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:13:35,560 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:13:35,560 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='155ac694-9882-4d06-9372-6f915b2b838c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='79059fd4-30ee-42f2-9a3a-21e5833ad999')]
2025-04-13 12:13:35,561 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:13:35,561 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:13:35,561 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x106fa1b20>
2025-04-13 12:13:35,561 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:13:35,561 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:13:40,382 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:13:40,382 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:13:40,384 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:13:40,388 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:13:40,435 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'form_submitted': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='155ac694-9882-4d06-9372-6f915b2b838c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='79059fd4-30ee-42f2-9a3a-21e5833ad999')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='b5cf4f14-7677-45de-a445-16abe56917a4')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='1a0c77e9-99f8-4d7f-83e0-fd3bfdd6fc59', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='efbcd391-c780-43af-96de-b8f975d5bf21'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='369ed1d5-85ee-44bc-b024-2689436a219b')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x123af2270>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:14:11,774 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'form_submitted': True, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='155ac694-9882-4d06-9372-6f915b2b838c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='79059fd4-30ee-42f2-9a3a-21e5833ad999')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='b5cf4f14-7677-45de-a445-16abe56917a4')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='1a0c77e9-99f8-4d7f-83e0-fd3bfdd6fc59', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='efbcd391-c780-43af-96de-b8f975d5bf21'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='369ed1d5-85ee-44bc-b024-2689436a219b')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x123af2270>, 'user_message': 'hüseyin altıkulaç', 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:14:11,798 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='834a1bb3-d4dd-408a-8431-ce31d8194e90'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='e0e0f920-cd85-4339-9e04-a64b5b83c594'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f378721e-e4f8-463e-8937-ff3633be093f')]...
2025-04-13 12:14:13,557 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:14:13,557 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:14:13,558 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='834a1bb3-d4dd-408a-8431-ce31d8194e90'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='e0e0f920-cd85-4339-9e04-a64b5b83c594'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f378721e-e4f8-463e-8937-ff3633be093f')]
2025-04-13 12:14:13,558 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:14:13,558 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:14:13,559 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='834a1bb3-d4dd-408a-8431-ce31d8194e90'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='e0e0f920-cd85-4339-9e04-a64b5b83c594'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f378721e-e4f8-463e-8937-ff3633be093f')]
2025-04-13 12:14:13,559 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:14:13,559 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:14:13,560 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x132b814e0>
2025-04-13 12:14:13,560 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:14:13,560 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:14:17,627 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:14:17,627 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:14:17,628 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:14:17,629 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:14:17,673 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'hüseyin altıkulaç'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'form_submitted': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='834a1bb3-d4dd-408a-8431-ce31d8194e90'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='e0e0f920-cd85-4339-9e04-a64b5b83c594'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f378721e-e4f8-463e-8937-ff3633be093f')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='b5cf4f14-7677-45de-a445-16abe56917a4'), AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='c3955a9b-efda-4859-bca8-748fe335e85e')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='1a0c77e9-99f8-4d7f-83e0-fd3bfdd6fc59', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='ca40bc50-3224-4166-a8c4-73f5b24acde5', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='efbcd391-c780-43af-96de-b8f975d5bf21'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='369ed1d5-85ee-44bc-b024-2689436a219b'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='93760277-37b4-43a3-9a60-3030039b0235'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='a4827f0e-7fe2-406b-a843-577cee35d841')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x123af2270>, 'user_message': 'hüseyin altıkulaç', 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:14:39,669 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:14:39,669 - __main__ - INFO - Session state durumu: {'conversation': [], 'workflow': None, 'form_submitted': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': False}
2025-04-13 12:14:39,677 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:14:39,686 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:14:45,390 - __main__ - INFO - Session state durumu: {'conversation': [], 'form_submitted': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x132acc1a0>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:14:45,403 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='72223cf7-0af0-4359-86ff-782c5401acb0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6ba8ea42-d61e-4dfb-a52b-4f27ba3b6997')]...
2025-04-13 12:14:46,571 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:14:46,575 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:14:46,576 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='72223cf7-0af0-4359-86ff-782c5401acb0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6ba8ea42-d61e-4dfb-a52b-4f27ba3b6997')]
2025-04-13 12:14:46,576 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:14:46,576 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:14:46,578 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='72223cf7-0af0-4359-86ff-782c5401acb0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6ba8ea42-d61e-4dfb-a52b-4f27ba3b6997')]
2025-04-13 12:14:46,578 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:14:46,578 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:14:46,578 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x132a207c0>
2025-04-13 12:14:46,579 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:14:46,579 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:14:51,208 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:14:51,208 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:14:51,208 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:14:51,209 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:14:51,255 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'form_submitted': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='72223cf7-0af0-4359-86ff-782c5401acb0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6ba8ea42-d61e-4dfb-a52b-4f27ba3b6997')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='97a657a8-ef83-4303-880e-692e320cd546')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='811537ff-40f2-45ad-8d93-41243610711b', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='37861dc2-cfe0-4ef1-8e1d-6c9f56f1535c'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9bbc9851-fdb2-49b1-9138-b3fb70f4953d')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x132acc1a0>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:15:03,429 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:15:03,431 - __main__ - INFO - Session state durumu: {'conversation': [], 'workflow': None, 'form_submitted': False, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': False}
2025-04-13 12:15:03,439 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:15:03,446 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:15:06,643 - __main__ - INFO - Session state durumu: {'conversation': [], 'form_submitted': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1328caf90>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:15:06,655 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='62562bd5-3b7b-4575-9dcb-9c5722e782e4'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='0617c7f5-3e75-49ce-bb35-e994435306be')]...
2025-04-13 12:15:07,918 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:15:07,920 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:15:07,921 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='62562bd5-3b7b-4575-9dcb-9c5722e782e4'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='0617c7f5-3e75-49ce-bb35-e994435306be')]
2025-04-13 12:15:07,921 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:15:07,921 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:15:07,923 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='62562bd5-3b7b-4575-9dcb-9c5722e782e4'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='0617c7f5-3e75-49ce-bb35-e994435306be')]
2025-04-13 12:15:07,924 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:15:07,925 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:15:07,926 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1328422a0>
2025-04-13 12:15:07,926 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:15:07,926 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:15:12,013 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:15:12,015 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:15:12,016 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:15:12,020 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:15:12,065 - __main__ - INFO - Session state durumu: {'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'form_submitted': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='62562bd5-3b7b-4575-9dcb-9c5722e782e4'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='0617c7f5-3e75-49ce-bb35-e994435306be')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='3d46c375-c08f-4ade-af07-a3bdf72dd514')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='63c2b3d3-aa34-4a0b-beb1-fb81abf108bb', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='f8029150-050d-45ec-b081-2e505555be95'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='4b86e17b-a224-4d1d-80e3-0f1f56ccea88')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1328caf90>, 'user_message': 'Hüseyin Altıkulaç listele', 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:15:32,098 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:15:32,099 - __main__ - INFO - Session state durumu: {'form_submitted': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'initialized': False}
2025-04-13 12:15:32,103 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:15:32,111 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:15:35,511 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12f6b9640>, 'user_message': 'Hüseyin Altıkulaç listele', 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:15:35,540 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d1e2120e-91ab-4395-8a78-68a58914227e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='dca73872-c102-4753-8fcb-377a59d5384b')]...
2025-04-13 12:15:36,794 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:15:36,795 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:15:36,797 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d1e2120e-91ab-4395-8a78-68a58914227e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='dca73872-c102-4753-8fcb-377a59d5384b')]
2025-04-13 12:15:36,797 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:15:36,798 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:15:36,800 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d1e2120e-91ab-4395-8a78-68a58914227e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='dca73872-c102-4753-8fcb-377a59d5384b')]
2025-04-13 12:15:36,801 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:15:36,802 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:15:36,803 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x160838fe0>
2025-04-13 12:15:36,804 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:15:36,804 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:15:41,399 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:15:41,400 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:15:41,401 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:15:41,403 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:15:41,443 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12f6b9640>, 'user_message': 'Hüseyin Altıkulaç listele', 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d1e2120e-91ab-4395-8a78-68a58914227e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='dca73872-c102-4753-8fcb-377a59d5384b')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='c35394ea-7553-48a3-a164-8333f6aa27d2')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='8a67bb23-a705-4f2d-bca8-9187ff093171', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e84d5316-8caa-4891-ae4d-36fbf6bcbbae'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='8b7b10a2-d5e2-4ebc-971f-d21f517ed711')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:16:09,717 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:16:09,717 - __main__ - INFO - Session state durumu: {'form_submitted': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'initialized': False}
2025-04-13 12:16:09,726 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:16:09,730 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:16:13,380 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1606cd1f0>, 'user_message': 'Hüseyin Altıkulaç listele', 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:16:13,388 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0b0b20d6-d27c-4990-a73c-87a8a62930f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='85264bba-872f-4c3e-8c8c-52c2220995bd')]...
2025-04-13 12:16:14,693 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:16:14,693 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:16:14,693 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0b0b20d6-d27c-4990-a73c-87a8a62930f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='85264bba-872f-4c3e-8c8c-52c2220995bd')]
2025-04-13 12:16:14,693 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:16:14,694 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:16:14,695 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0b0b20d6-d27c-4990-a73c-87a8a62930f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='85264bba-872f-4c3e-8c8c-52c2220995bd')]
2025-04-13 12:16:14,695 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:16:14,696 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:16:14,697 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x160838720>
2025-04-13 12:16:14,697 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:16:14,697 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:16:19,694 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:16:19,695 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:16:19,696 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:16:19,697 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:16:19,732 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1606cd1f0>, 'user_message': 'Hüseyin Altıkulaç listele', 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0b0b20d6-d27c-4990-a73c-87a8a62930f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='85264bba-872f-4c3e-8c8c-52c2220995bd')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7370fd71-b917-455c-b58d-b109f58b236a')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='62b0445f-2ff8-455e-a1c2-178da86089c7', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cef0bcf4-be44-4524-a6a2-82a2dd9fa47c'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='51aeeb9f-591f-4f0f-93e8-3cf42ac55f9f')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:16:37,442 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1606cd1f0>, 'user_message': 'h', 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0b0b20d6-d27c-4990-a73c-87a8a62930f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='85264bba-872f-4c3e-8c8c-52c2220995bd')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7370fd71-b917-455c-b58d-b109f58b236a')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='62b0445f-2ff8-455e-a1c2-178da86089c7', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cef0bcf4-be44-4524-a6a2-82a2dd9fa47c'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='51aeeb9f-591f-4f0f-93e8-3cf42ac55f9f')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': True, 'initialized': True}
2025-04-13 12:16:37,457 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7357469e-3d46-4339-8120-3716f81a1646'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='3819e209-1956-4e29-affe-33d8c02ae5e0'), HumanMessage(content='h', additional_kwargs={}, response_metadata={}, id='9b5de1c4-3e27-4d1c-8593-7bf7238c9c2e')]...
2025-04-13 12:16:38,795 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:16:38,796 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:16:38,796 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7357469e-3d46-4339-8120-3716f81a1646'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='3819e209-1956-4e29-affe-33d8c02ae5e0'), HumanMessage(content='h', additional_kwargs={}, response_metadata={}, id='9b5de1c4-3e27-4d1c-8593-7bf7238c9c2e')]
2025-04-13 12:16:38,797 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:16:38,797 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:16:38,797 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7357469e-3d46-4339-8120-3716f81a1646'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='3819e209-1956-4e29-affe-33d8c02ae5e0'), HumanMessage(content='h', additional_kwargs={}, response_metadata={}, id='9b5de1c4-3e27-4d1c-8593-7bf7238c9c2e')]
2025-04-13 12:16:38,798 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:16:38,799 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:16:38,800 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x16097ede0>
2025-04-13 12:16:38,800 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:16:38,800 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:16:43,455 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:16:43,455 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:16:43,457 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:16:43,460 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:16:43,518 - __main__ - INFO - Session state durumu: {'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x1606cd1f0>, 'user_message': 'h', 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n'), ('user', 'h'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')], 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7357469e-3d46-4339-8120-3716f81a1646'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='3819e209-1956-4e29-affe-33d8c02ae5e0'), HumanMessage(content='h', additional_kwargs={}, response_metadata={}, id='9b5de1c4-3e27-4d1c-8593-7bf7238c9c2e')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7370fd71-b917-455c-b58d-b109f58b236a'), AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='f1c35b96-2717-464e-bc89-1d700278b0e7')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='62b0445f-2ff8-455e-a1c2-178da86089c7', role='system'), HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='41819e9c-a045-48a8-bb8d-27c548787bf8', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cef0bcf4-be44-4524-a6a2-82a2dd9fa47c'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='51aeeb9f-591f-4f0f-93e8-3cf42ac55f9f'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1cb31ae1-2881-46f9-afec-a99b9a4cfa89'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='a07b700f-a865-42c2-855f-9a3c9107be0d')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'FormSubmitter:chat_form-💬 Gönder': False, 'initialized': True}
2025-04-13 12:17:38,176 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:17:38,177 - __main__ - INFO - Session state durumu: {'form_submitted': False, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'workflow': None, 'initialized': False}
2025-04-13 12:17:38,183 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:17:38,206 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:17:42,614 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:17:42,615 - __main__ - INFO - Session state durumu: {'initialized': False, 'workflow': None, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 12:17:42,617 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:17:42,619 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:17:46,529 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True, 'user_message': 'Hüseyin Altıkulaç listele', 'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x127fe2fc0>, 'conversation': []}
2025-04-13 12:17:46,556 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='887f30a9-f527-46b2-958a-ed90f36d7cc2'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='660e2444-ae1b-457f-81ff-94f048443f79')]...
2025-04-13 12:17:47,966 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:17:47,968 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:17:47,970 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='887f30a9-f527-46b2-958a-ed90f36d7cc2'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='660e2444-ae1b-457f-81ff-94f048443f79')]
2025-04-13 12:17:47,970 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:17:47,970 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:17:47,972 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='887f30a9-f527-46b2-958a-ed90f36d7cc2'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='660e2444-ae1b-457f-81ff-94f048443f79')]
2025-04-13 12:17:47,973 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:17:47,973 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:17:47,974 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1331f9260>
2025-04-13 12:17:47,974 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 12:17:47,974 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:17:52,063 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 12:17:52,064 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 12:17:52,066 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:17:52,070 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:17:52,117 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='887f30a9-f527-46b2-958a-ed90f36d7cc2'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='660e2444-ae1b-457f-81ff-94f048443f79')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='2b836e6f-6a8f-4731-bb22-a3405637cd7f')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 3, 'total_available': 3, 'limit': 10, 'filter': {'customer_name': None, 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744399225', 'name': 'Hilal Karaman', 'check_in': '2025-07-01', 'check_out': '2025-07-05', 'adults': 2, 'children': 0, 'room_type': 'suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-11 22:20:25'}, {'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='cb5ee7e8-b03c-4e85-a45d-b31a211368e3', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='ff125698-d949-4a9a-8f40-7b26245363bb'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='a07d0713-fe21-4deb-bbd6-04937f7a8311')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False, 'user_message': 'Hüseyin Altıkulaç listele', 'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x127fe2fc0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hilal Karaman - 2025-07-01 → 2025-07-05 - suite oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n3. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')]}
2025-04-13 12:18:14,573 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:18:14,574 - __main__ - INFO - Session state durumu: {'initialized': False, 'workflow': None, 'conversation': [], 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False}
2025-04-13 12:18:14,583 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:18:14,596 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:18:17,579 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'FormSubmitter:chat_form-💬 Gönder': True, 'session_state': {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': True, 'user_message': 'Hüseyin Altıkulaç listele', 'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x107def1a0>, 'conversation': []}
2025-04-13 12:18:17,584 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa6229c6-fb9a-4735-a300-3d4c02890acd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='24d5f1f4-a38c-46c4-add7-9acacd12ad5d')]...
2025-04-13 12:18:18,992 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:18:18,993 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:18:18,994 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa6229c6-fb9a-4735-a300-3d4c02890acd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='24d5f1f4-a38c-46c4-add7-9acacd12ad5d')]
2025-04-13 12:18:18,995 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:18:18,995 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:18:18,997 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa6229c6-fb9a-4735-a300-3d4c02890acd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='24d5f1f4-a38c-46c4-add7-9acacd12ad5d')]
2025-04-13 12:18:18,997 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:18:18,998 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:18:18,999 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x132782c00>
2025-04-13 12:18:18,999 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 12:18:18,999 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:18:18,999 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:18:23,327 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:18:23,327 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 12:18:23,327 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 12:18:23,327 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 12:18:23,328 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:18:23,331 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:18:23,375 - __main__ - INFO - Session state durumu: {'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'FormSubmitter:chat_form-💬 Gönder': False, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa6229c6-fb9a-4735-a300-3d4c02890acd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='24d5f1f4-a38c-46c4-add7-9acacd12ad5d')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin ALTIKULA\\u00c7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='cb55926c-b423-4c41-9c7b-4f894a52fd61')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 2, 'total_available': 2, 'limit': 10, 'filter': {'customer_name': 'Hüseyin ALTIKULAÇ', 'room_type': None, 'exact_match': True}, 'reservations': [{'id': 'RES_1744439446', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-20', 'adults': 2, 'children': 0, 'room_type': 'Standard', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:30:46'}, {'id': 'RES_1744439727', 'name': 'Hüseyin ALTIKULAÇ', 'check_in': '2024-06-15', 'check_out': '2024-06-25', 'adults': 2, 'children': '', 'room_type': 'Suite', 'price': 0, 'status': 'Confirmed', 'created_at': '2025-04-12 09:35:27'}]}", additional_kwargs={}, response_metadata={}, id='d9476ae2-e45a-4825-bdd3-74727707c00d', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='98fc4f3e-48e4-4b7e-842b-ac3ca9457f17'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9fc5bb97-646e-4d93-90e2-58570cae62a5')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'form_submitted': False, 'user_message': 'Hüseyin Altıkulaç listele', 'initialized': True, 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x107def1a0>, 'conversation': [('user', 'Hüseyin Altıkulaç listele'), ('assistant', '📋 Bulunan Rezervasyonlar:\n\n1. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-20 - Standard oda\n2. 📅 Hüseyin ALTIKULAÇ - 2024-06-15 → 2024-06-25 - Suite oda\n')]}
2025-04-13 12:19:27,644 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:19:27,646 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:19:27,648 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:19:39,046 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66987bf1-190f-490b-a4ce-f5a08b9b4dbc'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='41188880-caae-4bac-9ad1-c87bc99e9939')]...
2025-04-13 12:19:40,402 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:19:40,404 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:19:40,406 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66987bf1-190f-490b-a4ce-f5a08b9b4dbc'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='41188880-caae-4bac-9ad1-c87bc99e9939')]
2025-04-13 12:19:40,407 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:19:40,407 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin"}
2025-04-13 12:19:40,408 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66987bf1-190f-490b-a4ce-f5a08b9b4dbc'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='41188880-caae-4bac-9ad1-c87bc99e9939')]
2025-04-13 12:19:40,409 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:19:40,410 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:19:40,411 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1620b9940>
2025-04-13 12:19:40,411 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:19:40,411 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:19:40,411 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:19:44,268 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:19:44,269 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:19:44,269 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:19:44,269 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:19:44,271 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:19:44,274 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:19:50,917 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e858c52-88d0-4c86-ac49-eed6b5a5fe99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='48eebb67-5c9c-45b0-8ba2-acdd6905033e'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='e210cd3f-dbad-4283-9455-88ca12c2b781')]...
2025-04-13 12:19:52,175 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:19:52,178 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:19:52,179 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e858c52-88d0-4c86-ac49-eed6b5a5fe99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='48eebb67-5c9c-45b0-8ba2-acdd6905033e'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='e210cd3f-dbad-4283-9455-88ca12c2b781')]
2025-04-13 12:19:52,179 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:19:52,179 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 12:19:52,181 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e858c52-88d0-4c86-ac49-eed6b5a5fe99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='48eebb67-5c9c-45b0-8ba2-acdd6905033e'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='e210cd3f-dbad-4283-9455-88ca12c2b781')]
2025-04-13 12:19:52,181 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:19:52,182 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:19:52,183 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1620b8ae0>
2025-04-13 12:19:52,183 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:19:52,183 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:19:52,183 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:19:56,210 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:19:56,210 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:19:56,210 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:19:56,211 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:19:56,213 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:19:56,217 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:20:15,525 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9b193797-b215-4391-9d38-1411322a0d99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='f48f4734-0161-49e1-a5be-1814777f00a0'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='0d57cc7e-af74-4673-ab9f-80ea1531355e'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='60af85f8-9b79-4088-9b00-62ab39ba8340')]...
2025-04-13 12:20:16,505 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:20:16,506 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:20:16,507 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9b193797-b215-4391-9d38-1411322a0d99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='f48f4734-0161-49e1-a5be-1814777f00a0'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='0d57cc7e-af74-4673-ab9f-80ea1531355e'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='60af85f8-9b79-4088-9b00-62ab39ba8340')]
2025-04-13 12:20:16,507 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:20:16,508 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 12:20:16,508 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9b193797-b215-4391-9d38-1411322a0d99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='f48f4734-0161-49e1-a5be-1814777f00a0'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='0d57cc7e-af74-4673-ab9f-80ea1531355e'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='60af85f8-9b79-4088-9b00-62ab39ba8340')]
2025-04-13 12:20:16,509 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:20:16,509 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:20:16,510 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1620b91c0>
2025-04-13 12:20:16,510 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:20:16,510 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:20:16,510 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:20:20,026 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:20:20,026 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:20:20,026 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:20:20,027 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:20:20,027 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:20:20,029 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:21:05,321 - __main__ - INFO - Session state durumu: {'user_message': 'hüseyin altıkulaç adına olanları getir', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12fc2d2b0>, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9b193797-b215-4391-9d38-1411322a0d99'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='f48f4734-0161-49e1-a5be-1814777f00a0'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='0d57cc7e-af74-4673-ab9f-80ea1531355e'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='60af85f8-9b79-4088-9b00-62ab39ba8340')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ad954450-c45b-40c5-88bd-7721ad1bea6a'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='771539c2-ce1f-479a-a2d6-bf99d6aaf625'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ac777c92-fa5f-4fcb-a7e2-0faa9902e376')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='9302e41a-06ce-4316-8044-02c22914e53b', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='7f319c76-4430-4830-aefd-f592047f8adb', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='4c42b4b4-d5e6-4cba-a29e-fbebc43f2ffd', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='83eed331-5b14-4ad0-9030-19a6af706884'), HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='9de9eff3-b977-45f9-9637-eb8ab1039353'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='57617baa-d959-4e5e-a221-58c7fdb405c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a9701165-ac69-4eec-9fca-36317684e9a1'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='be147687-fda4-47d0-b81d-e16a0e496b5f'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ebb435ae-5852-4c2d-b8c3-d03f0b3f6cc2')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin isimli rezervasyonları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.')], 'FormSubmitter:chat_form-💬 Gönder': True}
2025-04-13 12:21:05,334 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='235c9c19-1260-4ce1-9d2f-be44d9596e96'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='927c4293-719f-42c7-8045-fc228b8b23f2'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b429332e-92a3-478f-9036-12abde206094'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='a21598ef-63a5-45cb-b9b5-09057236fb38'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='17423c53-72cd-4f24-a72d-5e1fc69019fe')]...
2025-04-13 12:21:06,722 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor, ancak si...
2025-04-13 12:21:06,724 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:21:06,725 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='235c9c19-1260-4ce1-9d2f-be44d9596e96'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='927c4293-719f-42c7-8045-fc228b8b23f2'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b429332e-92a3-478f-9036-12abde206094'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='a21598ef-63a5-45cb-b9b5-09057236fb38'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='17423c53-72cd-4f24-a72d-5e1fc69019fe')]
2025-04-13 12:21:06,725 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:21:06,726 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 12:21:06,727 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='235c9c19-1260-4ce1-9d2f-be44d9596e96'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='927c4293-719f-42c7-8045-fc228b8b23f2'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b429332e-92a3-478f-9036-12abde206094'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='a21598ef-63a5-45cb-b9b5-09057236fb38'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='17423c53-72cd-4f24-a72d-5e1fc69019fe')]
2025-04-13 12:21:06,728 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:21:06,729 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:21:06,730 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x162186c00>
2025-04-13 12:21:06,730 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:21:06,730 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:21:06,730 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:21:11,286 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:21:11,286 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:21:11,286 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:21:11,287 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:21:11,288 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:21:11,292 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor, ancak si...
2025-04-13 12:21:11,356 - __main__ - INFO - Session state durumu: {'user_message': 'hüseyin altıkulaç adına olanları getir', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12fc2d2b0>, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='235c9c19-1260-4ce1-9d2f-be44d9596e96'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='927c4293-719f-42c7-8045-fc228b8b23f2'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b429332e-92a3-478f-9036-12abde206094'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='a21598ef-63a5-45cb-b9b5-09057236fb38'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='17423c53-72cd-4f24-a72d-5e1fc69019fe')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ad954450-c45b-40c5-88bd-7721ad1bea6a'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='771539c2-ce1f-479a-a2d6-bf99d6aaf625'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ac777c92-fa5f-4fcb-a7e2-0faa9902e376'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor, ancak sistemde bu isimde bir rezervasyon bulunamad\\u0131.", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7df89fa1-d611-47aa-a86a-49288140492b')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='9302e41a-06ce-4316-8044-02c22914e53b', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='7f319c76-4430-4830-aefd-f592047f8adb', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='4c42b4b4-d5e6-4cba-a29e-fbebc43f2ffd', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='21e50881-caa5-4291-8f7c-ccf2857d6343', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='83eed331-5b14-4ad0-9030-19a6af706884'), HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='9de9eff3-b977-45f9-9637-eb8ab1039353'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='57617baa-d959-4e5e-a221-58c7fdb405c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a9701165-ac69-4eec-9fca-36317684e9a1'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='be147687-fda4-47d0-b81d-e16a0e496b5f'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ebb435ae-5852-4c2d-b8c3-d03f0b3f6cc2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='662af563-dcc7-4395-97c8-503ce65e0340'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='b1b87771-3028-458f-bcdb-f106c3ecd31c')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin isimli rezervasyonları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.')], 'FormSubmitter:chat_form-💬 Gönder': False}
2025-04-13 12:21:22,193 - __main__ - INFO - Session state durumu: {'user_message': 'hüseyin altıkulaç  listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12fc2d2b0>, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='235c9c19-1260-4ce1-9d2f-be44d9596e96'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='927c4293-719f-42c7-8045-fc228b8b23f2'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b429332e-92a3-478f-9036-12abde206094'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='a21598ef-63a5-45cb-b9b5-09057236fb38'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='17423c53-72cd-4f24-a72d-5e1fc69019fe')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ad954450-c45b-40c5-88bd-7721ad1bea6a'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='771539c2-ce1f-479a-a2d6-bf99d6aaf625'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ac777c92-fa5f-4fcb-a7e2-0faa9902e376'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor, ancak sistemde bu isimde bir rezervasyon bulunamad\\u0131.", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7df89fa1-d611-47aa-a86a-49288140492b')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='9302e41a-06ce-4316-8044-02c22914e53b', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='7f319c76-4430-4830-aefd-f592047f8adb', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='4c42b4b4-d5e6-4cba-a29e-fbebc43f2ffd', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='21e50881-caa5-4291-8f7c-ccf2857d6343', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='83eed331-5b14-4ad0-9030-19a6af706884'), HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='9de9eff3-b977-45f9-9637-eb8ab1039353'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='57617baa-d959-4e5e-a221-58c7fdb405c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a9701165-ac69-4eec-9fca-36317684e9a1'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='be147687-fda4-47d0-b81d-e16a0e496b5f'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ebb435ae-5852-4c2d-b8c3-d03f0b3f6cc2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='662af563-dcc7-4395-97c8-503ce65e0340'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='b1b87771-3028-458f-bcdb-f106c3ecd31c')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'form_submitted': True, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin isimli rezervasyonları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.')], 'FormSubmitter:chat_form-💬 Gönder': True}
2025-04-13 12:21:22,209 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef2ee693-05d0-49b9-871a-03392811a905'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a651d975-1f28-4e92-baa3-3273556f3f31'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='bd2bc4a0-e792-4685-a3bb-08eb623822a6'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='07f6ee20-b8a9-468b-b4d6-3be8297082f0'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='d2e85b25-032c-48d2-a851-1d0d8dd74fd1'), HumanMessage(content='hüseyin altıkulaç  listele', additional_kwargs={}, response_metadata={}, id='6b2aed75-b306-4358-87ce-22a82b54a2cf')]...
2025-04-13 12:21:23,463 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:21:23,464 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:21:23,465 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef2ee693-05d0-49b9-871a-03392811a905'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a651d975-1f28-4e92-baa3-3273556f3f31'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='bd2bc4a0-e792-4685-a3bb-08eb623822a6'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='07f6ee20-b8a9-468b-b4d6-3be8297082f0'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='d2e85b25-032c-48d2-a851-1d0d8dd74fd1'), HumanMessage(content='hüseyin altıkulaç  listele', additional_kwargs={}, response_metadata={}, id='6b2aed75-b306-4358-87ce-22a82b54a2cf')]
2025-04-13 12:21:23,466 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:21:23,466 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 12:21:23,467 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef2ee693-05d0-49b9-871a-03392811a905'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a651d975-1f28-4e92-baa3-3273556f3f31'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='bd2bc4a0-e792-4685-a3bb-08eb623822a6'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='07f6ee20-b8a9-468b-b4d6-3be8297082f0'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='d2e85b25-032c-48d2-a851-1d0d8dd74fd1'), HumanMessage(content='hüseyin altıkulaç  listele', additional_kwargs={}, response_metadata={}, id='6b2aed75-b306-4358-87ce-22a82b54a2cf')]
2025-04-13 12:21:23,467 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:21:23,468 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:21:23,469 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x105101c60>
2025-04-13 12:21:23,469 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:21:23,469 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:21:23,469 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:21:28,065 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:21:28,066 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:21:28,066 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:21:28,066 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:21:28,068 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:21:28,071 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:21:28,130 - __main__ - INFO - Session state durumu: {'user_message': 'hüseyin altıkulaç  listele', 'workflow': <langgraph.graph.state.CompiledStateGraph object at 0x12fc2d2b0>, 'session_state': {'research_question': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ef2ee693-05d0-49b9-871a-03392811a905'), HumanMessage(content='Hüseyin isimli rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a651d975-1f28-4e92-baa3-3273556f3f31'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='bd2bc4a0-e792-4685-a3bb-08eb623822a6'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='07f6ee20-b8a9-468b-b4d6-3be8297082f0'), HumanMessage(content='hüseyin altıkulaç adına olanları getir', additional_kwargs={}, response_metadata={}, id='d2e85b25-032c-48d2-a851-1d0d8dd74fd1'), HumanMessage(content='hüseyin altıkulaç  listele', additional_kwargs={}, response_metadata={}, id='6b2aed75-b306-4358-87ce-22a82b54a2cf')], 'understanding_response': [], 'reservation_response': [AIMessage(content='{"response": "H\\u00fcseyin ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ad954450-c45b-40c5-88bd-7721ad1bea6a'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='771539c2-ce1f-479a-a2d6-bf99d6aaf625'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='ac777c92-fa5f-4fcb-a7e2-0faa9902e376'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor, ancak sistemde bu isimde bir rezervasyon bulunamad\\u0131.", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='7df89fa1-d611-47aa-a86a-49288140492b'), AIMessage(content='{"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reservations", "tool_action": "fetch_reservations_tool", "customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7", "check_in_date": null, "check_out_date": null, "room_type": null, "adults": null, "children": null, "reservation_id": null}', additional_kwargs={}, response_metadata={}, id='6b162505-008f-4682-84e5-6ce25611a81b')], 'support_response': [], 'reservations_result': [HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='9302e41a-06ce-4316-8044-02c22914e53b', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='7f319c76-4430-4830-aefd-f592047f8adb', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='4c42b4b4-d5e6-4cba-a29e-fbebc43f2ffd', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='21e50881-caa5-4291-8f7c-ccf2857d6343', role='system'), HumanMessage(content="{'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match': True}, 'message': 'Hiç rezervasyon bulunamadı.'}", additional_kwargs={}, response_metadata={}, id='c01765f4-bcb3-4c27-af85-5750ede803c4', role='system')], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='83eed331-5b14-4ad0-9030-19a6af706884'), HumanMessage(content='{"customer_name": "H\\u00fcseyin"}', additional_kwargs={}, response_metadata={}, id='9de9eff3-b977-45f9-9637-eb8ab1039353'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='57617baa-d959-4e5e-a221-58c7fdb405c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a9701165-ac69-4eec-9fca-36317684e9a1'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='be147687-fda4-47d0-b81d-e16a0e496b5f'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ebb435ae-5852-4c2d-b8c3-d03f0b3f6cc2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='662af563-dcc7-4395-97c8-503ce65e0340'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='b1b87771-3028-458f-bcdb-f106c3ecd31c'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7e11df12-2e6f-4790-b3fb-898a349a1ad3'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='e94c56f9-18d6-46a4-8108-b934dede4dea')], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}, 'initialized': True, 'form_submitted': False, 'FormSubmitter:chat_form-🔄 Yeni Sohbet': False, 'conversation': [('user', 'Hüseyin isimli rezervasyonları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç adına olanları getir'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.'), ('user', 'hüseyin altıkulaç  listele'), ('assistant', 'Aradığınız kriterlere uygun rezervasyon bulunamadı.')], 'FormSubmitter:chat_form-💬 Gönder': False}
2025-04-13 12:21:57,685 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:21:57,688 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:21:57,693 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:22:01,244 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e39c1d4-f24b-48d1-9bd5-0ed8ebb87813'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='68ebfed8-35c1-49f9-9c49-1fb1841a1ab7')]...
2025-04-13 12:22:02,423 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:22:02,426 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:22:02,428 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e39c1d4-f24b-48d1-9bd5-0ed8ebb87813'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='68ebfed8-35c1-49f9-9c49-1fb1841a1ab7')]
2025-04-13 12:22:02,429 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:22:02,429 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:22:02,430 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0e39c1d4-f24b-48d1-9bd5-0ed8ebb87813'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='68ebfed8-35c1-49f9-9c49-1fb1841a1ab7')]
2025-04-13 12:22:02,430 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:22:02,431 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:22:02,432 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13ebf1b20>
2025-04-13 12:22:02,432 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 12:22:02,433 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:22:02,433 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:22:07,135 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:22:07,135 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 12:22:07,135 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 12:22:07,135 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 12:22:07,136 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:22:07,136 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:22:08,295 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:22:08,301 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:22:08,310 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:22:18,076 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4f095b5-c9af-4d5f-b4b3-2db88f2f02d7'), HumanMessage(content='Hüseyin adına varmı rezervasyon', additional_kwargs={}, response_metadata={}, id='2bdf7f29-10f6-484d-a764-c0499ba90517')]...
2025-04-13 12:22:19,451 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:22:19,452 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:22:19,453 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4f095b5-c9af-4d5f-b4b3-2db88f2f02d7'), HumanMessage(content='Hüseyin adına varmı rezervasyon', additional_kwargs={}, response_metadata={}, id='2bdf7f29-10f6-484d-a764-c0499ba90517')]
2025-04-13 12:22:19,453 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:22:19,453 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin"}
2025-04-13 12:22:19,454 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4f095b5-c9af-4d5f-b4b3-2db88f2f02d7'), HumanMessage(content='Hüseyin adına varmı rezervasyon', additional_kwargs={}, response_metadata={}, id='2bdf7f29-10f6-484d-a764-c0499ba90517')]
2025-04-13 12:22:19,454 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:22:19,455 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:22:19,455 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x105576c00>
2025-04-13 12:22:19,455 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:22:19,455 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:22:19,456 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:22:24,031 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:22:24,031 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:22:24,031 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:22:24,031 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:22:24,031 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:22:24,032 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:22:31,974 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2bb63d13-60b7-4263-90cf-1abf7e78bd43'), HumanMessage(content='Hüseyin adına varmı rezervasyon', additional_kwargs={}, response_metadata={}, id='c8c51efa-9581-4b76-9233-b475d2386aa3'), HumanMessage(content='otel bilgilerini ver bana', additional_kwargs={}, response_metadata={}, id='e7f97b70-04b7-48bf-b9a8-adcfdb20b883')]...
2025-04-13 12:22:33,375 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Alt\u0131kula\u00e7 Otel, Malatya Merkez'de bulunmaktad\u0131r. Restoran, toplant\u013...
2025-04-13 12:22:33,375 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:22:33,376 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:22:33,379 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Alt\u0131kula\u00e7 Otel, Malatya Merkez'de bulunmaktad\u0131r. Restoran, toplant\u013...
2025-04-13 12:22:33,429 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-13 12:26:53,049 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-13 12:26:53,063 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='271c3ef7-9aae-4a68-828c-c90c3a922cf1'), HumanMessage(content='Hüseyin adına varmı rezervasyon', additional_kwargs={}, response_metadata={}, id='696021d0-a091-42dc-838e-a9bd7af5bae1'), HumanMessage(content='otel bilgilerini ver bana', additional_kwargs={}, response_metadata={}, id='230910cb-b4c6-4ea0-acc5-c74c3d8056a0'), HumanMessage(content='otel bilgilerini ver', additional_kwargs={}, response_metadata={}, id='d58276eb-60e0-42eb-9b34-fa0a259faac0')]...
2025-04-13 12:26:55,399 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! Invalid \\escape: line 1 column 118 (char 117)"}...
2025-04-13 12:26:55,400 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:26:55,401 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:26:55,405 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! Invalid \\escape: line 1 column 118 (char 117)"}...
2025-04-13 12:26:57,794 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:26:57,798 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:26:57,801 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:27:05,017 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='24423a56-15d5-4faf-b9ab-21328d2fc42b'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='8a432980-3d55-4d25-b84e-80688ab906a7')]...
2025-04-13 12:27:07,178 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:27:07,179 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:27:07,180 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='24423a56-15d5-4faf-b9ab-21328d2fc42b'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='8a432980-3d55-4d25-b84e-80688ab906a7')]
2025-04-13 12:27:07,180 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:27:07,180 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin"}
2025-04-13 12:27:07,180 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='24423a56-15d5-4faf-b9ab-21328d2fc42b'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='8a432980-3d55-4d25-b84e-80688ab906a7')]
2025-04-13 12:27:07,181 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:27:07,181 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:27:07,182 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13eb4a480>
2025-04-13 12:27:07,182 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:27:07,182 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:27:07,182 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:27:16,691 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:27:16,692 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:27:16,692 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:27:16,692 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:27:16,693 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:27:16,696 - __main__ - INFO - Son rezervasyon yanıtı: {'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match...
2025-04-13 12:27:19,850 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aabfc5cc-3a66-49b2-a764-3f1450d0b24d'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='32edd31c-b4a2-459f-ae3a-7c5c2f89bd94'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='28974675-459b-4c15-8d21-336165b4ca49')]...
2025-04-13 12:27:22,852 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:27:22,852 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:27:22,852 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aabfc5cc-3a66-49b2-a764-3f1450d0b24d'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='32edd31c-b4a2-459f-ae3a-7c5c2f89bd94'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='28974675-459b-4c15-8d21-336165b4ca49')]
2025-04-13 12:27:22,852 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:27:22,853 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin"}
2025-04-13 12:27:22,853 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='aabfc5cc-3a66-49b2-a764-3f1450d0b24d'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='32edd31c-b4a2-459f-ae3a-7c5c2f89bd94'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='28974675-459b-4c15-8d21-336165b4ca49')]
2025-04-13 12:27:22,853 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:27:22,853 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:27:22,853 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x10559ccc0>
2025-04-13 12:27:22,853 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:27:22,853 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:27:22,853 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:27:30,220 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:27:30,220 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:27:30,220 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:27:30,220 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:27:30,221 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:27:30,222 - __main__ - INFO - Son rezervasyon yanıtı: {'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match...
2025-04-13 12:27:34,939 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02acbdb0-0593-4218-adae-93075abd3b80'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='98358009-52fb-4cd8-9a49-09cb98e09fca'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='0d009b47-f2a3-406e-bdda-c58dbb62ca46'), HumanMessage(content='sen nasılsın', additional_kwargs={}, response_metadata={}, id='fa50457f-faa9-4497-a093-eef971d0be79')]...
2025-04-13 12:27:36,160 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserv...
2025-04-13 12:27:36,161 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:27:36,161 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02acbdb0-0593-4218-adae-93075abd3b80'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='98358009-52fb-4cd8-9a49-09cb98e09fca'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='0d009b47-f2a3-406e-bdda-c58dbb62ca46'), HumanMessage(content='sen nasılsın', additional_kwargs={}, response_metadata={}, id='fa50457f-faa9-4497-a093-eef971d0be79')]
2025-04-13 12:27:36,161 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:27:36,161 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin"}
2025-04-13 12:27:36,162 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02acbdb0-0593-4218-adae-93075abd3b80'), HumanMessage(content='Hüseyin listele', additional_kwargs={}, response_metadata={}, id='98358009-52fb-4cd8-9a49-09cb98e09fca'), HumanMessage(content='nasılsın havalar nasıl orada', additional_kwargs={}, response_metadata={}, id='0d009b47-f2a3-406e-bdda-c58dbb62ca46'), HumanMessage(content='sen nasılsın', additional_kwargs={}, response_metadata={}, id='fa50457f-faa9-4497-a093-eef971d0be79')]
2025-04-13 12:27:36,163 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:27:36,164 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:27:36,164 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13ee97d80>
2025-04-13 12:27:36,164 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin, Tam Eşleşme: True
2025-04-13 12:27:36,164 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:27:36,164 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:27:40,666 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:27:40,666 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:27:40,667 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:27:40,667 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:27:40,672 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:27:40,678 - __main__ - INFO - Son rezervasyon yanıtı: {'success': True, 'count': 0, 'filter': {'customer_name': 'Hüseyin', 'room_type': None, 'exact_match...
2025-04-13 12:28:18,660 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:28:18,667 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:28:18,675 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:28:28,058 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f0d1e0e2-bc9f-4e87-b1e1-9fe4759c569c'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='88d0af21-3363-4ac8-a7b8-675d19dbdda1')]...
2025-04-13 12:28:29,398 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:28:29,398 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:28:29,399 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f0d1e0e2-bc9f-4e87-b1e1-9fe4759c569c'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='88d0af21-3363-4ac8-a7b8-675d19dbdda1')]
2025-04-13 12:28:29,399 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:28:29,400 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f0d1e0e2-bc9f-4e87-b1e1-9fe4759c569c'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='88d0af21-3363-4ac8-a7b8-675d19dbdda1')]
2025-04-13 12:28:29,400 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:28:29,401 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:28:29,402 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:28:29,404 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:28:36,128 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6628e1e6-e427-46d2-a39a-4f4125d97c69'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e5ec898c-aaf5-4dde-bcd0-28273e13ae18'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='94c664b0-bcc4-43cd-8afe-042cc8cf9cbc')]...
2025-04-13 12:28:39,853 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:28:39,854 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:28:39,856 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6628e1e6-e427-46d2-a39a-4f4125d97c69'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e5ec898c-aaf5-4dde-bcd0-28273e13ae18'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='94c664b0-bcc4-43cd-8afe-042cc8cf9cbc')]
2025-04-13 12:28:39,856 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:28:39,858 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6628e1e6-e427-46d2-a39a-4f4125d97c69'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e5ec898c-aaf5-4dde-bcd0-28273e13ae18'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='94c664b0-bcc4-43cd-8afe-042cc8cf9cbc')]
2025-04-13 12:28:39,859 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:28:39,859 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:28:39,860 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:28:39,862 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:28:47,179 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f5e1cef6-ace1-4f84-8dd3-0f494fe5a5a7'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='4f4180c0-4cc0-4581-a01c-3c735c62a901'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='55ef232b-c9be-47be-b3a9-669c7952467f'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='856d8c05-81a5-4fb4-9bb7-480208935616')]...
2025-04-13 12:28:48,247 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:28:48,249 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:28:48,251 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f5e1cef6-ace1-4f84-8dd3-0f494fe5a5a7'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='4f4180c0-4cc0-4581-a01c-3c735c62a901'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='55ef232b-c9be-47be-b3a9-669c7952467f'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='856d8c05-81a5-4fb4-9bb7-480208935616')]
2025-04-13 12:28:48,251 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:28:48,253 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f5e1cef6-ace1-4f84-8dd3-0f494fe5a5a7'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='4f4180c0-4cc0-4581-a01c-3c735c62a901'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='55ef232b-c9be-47be-b3a9-669c7952467f'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='856d8c05-81a5-4fb4-9bb7-480208935616')]
2025-04-13 12:28:48,253 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:28:48,254 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:28:48,255 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:28:48,257 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi oda tipini ve tarihleri \u00f6\u011frenmek istiyorsunuz?", "action_type": "creat...
2025-04-13 12:29:02,788 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b9107bfb-110b-4a8e-9669-bbdd6b769cba'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='3f1da906-cdae-49e8-a22c-b96e78e9c102'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='51463119-37e0-46d1-9542-c0ae6f65ec67'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='8034bc0f-3fb9-4691-9add-ac8a1dbac5d8'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='f976bdc0-45f3-48fa-9844-3d9e3b75446e')]...
2025-04-13 12:29:04,542 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\\u00e7in hangi tarihler aras\\u0131nda rezervasyon yapmak istedi\\u011fini...
2025-04-13 12:29:04,543 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:29:04,546 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b9107bfb-110b-4a8e-9669-bbdd6b769cba'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='3f1da906-cdae-49e8-a22c-b96e78e9c102'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='51463119-37e0-46d1-9542-c0ae6f65ec67'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='8034bc0f-3fb9-4691-9add-ac8a1dbac5d8'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='f976bdc0-45f3-48fa-9844-3d9e3b75446e')]
2025-04-13 12:29:04,547 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:29:04,547 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b9107bfb-110b-4a8e-9669-bbdd6b769cba'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='3f1da906-cdae-49e8-a22c-b96e78e9c102'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='51463119-37e0-46d1-9542-c0ae6f65ec67'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='8034bc0f-3fb9-4691-9add-ac8a1dbac5d8'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='f976bdc0-45f3-48fa-9844-3d9e3b75446e')]
2025-04-13 12:29:04,547 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:29:04,548 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:29:04,548 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:29:04,549 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\\u00e7in hangi tarihler aras\\u0131nda rezervasyon yapmak istedi\\u011fini...
2025-04-13 12:29:10,713 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9caf0565-3b07-4692-b992-ec3666d53e44'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='bcd909cb-3537-41df-a6c8-70f232a02cbc'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='9bfa6086-c8ec-463a-a7c6-c26f814e08c1'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='336064ec-d36c-400e-b46f-042a9ef53642'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='ab61f9af-5373-4811-a26c-67a30b269c7c'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='42e7683c-3cb8-47bd-b3c6-b785f0b33c7e')]...
2025-04-13 12:29:12,253 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli rezervasyonunuzun ka\\u00e7 g\\u00fcn s\\...
2025-04-13 12:29:12,254 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:29:12,255 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9caf0565-3b07-4692-b992-ec3666d53e44'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='bcd909cb-3537-41df-a6c8-70f232a02cbc'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='9bfa6086-c8ec-463a-a7c6-c26f814e08c1'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='336064ec-d36c-400e-b46f-042a9ef53642'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='ab61f9af-5373-4811-a26c-67a30b269c7c'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='42e7683c-3cb8-47bd-b3c6-b785f0b33c7e')]
2025-04-13 12:29:12,255 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:29:12,257 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9caf0565-3b07-4692-b992-ec3666d53e44'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='bcd909cb-3537-41df-a6c8-70f232a02cbc'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='9bfa6086-c8ec-463a-a7c6-c26f814e08c1'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='336064ec-d36c-400e-b46f-042a9ef53642'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='ab61f9af-5373-4811-a26c-67a30b269c7c'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='42e7683c-3cb8-47bd-b3c6-b785f0b33c7e')]
2025-04-13 12:29:12,258 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:29:12,258 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:29:12,259 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:29:12,262 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli rezervasyonunuzun ka\\u00e7 g\\u00fcn s\\...
2025-04-13 12:29:16,046 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3004ffd5-d7f9-4ce3-a7f2-2ed78802646d'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='a3cfc747-23a8-43da-afbb-c6faea24e6d8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='7b3f8365-b168-4e52-a023-cfb2eb2b2cae'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='12f651ea-7e7b-479d-afea-937f1b1b1c48'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='3a80ef31-08ab-46ba-bb7a-0c9b88609c0d'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='a4bcafc0-ee07-4399-a301-839cf68b21c7'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='1ec1cde3-2bb2-4b06-98d9-927e7e37706b')]...
2025-04-13 12:29:22,049 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli rezervasyonunuzun ka\\u00e7 g\\u00fcn s\\...
2025-04-13 12:29:22,051 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:29:22,053 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3004ffd5-d7f9-4ce3-a7f2-2ed78802646d'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='a3cfc747-23a8-43da-afbb-c6faea24e6d8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='7b3f8365-b168-4e52-a023-cfb2eb2b2cae'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='12f651ea-7e7b-479d-afea-937f1b1b1c48'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='3a80ef31-08ab-46ba-bb7a-0c9b88609c0d'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='a4bcafc0-ee07-4399-a301-839cf68b21c7'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='1ec1cde3-2bb2-4b06-98d9-927e7e37706b')]
2025-04-13 12:29:22,053 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:29:22,054 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3004ffd5-d7f9-4ce3-a7f2-2ed78802646d'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='a3cfc747-23a8-43da-afbb-c6faea24e6d8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='7b3f8365-b168-4e52-a023-cfb2eb2b2cae'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='12f651ea-7e7b-479d-afea-937f1b1b1c48'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='3a80ef31-08ab-46ba-bb7a-0c9b88609c0d'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='a4bcafc0-ee07-4399-a301-839cf68b21c7'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='1ec1cde3-2bb2-4b06-98d9-927e7e37706b')]
2025-04-13 12:29:22,055 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:29:22,056 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:29:22,057 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:29:22,059 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli rezervasyonunuzun ka\\u00e7 g\\u00fcn s\\...
2025-04-13 12:29:26,877 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1d18da7a-c35a-466d-be64-2da236c29708'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='f3081ded-84b7-42f2-8060-fef2c1638ba8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='4b228515-aac8-4d0e-86f7-9dcf63bb0286'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='b7ec65c9-40c2-4e8a-b0ab-cb2986c7ae88'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='89de9a3a-6774-49cb-b905-d3eb4da5039f'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='0d445e58-3d18-4491-b38d-52603a67b336'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='2906cabe-797d-48dd-8ffb-4e024cef509a'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='df377794-fccd-4a93-a083-535480346ab9')]...
2025-04-13 12:29:28,487 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli 2 g\\u00fcnl\\u00fck rezervasyonunuzun fi...
2025-04-13 12:29:28,492 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 12:29:28,495 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1d18da7a-c35a-466d-be64-2da236c29708'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='f3081ded-84b7-42f2-8060-fef2c1638ba8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='4b228515-aac8-4d0e-86f7-9dcf63bb0286'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='b7ec65c9-40c2-4e8a-b0ab-cb2986c7ae88'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='89de9a3a-6774-49cb-b905-d3eb4da5039f'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='0d445e58-3d18-4491-b38d-52603a67b336'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='2906cabe-797d-48dd-8ffb-4e024cef509a'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='df377794-fccd-4a93-a083-535480346ab9')]
2025-04-13 12:29:28,495 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 12:29:28,496 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1d18da7a-c35a-466d-be64-2da236c29708'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='f3081ded-84b7-42f2-8060-fef2c1638ba8'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='4b228515-aac8-4d0e-86f7-9dcf63bb0286'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='b7ec65c9-40c2-4e8a-b0ab-cb2986c7ae88'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='89de9a3a-6774-49cb-b905-d3eb4da5039f'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='0d445e58-3d18-4491-b38d-52603a67b336'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='2906cabe-797d-48dd-8ffb-4e024cef509a'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='df377794-fccd-4a93-a083-535480346ab9')]
2025-04-13 12:29:28,497 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:29:28,497 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:29:28,498 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:29:28,505 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Suite oda i\\u00e7in 5 Haziran giri\\u015fli 2 g\\u00fcnl\\u00fck rezervasyonunuzun fi...
2025-04-13 12:29:28,656 - __main__ - ERROR - Eval hatası: leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers (<string>, line 1)
2025-04-13 12:29:52,767 - __main__ - ERROR - Eval hatası: leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers (<string>, line 1)
2025-04-13 12:29:52,775 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0966223e-57dd-4f25-8071-c049a20ed30a'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e538d9e0-f267-4a53-926b-b57d250e5e50'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='cdaf7eac-1187-4442-94c2-6db0b75cf2d4'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='83ddb121-eed8-45fd-a8a8-982b9702776d'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='183ad581-cf49-435b-af3d-553414923c31'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='75e42dc6-e8f9-45d2-a750-c716986833a9'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='3223df82-0d03-45cf-9143-f10634f00ae1'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='1fa77e92-45eb-4c05-b56b-6e152b7f7ce9'), HumanMessage(content='hüseyin adına rezervasyon varmı bakalım', additional_kwargs={}, response_metadata={}, id='091ed5d1-7f3b-410b-83fa-a0fbeb092e2c')]...
2025-04-13 12:29:54,067 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_rese...
2025-04-13 12:29:54,068 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:29:54,068 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0966223e-57dd-4f25-8071-c049a20ed30a'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e538d9e0-f267-4a53-926b-b57d250e5e50'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='cdaf7eac-1187-4442-94c2-6db0b75cf2d4'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='83ddb121-eed8-45fd-a8a8-982b9702776d'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='183ad581-cf49-435b-af3d-553414923c31'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='75e42dc6-e8f9-45d2-a750-c716986833a9'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='3223df82-0d03-45cf-9143-f10634f00ae1'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='1fa77e92-45eb-4c05-b56b-6e152b7f7ce9'), HumanMessage(content='hüseyin adına rezervasyon varmı bakalım', additional_kwargs={}, response_metadata={}, id='091ed5d1-7f3b-410b-83fa-a0fbeb092e2c')]
2025-04-13 12:29:54,068 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:29:54,068 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin"}
2025-04-13 12:29:54,069 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0966223e-57dd-4f25-8071-c049a20ed30a'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='e538d9e0-f267-4a53-926b-b57d250e5e50'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='cdaf7eac-1187-4442-94c2-6db0b75cf2d4'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='83ddb121-eed8-45fd-a8a8-982b9702776d'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='183ad581-cf49-435b-af3d-553414923c31'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='75e42dc6-e8f9-45d2-a750-c716986833a9'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='3223df82-0d03-45cf-9143-f10634f00ae1'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='1fa77e92-45eb-4c05-b56b-6e152b7f7ce9'), HumanMessage(content='hüseyin adına rezervasyon varmı bakalım', additional_kwargs={}, response_metadata={}, id='091ed5d1-7f3b-410b-83fa-a0fbeb092e2c')]
2025-04-13 12:29:54,069 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:29:54,069 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:29:54,069 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13eef3f60>
2025-04-13 12:29:54,069 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin, Tam Eşleşme: True
2025-04-13 12:29:54,069 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:29:54,070 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:30:02,067 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:30:02,067 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 12:30:02,067 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 12:30:02,068 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 12:30:02,069 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:30:02,071 - __main__ - INFO - Son rezervasyon yanıtı: {'success': True, 'count': 0, 'filter': {'customer_name': 'H\\u00fcseyin', 'room_type': None, 'exact...
2025-04-13 12:30:09,265 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='53b70109-b1d8-4175-9e48-036fa084ff11'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='49f64c37-a1d5-4e05-98ba-2f8fb1d53d89'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='557d2d1e-9696-47f3-a2ef-8ac3d34c268d'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='fdd736fe-ee5e-48d1-bd37-b8bdbe8a8d53'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='b2f4998c-a639-4a9d-b739-ec5719215ebd'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='13e00d00-284b-4a07-a3f1-e3a59edcefe2'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='2f87b1fe-9510-4477-b117-4b8f4b5d1a2e'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='42a98b78-fee7-4a37-95d0-f5f71e20f32b'), HumanMessage(content='hüseyin adına rezervasyon varmı bakalım', additional_kwargs={}, response_metadata={}, id='5f8ad83b-be24-438b-bd77-c9e0bff741ba'), HumanMessage(content='tamam otelde kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='12ded14a-ea44-43ee-b112-d6c07f816c82')]...
2025-04-13 12:30:11,143 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Evet, otelimizde kahvalt\\u0131 hizmeti bulunmaktad\\u0131r. Kahvalt\\u0131 saatleri 0...
2025-04-13 12:30:11,144 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:30:11,145 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:30:11,147 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Evet, otelimizde kahvalt\\u0131 hizmeti bulunmaktad\\u0131r. Kahvalt\\u0131 saatleri 0...
2025-04-13 12:30:20,746 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ebf14fb0-48b5-46a2-8962-46a642ee3364'), HumanMessage(content='2 kişil oda fiyatları nedir', additional_kwargs={}, response_metadata={}, id='779b94b3-6fb0-456f-ad3c-54e1de031b39'), HumanMessage(content='suite', additional_kwargs={}, response_metadata={}, id='bf157d93-c781-4803-9759-4325f6d0b7ba'), HumanMessage(content='Suite oda fiyat', additional_kwargs={}, response_metadata={}, id='3b634f47-9f79-4feb-8b9c-d89d8047073b'), HumanMessage(content='Suite oda herhangi bir tarih olabilir 5 haziran mesela', additional_kwargs={}, response_metadata={}, id='2690894d-263b-4fec-a809-c0c2dd1f5c76'), HumanMessage(content='fiyat nedir', additional_kwargs={}, response_metadata={}, id='da5ee2ca-2ab1-48da-bde4-693d72c4b42b'), HumanMessage(content='2', additional_kwargs={}, response_metadata={}, id='067ce946-784a-4a4c-b41d-1f5d733b8776'), HumanMessage(content='2 gün', additional_kwargs={}, response_metadata={}, id='ed9d9f96-2438-4791-9046-6d7bf5e8640f'), HumanMessage(content='hüseyin adına rezervasyon varmı bakalım', additional_kwargs={}, response_metadata={}, id='2bbb7b33-267f-4889-8b67-641f4c971b5a'), HumanMessage(content='tamam otelde kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='1728ba75-b806-4f3d-a135-5c67a92161b1'), HumanMessage(content='otelde kahvaltı sroyuroum', additional_kwargs={}, response_metadata={}, id='03e22e96-cc9a-4dc4-92e3-7a6ec15eeb31')]...
2025-04-13 12:30:22,115 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Evet, otelimizde kahvalt\u0131 hizmeti bulunmaktad\u0131r. Kahvalt\u0131 saatleri 07:0...
2025-04-13 12:30:22,115 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:30:22,116 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:30:22,117 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Evet, otelimizde kahvalt\u0131 hizmeti bulunmaktad\u0131r. Kahvalt\u0131 saatleri 07:0...
2025-04-13 12:30:55,009 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:30:55,014 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:30:55,021 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:30:57,958 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='42febc0b-749a-4ea3-8556-c1bc9824a98b'), HumanMessage(content='merhaba ', additional_kwargs={}, response_metadata={}, id='2ad90c44-b589-4f45-81b4-361081414814')]...
2025-04-13 12:30:59,544 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:30:59,546 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:30:59,547 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:31:31,130 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:31:31,140 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:31:31,148 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:32:32,651 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cb92a816-e4e0-4618-987a-793f1659fe99'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='3c4446b2-d2ae-4fdb-9afb-e79af02e821f')]...
2025-04-13 12:32:35,939 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:32:35,940 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:32:35,941 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:37:10,244 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:37:10,258 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:37:10,270 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:40:43,567 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:40:43,577 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:40:43,580 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:40:46,588 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8c287e57-a9f3-463e-8bd2-f2716398d4c4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='bd9a16be-0072-4052-acee-351522c1e71d')]...
2025-04-13 12:40:48,371 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:40:48,371 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:40:48,372 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:40:48,374 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:40:54,975 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c9894b69-b322-4ba2-97e1-87c930c52ad5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9795d54a-d36a-4abc-9de3-95f0a13cb150'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='c90d5355-48e1-4e87-b250-e8ed1696f555')]...
2025-04-13 12:40:56,257 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi isimle rezervasyonunuzu kontrol etmek istersiniz?", "action_type": "list_reserva...
2025-04-13 12:40:56,258 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:40:56,259 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c9894b69-b322-4ba2-97e1-87c930c52ad5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9795d54a-d36a-4abc-9de3-95f0a13cb150'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='c90d5355-48e1-4e87-b250-e8ed1696f555')]
2025-04-13 12:40:56,260 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:40:56,261 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c9894b69-b322-4ba2-97e1-87c930c52ad5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9795d54a-d36a-4abc-9de3-95f0a13cb150'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='c90d5355-48e1-4e87-b250-e8ed1696f555')]
2025-04-13 12:40:56,262 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 12:40:56,262 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 12:40:56,263 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:40:56,265 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi isimle rezervasyonunuzu kontrol etmek istersiniz?", "action_type": "list_reserva...
2025-04-13 12:41:00,751 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='74426e5a-525f-4da2-a03f-abad80805e61'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='472bc11b-88dc-4186-b127-0a82e329d9a9'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='183fd8b4-b2e1-4868-b2d4-23474a7806f6'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='9a1f2708-6d73-492d-9681-c6a004ed408a')]...
2025-04-13 12:41:02,195 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:41:02,196 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:41:02,197 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='74426e5a-525f-4da2-a03f-abad80805e61'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='472bc11b-88dc-4186-b127-0a82e329d9a9'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='183fd8b4-b2e1-4868-b2d4-23474a7806f6'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='9a1f2708-6d73-492d-9681-c6a004ed408a')]
2025-04-13 12:41:02,197 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:41:02,197 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:41:02,198 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='74426e5a-525f-4da2-a03f-abad80805e61'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='472bc11b-88dc-4186-b127-0a82e329d9a9'), HumanMessage(content='rezervasyon kontrol etmek istiyorum', additional_kwargs={}, response_metadata={}, id='183fd8b4-b2e1-4868-b2d4-23474a7806f6'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='9a1f2708-6d73-492d-9681-c6a004ed408a')]
2025-04-13 12:41:02,198 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:41:02,198 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:41:02,199 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13eddc2c0>
2025-04-13 12:41:02,199 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 12:41:02,199 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:41:02,199 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:41:07,418 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:41:07,419 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 12:41:07,419 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 12:41:07,419 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 12:41:07,421 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:41:07,424 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 12:41:24,306 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 12:41:24,313 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 12:41:24,322 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 12:42:32,919 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d7064e52-b74c-451a-9355-227c170d2f02'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='e30b9dff-b791-4c52-b547-e3f545b15014')]...
2025-04-13 12:42:34,183 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:42:34,184 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 12:42:34,185 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:42:34,187 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:42:34,188 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 12:42:34,188 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 12:42:34,189 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 12:42:34,189 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 12:42:34,189 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 12:42:48,865 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63ccef3b-ba87-4661-8287-577d63c5a8f2'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9cb9da23-5ebc-4084-88db-ced8c79aacd8'), HumanMessage(content='rezervasyon listele Hüseyin Altıkulaç adına', additional_kwargs={}, response_metadata={}, id='6082fbf0-7b01-48c9-8517-dc2e6d819712')]...
2025-04-13 12:42:50,124 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:42:50,126 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 12:42:50,127 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63ccef3b-ba87-4661-8287-577d63c5a8f2'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9cb9da23-5ebc-4084-88db-ced8c79aacd8'), HumanMessage(content='rezervasyon listele Hüseyin Altıkulaç adına', additional_kwargs={}, response_metadata={}, id='6082fbf0-7b01-48c9-8517-dc2e6d819712')]
2025-04-13 12:42:50,127 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 12:42:50,127 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 12:42:50,128 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63ccef3b-ba87-4661-8287-577d63c5a8f2'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9cb9da23-5ebc-4084-88db-ced8c79aacd8'), HumanMessage(content='rezervasyon listele Hüseyin Altıkulaç adına', additional_kwargs={}, response_metadata={}, id='6082fbf0-7b01-48c9-8517-dc2e6d819712')]
2025-04-13 12:42:50,128 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 12:42:50,129 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 12:42:50,130 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13ee96020>
2025-04-13 12:42:50,130 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 12:42:50,130 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 12:42:50,130 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 12:42:55,040 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 12:42:55,040 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 12:42:55,040 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 12:42:55,041 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 12:42:55,042 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 12:42:55,045 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:42:55,046 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 12:42:55,046 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 12:42:55,046 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 12:42:55,047 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 12:42:55,047 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına olan rezervasyonlar listel...
2025-04-13 13:05:17,989 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:05:17,997 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:05:17,999 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:06:39,474 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:06:39,477 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:06:39,479 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:06:44,864 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='34c4be97-ea7b-4be7-816b-c9bf544148fc'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='bd1ed82b-7086-4d3f-99b5-ec553a26d601')]...
2025-04-13 13:06:46,427 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:06:46,430 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:06:46,432 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:06:46,434 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:06:46,435 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:06:46,435 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:06:46,436 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:06:46,436 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:06:46,437 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 13:06:54,202 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7230d57a-02a1-471d-b57f-b0ed44d56889'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='2a49b146-0562-45b7-9a73-04482ec53f36'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='95f383c5-14a8-4032-8be1-ec06e0c13a59')]...
2025-04-13 13:06:55,217 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:06:55,218 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:06:55,219 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7230d57a-02a1-471d-b57f-b0ed44d56889'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='2a49b146-0562-45b7-9a73-04482ec53f36'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='95f383c5-14a8-4032-8be1-ec06e0c13a59')]
2025-04-13 13:06:55,219 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:06:55,220 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7230d57a-02a1-471d-b57f-b0ed44d56889'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='2a49b146-0562-45b7-9a73-04482ec53f36'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='95f383c5-14a8-4032-8be1-ec06e0c13a59')]
2025-04-13 13:06:55,220 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 13:06:55,221 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 13:06:55,221 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:06:55,224 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:06:55,225 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:06:55,226 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:06:55,226 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:06:55,226 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:06:55,227 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-13 13:07:12,073 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]...
2025-04-13 13:07:13,590 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:07:13,592 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:07:13,593 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:13,593 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:07:13,593 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:07:13,594 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:13,595 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:07:13,596 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:07:13,597 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x164176c00>
2025-04-13 13:07:13,598 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:07:13,598 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:07:13,598 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:07:17,686 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:07:17,686 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 13:07:17,687 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 13:07:17,687 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 13:07:17,688 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]...
2025-04-13 13:07:19,016 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:07:19,017 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:07:19,018 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:19,018 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:07:19,018 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:07:19,019 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:19,019 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:07:19,019 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:07:19,020 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x164176c00>
2025-04-13 13:07:19,020 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:07:19,020 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:07:19,020 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:07:22,807 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:07:22,807 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 13:07:22,807 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 13:07:22,808 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 13:07:22,809 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]...
2025-04-13 13:07:24,342 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:07:24,343 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:07:24,344 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:24,345 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:07:24,345 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:07:24,346 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:24,347 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:07:24,347 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:07:24,349 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1628f0a40>
2025-04-13 13:07:24,349 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:07:24,349 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:07:24,350 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:07:28,393 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:07:28,394 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 13:07:28,395 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 13:07:28,395 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 13:07:28,397 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]...
2025-04-13 13:07:29,768 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:07:29,770 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:07:29,771 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:29,771 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:07:29,771 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:07:29,773 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:29,774 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:07:29,775 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:07:29,776 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1628f0a40>
2025-04-13 13:07:29,776 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:07:29,776 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:07:29,776 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:07:33,662 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:07:33,663 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 13:07:33,663 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 13:07:33,663 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 13:07:33,665 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]...
2025-04-13 13:07:35,199 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:07:35,200 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:07:35,200 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:35,200 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:07:35,201 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:07:35,201 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7051d06-a2e6-4afb-8c39-b9c15400da57'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='862c398c-a2d2-44ac-8a8d-0dd8303e062c'), HumanMessage(content='rezervasyon listelemek istiyorum', additional_kwargs={}, response_metadata={}, id='4687d4cd-d8dc-4f49-b842-79fe555192a5'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d2263d0e-1c5b-4165-8a05-eb276aa15117')]
2025-04-13 13:07:35,201 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:07:35,202 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:07:35,202 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1628f0a40>
2025-04-13 13:07:35,202 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:07:35,202 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:07:35,202 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:09:08,106 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:09:08,110 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:09:08,112 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:09:10,944 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4bfb9c88-96c8-4bf1-9380-3985e29fc421'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='081c4376-faab-45c5-86da-8361d7bf1cbe')]...
2025-04-13 13:09:12,272 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:09:12,274 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:09:12,275 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:12,280 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:09:12,280 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:09:12,281 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:09:12,282 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:09:12,282 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:09:12,283 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 13:09:17,836 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b94c53f7-2895-4452-bef5-3a1dca96faeb'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='e1fad55f-29c1-467f-931e-fcd26802f728'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8c7c05cc-857b-46f2-acaa-714e31dd30b8')]...
2025-04-13 13:09:19,118 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:09:19,120 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:09:19,121 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b94c53f7-2895-4452-bef5-3a1dca96faeb'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='e1fad55f-29c1-467f-931e-fcd26802f728'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8c7c05cc-857b-46f2-acaa-714e31dd30b8')]
2025-04-13 13:09:19,122 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:19,122 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:09:19,125 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b94c53f7-2895-4452-bef5-3a1dca96faeb'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='e1fad55f-29c1-467f-931e-fcd26802f728'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8c7c05cc-857b-46f2-acaa-714e31dd30b8')]
2025-04-13 13:09:19,126 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 13:09:19,128 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 13:09:19,130 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:19,134 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:09:19,135 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:09:19,135 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:09:19,136 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:09:19,136 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-13 13:09:19,136 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-13 13:09:22,540 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]...
2025-04-13 13:09:24,131 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:09:24,133 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:09:24,134 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:24,135 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:24,135 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:09:24,138 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:09:24,140 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:24,141 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:09:24,141 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:09:24,142 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x132747ba0>
2025-04-13 13:09:24,142 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 13:09:24,143 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:09:24,143 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:09:27,490 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:09:27,490 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:09:27,490 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:09:27,491 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:09:27,493 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]...
2025-04-13 13:09:28,862 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:09:28,864 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:09:28,866 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:28,866 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:09:28,866 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:28,866 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:09:28,870 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:28,872 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:09:28,873 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:09:28,874 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13256de40>
2025-04-13 13:09:28,874 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 13:09:28,874 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:09:28,874 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:09:32,295 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:09:32,295 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:09:32,295 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:09:32,295 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:09:32,296 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]...
2025-04-13 13:09:33,778 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:09:33,780 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:09:33,781 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:33,782 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:09:33,782 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:09:33,785 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:09:33,787 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]
2025-04-13 13:09:33,788 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:09:33,788 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:09:33,789 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1327453a0>
2025-04-13 13:09:33,789 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 13:09:33,790 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:09:33,790 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:09:37,974 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:09:37,974 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:09:37,974 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:09:37,975 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:09:37,976 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8533a52a-c6b7-435f-a74d-2ba9d16746e4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dbd07e6c-9ff0-4c48-ab01-516598e36272'), HumanMessage(content='Rezervayon lsitele', additional_kwargs={}, response_metadata={}, id='8974f6c6-c2d6-4881-809e-c44900669366'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='f0d63248-c9bd-4b8c-8b6a-ad58367eef31')]...
2025-04-13 13:18:24,333 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:18:24,336 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:18:24,338 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:18:27,390 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e60bf097-7f93-4ab2-ad84-586a5ed69fa5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a1227f6c-c871-4483-9fea-f404a155d0d8')]...
2025-04-13 13:18:28,633 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-13 13:18:28,636 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:18:28,637 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:18:28,641 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-13 13:18:28,641 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:18:28,641 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:18:28,642 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:18:28,642 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-13 13:18:28,643 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, Altıkulaç Otel'e hoş geldiniz! Size nasıl...
2025-04-13 13:18:28,697 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-13 13:18:40,425 - __main__ - ERROR - Eval hatası: invalid syntax. Perhaps you forgot a comma? (<string>, line 1)
2025-04-13 13:18:40,433 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02f73260-f7bd-4ffe-8d92-43c207dfd150'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b2b3fc98-fd1d-494c-af67-8b9ebe78c1b0'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='9c3617b1-c931-444e-9764-41b3ee052554')]...
2025-04-13 13:18:41,719 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonlar\u0131m\u0131 g\u00f6rmek istiyorum", "action_type": "list_reservations"...
2025-04-13 13:18:41,721 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:18:41,722 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02f73260-f7bd-4ffe-8d92-43c207dfd150'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b2b3fc98-fd1d-494c-af67-8b9ebe78c1b0'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='9c3617b1-c931-444e-9764-41b3ee052554')]
2025-04-13 13:18:41,723 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:18:41,723 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:18:41,727 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02f73260-f7bd-4ffe-8d92-43c207dfd150'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b2b3fc98-fd1d-494c-af67-8b9ebe78c1b0'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='9c3617b1-c931-444e-9764-41b3ee052554')]
2025-04-13 13:18:41,727 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:18:41,728 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:18:41,729 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x16227ee80>
2025-04-13 13:18:41,729 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 13:18:41,730 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:18:46,448 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 13:18:46,449 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 13:18:46,450 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='02f73260-f7bd-4ffe-8d92-43c207dfd150'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b2b3fc98-fd1d-494c-af67-8b9ebe78c1b0'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='9c3617b1-c931-444e-9764-41b3ee052554')]...
2025-04-13 13:18:48,395 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! Invalid control character at: line 1 column 76 (char 75)"}...
2025-04-13 13:18:48,395 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:18:48,396 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:18:48,398 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! Invalid control character at: line 1 column 76 (char 75)"}...
2025-04-13 13:18:48,398 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:18:48,398 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:18:48,398 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:18:48,399 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Error in invoking model! Invalid control character at: line 1 column 76 (char 75)"}...
2025-04-13 13:18:48,399 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Error in invoking model! Invalid contro...
2025-04-13 13:19:39,291 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='baf7355c-4aa0-4bcc-9f46-c51196e348d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='bcc36e44-bc47-455d-8516-83c2af07c0e1'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='b4190eaa-4de2-4f74-a0bd-4396d553ebeb'), HumanMessage(content='Hüseyin  Altıkulaç', additional_kwargs={}, response_metadata={}, id='abcbe119-a235-44e8-9cd1-253fc48958ff')]...
2025-04-13 13:19:40,725 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:19:40,727 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:19:40,728 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='baf7355c-4aa0-4bcc-9f46-c51196e348d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='bcc36e44-bc47-455d-8516-83c2af07c0e1'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='b4190eaa-4de2-4f74-a0bd-4396d553ebeb'), HumanMessage(content='Hüseyin  Altıkulaç', additional_kwargs={}, response_metadata={}, id='abcbe119-a235-44e8-9cd1-253fc48958ff')]
2025-04-13 13:19:40,729 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:19:40,729 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:19:40,730 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:19:40,734 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='baf7355c-4aa0-4bcc-9f46-c51196e348d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='bcc36e44-bc47-455d-8516-83c2af07c0e1'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='b4190eaa-4de2-4f74-a0bd-4396d553ebeb'), HumanMessage(content='Hüseyin  Altıkulaç', additional_kwargs={}, response_metadata={}, id='abcbe119-a235-44e8-9cd1-253fc48958ff')]
2025-04-13 13:19:40,735 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:19:40,736 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:19:40,736 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x16239dbc0>
2025-04-13 13:19:40,737 - agents.tools_agents - INFO - Tüm rezervasyonlar getiriliyor (en fazla 10 kayıt)
2025-04-13 13:19:40,737 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:19:43,997 - agents.tools_agents - INFO - Toplam 3 kayıttan 3 kayıt alındı
2025-04-13 13:19:43,997 - agents.tools_agents - INFO - Fetch reservations completed with 3 results
2025-04-13 13:19:43,998 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='baf7355c-4aa0-4bcc-9f46-c51196e348d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='bcc36e44-bc47-455d-8516-83c2af07c0e1'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='b4190eaa-4de2-4f74-a0bd-4396d553ebeb'), HumanMessage(content='Hüseyin  Altıkulaç', additional_kwargs={}, response_metadata={}, id='abcbe119-a235-44e8-9cd1-253fc48958ff')]...
2025-04-13 13:19:45,739 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! Invalid control character at: line 2 column 64 (char 65)"}...
2025-04-13 13:19:45,741 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:19:45,742 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:19:45,747 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! Invalid control character at: line 2 column 64 (char 65)"}...
2025-04-13 13:19:45,747 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:19:45,747 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:19:45,747 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:19:45,748 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Error in invoking model! Invalid control character at: line 2 column 64 (char 65)"}...
2025-04-13 13:19:45,748 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Error in invoking model! Invalid contro...
2025-04-13 13:23:09,916 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:23:09,917 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:23:09,927 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1e57ecdb-a7a5-40c8-ba85-85550935456d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='41d5d052-3988-4495-ac01-046d9e301d9d'), HumanMessage(content='Rezervasyonlarımı görmek istiyorum', additional_kwargs={}, response_metadata={}, id='783cd9f3-baf9-4d10-9c5a-41f442b86427'), HumanMessage(content='Hüseyin  Altıkulaç', additional_kwargs={}, response_metadata={}, id='96b82867-6ea3-457e-ba5f-d5f79178b5bf'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='0d281183-89c5-499c-87cf-4f687f28159f')]...
2025-04-13 13:23:11,474 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\n\n1.  \...
2025-04-13 13:23:11,475 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:23:11,476 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:23:11,478 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\n\n1.  \...
2025-04-13 13:23:11,478 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:23:11,478 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:23:11,479 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:23:11,479 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\n\n1.  \...
2025-04-13 13:23:11,479 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına olan rezervasyonlar listel...
2025-04-13 13:23:11,556 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 259 (char 258)
2025-04-13 13:23:11,556 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:23:11,557 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:23:11,557 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:23:14,521 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:23:14,527 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:23:14,532 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:23:17,934 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='58d83266-3ef3-4d62-96cc-7f68d2b160db'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='038cce9c-54ee-451a-b7eb-916c37cac844')]...
2025-04-13 13:23:21,810 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:23:21,815 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:23:21,819 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:23:35,949 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='04f24c7d-9f9b-45cd-bf6e-389992c6029a'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='67feb292-e20d-432b-9dcb-5311102fd954')]...
2025-04-13 13:25:45,164 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a7742a44-513c-4103-9465-56f663e6cfd7'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='382fc924-c84c-4abc-83f0-e314d4ff4653'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='090fe778-c712-4a31-882e-40960e08e45a')]...
2025-04-13 13:25:47,291 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:25:47,295 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:25:47,297 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:25:51,158 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='081e727c-ebc2-4ddf-87db-45b2301980bd'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='a3875616-33b7-4e40-ab62-f0cf607fc2a6')]...
2025-04-13 13:25:52,436 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Anlamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "too...
2025-04-13 13:25:52,437 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:25:52,437 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:25:52,439 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "too...
2025-04-13 13:25:52,439 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:25:52,439 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:25:52,439 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:25:52,440 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Anlamad\u0131m, l\u00fctfen daha detayl\u0131 bilgi verin.", "action_type": null, "too...
2025-04-13 13:25:52,440 - __main__ - INFO - ✅ JSON response regex ile bulundu: Anlamadım, lütfen daha detaylı bilgi verin....
2025-04-13 13:25:52,492 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 91 (char 90)
2025-04-13 13:25:52,492 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:25:55,728 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 91 (char 90)
2025-04-13 13:25:55,728 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:25:55,733 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0ee9d89f-0f66-42fa-a9e8-7005e4b244f9'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='83b236e9-25ed-49c7-8d64-73e707b0066f'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='08fc9f50-76e6-4e3b-9e5c-55d21a21f565')]...
2025-04-13 13:25:57,147 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hangi konuda yard\\u0131ma ihtiyac\\u0131n\\u0131z var?", "action_type": null, "tool_a...
2025-04-13 13:25:57,148 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:25:57,149 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:25:57,153 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi konuda yard\\u0131ma ihtiyac\\u0131n\\u0131z var?", "action_type": null, "tool_a...
2025-04-13 13:25:57,153 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:25:57,154 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:25:57,154 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:25:57,154 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi konuda yard\\u0131ma ihtiyac\\u0131n\\u0131z var?", "action_type": null, "tool_a...
2025-04-13 13:25:57,154 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi konuda yard\ıma ihtiyac\ın\ız var?...
2025-04-13 13:25:57,204 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 13:25:57,205 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:03,418 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 13:26:03,420 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:03,428 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4797767-c9c9-4dec-b4a0-0a12aec4ce0f'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='04f4dea7-d128-4e0b-a45f-1fa035d838e8'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='eee2c45c-ac17-4bb5-989d-64f79428909a'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='ceb17b7b-815e-4085-823f-81bc10db6108')]...
2025-04-13 13:26:05,145 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 13:26:05,146 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:26:05,148 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4797767-c9c9-4dec-b4a0-0a12aec4ce0f'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='04f4dea7-d128-4e0b-a45f-1fa035d838e8'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='eee2c45c-ac17-4bb5-989d-64f79428909a'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='ceb17b7b-815e-4085-823f-81bc10db6108')]
2025-04-13 13:26:05,149 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:26:05,149 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:26:05,152 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 13:26:05,154 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4797767-c9c9-4dec-b4a0-0a12aec4ce0f'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='04f4dea7-d128-4e0b-a45f-1fa035d838e8'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='eee2c45c-ac17-4bb5-989d-64f79428909a'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='ceb17b7b-815e-4085-823f-81bc10db6108')]
2025-04-13 13:26:05,155 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:26:05,156 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:26:05,157 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x16206f7e0>
2025-04-13 13:26:05,157 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin Alt\u0131kula\u00e7, Tam Eşleşme: True
2025-04-13 13:26:05,157 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin Alt\u0131kula\u00e7, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:26:05,157 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:26:10,196 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:26:10,197 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:26:10,197 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:26:10,197 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:26:10,200 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c4797767-c9c9-4dec-b4a0-0a12aec4ce0f'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='04f4dea7-d128-4e0b-a45f-1fa035d838e8'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='eee2c45c-ac17-4bb5-989d-64f79428909a'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='ceb17b7b-815e-4085-823f-81bc10db6108')]...
2025-04-13 13:26:11,690 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef...
2025-04-13 13:26:11,692 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:26:11,693 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:26:11,697 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef...
2025-04-13 13:26:11,697 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:26:11,698 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:26:11,698 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:26:11,698 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef...
2025-04-13 13:26:11,698 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına olan rezervasyonlar listel...
2025-04-13 13:26:11,754 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 198 (char 197)
2025-04-13 13:26:11,754 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:11,755 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:26:11,755 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:32,765 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 198 (char 197)
2025-04-13 13:26:32,766 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:32,767 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:26:32,768 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:32,775 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='eabd5d50-0e48-46f2-bc24-53ec3ca29b1e'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='d5dc0db7-2494-4893-bd88-6701f46000a7'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='51930cfb-cff2-4463-9bbe-33ee375dbdd8'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='395c7f1f-1ebd-4997-a01b-683b7dfc4fb7'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='1d5c7fe4-8489-4b6b-a809-acc13184af37')]...
2025-04-13 13:26:34,112 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\...
2025-04-13 13:26:34,112 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:26:34,112 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:26:34,113 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\...
2025-04-13 13:26:34,113 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:26:34,114 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:26:34,114 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:26:34,114 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\...
2025-04-13 13:26:34,114 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına olan rezervasyonlar listel...
2025-04-13 13:26:34,158 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 193 (char 192)
2025-04-13 13:26:34,158 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:34,158 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:26:34,158 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:43,299 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 193 (char 192)
2025-04-13 13:26:43,300 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:43,302 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:26:43,302 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:43,309 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b07be29c-899b-4bb2-bbb3-5ca5c0174db0'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='dd5d16f9-abe8-4c73-9c02-4c1b33385016'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='a74404d6-051f-4bd2-a069-509f1a7b7c22'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='acff9255-de66-48b7-beb2-dca0bcc98ae7'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='e349be08-9c09-4385-adf8-681616a73dc5'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='5771b7d9-4e74-460c-ba88-f4294cc00922')]...
2025-04-13 13:26:44,829 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 13:26:44,830 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:26:44,832 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b07be29c-899b-4bb2-bbb3-5ca5c0174db0'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='dd5d16f9-abe8-4c73-9c02-4c1b33385016'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='a74404d6-051f-4bd2-a069-509f1a7b7c22'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='acff9255-de66-48b7-beb2-dca0bcc98ae7'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='e349be08-9c09-4385-adf8-681616a73dc5'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='5771b7d9-4e74-460c-ba88-f4294cc00922')]
2025-04-13 13:26:44,832 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:26:44,832 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:26:44,834 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 13:26:44,838 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b07be29c-899b-4bb2-bbb3-5ca5c0174db0'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='dd5d16f9-abe8-4c73-9c02-4c1b33385016'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='a74404d6-051f-4bd2-a069-509f1a7b7c22'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='acff9255-de66-48b7-beb2-dca0bcc98ae7'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='e349be08-9c09-4385-adf8-681616a73dc5'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='5771b7d9-4e74-460c-ba88-f4294cc00922')]
2025-04-13 13:26:44,840 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:26:44,842 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:26:44,843 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x16206f060>
2025-04-13 13:26:44,843 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin Alt\u0131kula\u00e7, Tam Eşleşme: True
2025-04-13 13:26:44,844 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin Alt\u0131kula\u00e7, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:26:44,844 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:26:48,960 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:26:48,961 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:26:48,961 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:26:48,962 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:26:48,963 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b07be29c-899b-4bb2-bbb3-5ca5c0174db0'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='dd5d16f9-abe8-4c73-9c02-4c1b33385016'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='a74404d6-051f-4bd2-a069-509f1a7b7c22'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='acff9255-de66-48b7-beb2-dca0bcc98ae7'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='e349be08-9c09-4385-adf8-681616a73dc5'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='5771b7d9-4e74-460c-ba88-f4294cc00922')]...
2025-04-13 13:26:50,396 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:26:50,398 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:26:50,399 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:26:50,403 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:26:50,404 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:26:50,404 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:26:50,404 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:26:50,405 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:26:50,405 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına olan rezervasyonlar listeleniy...
2025-04-13 13:26:50,455 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 179 (char 178)
2025-04-13 13:26:50,455 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:26:50,456 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:26:50,457 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:31,329 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 179 (char 178)
2025-04-13 13:41:31,330 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:31,332 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:41:31,333 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:31,345 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2043ecf5-5e05-4388-a7a1-56f7e9952977'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='de60af2e-139c-46b5-b5c2-169beb4c0e61'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='9c8eb1c9-1dc4-4d55-b5e7-575405e31d15'), HumanMessage(content='rezervasyonlarımı getir', additional_kwargs={}, response_metadata={}, id='2d40e345-82f4-4747-b637-3654de890b05'), HumanMessage(content='Hüseyin ALTIKULAÇ', additional_kwargs={}, response_metadata={}, id='0b05164b-6f4e-4e60-a494-3049d6804559'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='1cc54530-bd40-43f4-ba39-2c53cd973df0'), HumanMessage(content='Hilal Karaman adına varmı', additional_kwargs={}, response_metadata={}, id='20ebb14e-ce6e-4d56-96dd-e3ccc0e3402d')]...
2025-04-13 13:41:33,000 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:41:33,001 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:41:33,002 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:41:33,005 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:41:33,005 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:41:33,006 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:41:33,006 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:41:33,006 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor. Maalesef, ad\u0131n\u0131za...
2025-04-13 13:41:33,007 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına olan rezervasyonlar listeleniy...
2025-04-13 13:41:33,060 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 179 (char 178)
2025-04-13 13:41:33,061 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:33,061 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:41:33,061 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:45,339 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:41:45,347 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:41:45,356 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:41:51,218 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3948f1ce-7bbe-429f-ad64-5e2774f7147e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='b2ea07dd-e01d-4a71-8d55-dd1f1e2cbee2')]...
2025-04-13 13:41:52,556 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 13:41:52,557 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:41:52,558 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3948f1ce-7bbe-429f-ad64-5e2774f7147e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='b2ea07dd-e01d-4a71-8d55-dd1f1e2cbee2')]
2025-04-13 13:41:52,558 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:41:52,558 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:41:52,558 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 13:41:52,560 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3948f1ce-7bbe-429f-ad64-5e2774f7147e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='b2ea07dd-e01d-4a71-8d55-dd1f1e2cbee2')]
2025-04-13 13:41:52,561 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:41:52,562 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:41:52,562 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a185c60>
2025-04-13 13:41:52,567 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 13:41:52,567 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:41:52,567 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:41:57,576 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:41:57,576 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 13:41:57,576 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 13:41:57,577 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 13:41:57,578 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3948f1ce-7bbe-429f-ad64-5e2774f7147e'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='b2ea07dd-e01d-4a71-8d55-dd1f1e2cbee2')]...
2025-04-13 13:41:59,214 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:41:59,216 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:41:59,217 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:41:59,220 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:41:59,221 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:41:59,221 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:41:59,221 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:41:59,221 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:41:59,222 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına 2 rezervasyon bulundu:\...
2025-04-13 13:41:59,287 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 289 (char 288)
2025-04-13 13:41:59,288 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:41:59,289 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:41:59,289 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:37,303 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 289 (char 288)
2025-04-13 13:47:37,305 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:37,305 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:47:37,307 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:37,319 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='bcd694b6-b978-4481-9827-43a8bb455797'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='95b1c969-0608-41e6-9b1d-8c7f83a7c803'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7da013b9-0eec-45b2-a603-e37ca36a9d06')]...
2025-04-13 13:47:39,082 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. 15...
2025-04-13 13:47:39,083 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:47:39,084 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:47:39,087 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. 15...
2025-04-13 13:47:39,088 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:47:39,088 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:47:39,088 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:47:39,088 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. 15...
2025-04-13 13:47:39,089 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına olan rezervasyonlar lis...
2025-04-13 13:47:39,166 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 300 (char 299)
2025-04-13 13:47:39,167 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:39,167 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:47:39,167 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:46,088 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 300 (char 299)
2025-04-13 13:47:46,089 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:46,091 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:47:46,091 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:46,099 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='45083f65-c203-4e95-9712-54cd79607311'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='37f6416c-2ceb-427d-b61f-8b963e2f51ff'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='fe34f4b5-e659-494c-897d-a57f44a2a013'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='b1d476a9-8f1f-4a7c-8694-8a40e57a171e')]...
2025-04-13 13:47:47,783 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:47:47,784 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:47:47,785 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:47:47,787 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:47:47,787 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:47:47,787 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:47:47,787 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:47:47,787 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 13:47:47,788 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına 2 rezervasyon bulundu:\...
2025-04-13 13:47:47,837 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 289 (char 288)
2025-04-13 13:47:47,837 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:47:47,838 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:47:47,838 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:49:01,298 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 289 (char 288)
2025-04-13 13:49:01,299 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:49:01,301 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:49:01,301 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:49:01,315 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63929d5d-50e3-40c3-b1da-444fd0d0c59d'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='b0167b73-96cf-401d-9f52-3e2965899fce'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='2f311b25-a6c4-4201-a072-e003e3238088'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='fe04b195-3293-4bc2-ac81-64901c4abac4'), HumanMessage(content='Hilal Karaman adına olanları listele', additional_kwargs={}, response_metadata={}, id='786c26f2-ef23-48cd-8573-a4b595a03172')]...
2025-04-13 13:49:03,178 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 2024 ...
2025-04-13 13:49:03,180 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:49:03,182 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:49:03,186 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 2024 ...
2025-04-13 13:49:03,186 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:49:03,187 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:49:03,187 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:49:03,187 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 2024 ...
2025-04-13 13:49:03,187 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 13:49:03,253 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 282 (char 281)
2025-04-13 13:49:03,253 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:49:03,254 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 13:49:03,254 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:28,262 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 13:55:28,265 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 13:55:28,268 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 13:55:31,844 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7f0d76e0-911a-480c-bf0a-43a4b5f8e417'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='63030c9c-d189-41b1-b419-da4e7bd1d366')]...
2025-04-13 13:55:33,201 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:55:33,202 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:55:33,204 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:55:33,208 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:55:33,208 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:55:33,208 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:55:33,208 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:55:33,209 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 13:55:33,213 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 13:55:33,278 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 13:55:33,278 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:37,859 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 13:55:37,860 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:37,865 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 13:55:37,865 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:37,874 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e5ce5f75-4945-4704-a9a0-c3aff1516336'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='24c007da-adfa-4d3f-a071-a84ce10005a0'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='5f3ba78b-cd10-4a37-b0db-e4cbcdcf7207')]...
2025-04-13 13:55:39,753 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Alt\\u0131kula\\u00e7 Otel, Malatya Merkez'de bulunur. Otelimizde restoran, toplant\\u...
2025-04-13 13:55:39,755 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 13:55:39,756 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:55:39,759 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Alt\\u0131kula\\u00e7 Otel, Malatya Merkez'de bulunur. Otelimizde restoran, toplant\\u...
2025-04-13 13:55:39,760 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 13:55:39,760 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 13:55:39,760 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 13:55:39,760 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Alt\\u0131kula\\u00e7 Otel, Malatya Merkez'de bulunur. Otelimizde restoran, toplant\\u...
2025-04-13 13:55:39,760 - __main__ - INFO - ✅ JSON response regex ile bulundu: Alt\ıkula\ç Otel, Malatya Merkez'de bulunur. Oteli...
2025-04-13 13:55:39,805 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 58 (char 57)
2025-04-13 13:55:39,805 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:58,893 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 58 (char 57)
2025-04-13 13:55:58,894 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 13:55:58,894 - __main__ - INFO - Yeni isim sorgusu tespit edildi, önceki sonuçlar temizleniyor
2025-04-13 13:55:58,907 - __main__ - INFO - Yeni müşteri adı tespit edildi: olan rezervasyon varmı
2025-04-13 13:55:58,910 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:00,439 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u0130A\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "acti...
2025-04-13 13:56:00,441 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:56:00,443 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:00,443 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:56:00,443 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:56:00,445 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u0130A\u00c7"}
2025-04-13 13:56:00,448 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:00,449 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:56:00,450 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:56:00,450 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x148c25940>
2025-04-13 13:56:00,451 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAİAÇ, Tam Eşleşme: True
2025-04-13 13:56:00,451 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAİAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:56:00,451 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:56:03,614 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:56:03,614 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:56:03,615 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:56:03,615 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:56:03,616 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:05,125 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 13:56:05,126 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:56:05,127 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:56:05,127 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:05,128 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:56:05,129 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 13:56:05,131 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:05,132 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:56:05,134 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:56:05,136 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x148c277e0>
2025-04-13 13:56:05,136 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAİAÇ, Tam Eşleşme: True
2025-04-13 13:56:05,137 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAİAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:56:05,137 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:56:08,125 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:56:08,125 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:56:08,125 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:56:08,125 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:56:08,127 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:09,528 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 13:56:09,530 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:56:09,532 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:09,532 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:56:09,533 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:56:09,535 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 13:56:09,537 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:09,539 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:56:09,539 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:56:09,540 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x148c272e0>
2025-04-13 13:56:09,540 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAİAÇ, Tam Eşleşme: True
2025-04-13 13:56:09,541 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAİAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:56:09,541 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:56:12,890 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:56:12,891 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:56:12,891 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:56:12,891 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:56:12,899 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:14,162 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:56:14,164 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:56:14,166 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:14,166 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:56:14,166 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:56:14,167 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:56:14,171 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:14,172 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:56:14,173 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:56:14,174 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x148c27240>
2025-04-13 13:56:14,174 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAİAÇ, Tam Eşleşme: True
2025-04-13 13:56:14,174 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAİAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:56:14,174 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:56:18,052 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:56:18,052 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:56:18,053 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:56:18,053 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:56:18,055 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:19,382 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 13:56:19,385 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 13:56:19,387 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:19,387 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 13:56:19,387 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 13:56:19,388 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 13:56:19,392 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]
2025-04-13 13:56:19,394 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 13:56:19,395 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 13:56:19,395 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1073ab1a0>
2025-04-13 13:56:19,395 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAİAÇ, Tam Eşleşme: True
2025-04-13 13:56:19,396 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAİAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 13:56:19,396 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 13:56:23,171 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 13:56:23,172 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 13:56:23,172 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 13:56:23,173 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 13:56:23,176 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6ccbfe63-494a-4bd2-b6b4-a5abbabbc38f'), HumanMessage(content='Merhaba', additional_kwargs={}, response_metadata={}, id='1db6758d-1363-4c75-b3ea-95dae49588a5'), HumanMessage(content='Otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='9351b318-698c-476c-82ec-2251ea077b00'), HumanMessage(content='hüseyin altıkulaç adına olan rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='e8898cf2-b0f5-4e38-b126-90c4e5b3c968')]...
2025-04-13 13:56:24,609 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 13:56:24,610 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:02:54,666 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:02:54,672 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:02:54,675 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:02:58,178 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]...
2025-04-13 14:02:59,631 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 14:02:59,633 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:02:59,634 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:02:59,634 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:02:59,635 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:02:59,636 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00e7"}
2025-04-13 14:02:59,637 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:02:59,640 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:02:59,641 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:02:59,643 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1226e84a0>
2025-04-13 14:02:59,643 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 14:02:59,645 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:02:59,646 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:03:03,850 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:03:03,852 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:03:03,852 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:03:03,852 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:03:03,853 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]...
2025-04-13 14:03:05,136 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 14:03:05,137 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:03:05,138 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:03:05,138 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:03:05,138 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:03:05,139 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:03:05,141 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:03:05,141 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:03:05,142 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:03:05,143 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1226e96c0>
2025-04-13 14:03:05,143 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 14:03:05,143 - agents.tools_agents - ERROR - Döngü kontrolünde hata: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-04-13 14:03:05,143 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:03:05,143 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:03:09,023 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:03:09,024 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:03:09,024 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:03:09,024 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:03:09,026 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]...
2025-04-13 14:03:10,436 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 14:03:10,436 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:03:10,437 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:03:10,437 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:03:10,437 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:03:10,437 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:03:10,439 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]
2025-04-13 14:03:10,439 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:03:10,439 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:03:10,440 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1226e8ae0>
2025-04-13 14:03:10,440 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 14:03:10,440 - agents.tools_agents - ERROR - Döngü kontrolünde hata: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-04-13 14:03:10,440 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:03:10,440 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:03:14,057 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:03:14,058 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:03:14,058 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:03:14,058 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:03:14,059 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='668d788f-eccd-4ec6-9d5b-52747a5031f6'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='ba06d49a-beb5-451d-844e-ddbaf6117f87')]...
2025-04-13 14:03:15,416 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 14:03:15,417 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:03:38,518 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:03:38,521 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:03:38,524 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:03:41,988 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]...
2025-04-13 14:03:43,245 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:03:43,247 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:03:43,249 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]
2025-04-13 14:03:43,250 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:03:43,250 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:03:43,252 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:03:43,254 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]
2025-04-13 14:03:43,255 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:03:43,256 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:03:43,257 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x12ffff6a0>
2025-04-13 14:03:43,257 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:03:43,257 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:03:43,257 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:03:47,731 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:03:47,732 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:03:47,732 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:03:47,732 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:03:47,734 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]...
2025-04-13 14:03:49,097 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 14:03:49,099 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:03:49,101 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]
2025-04-13 14:03:49,101 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:03:49,101 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:03:49,104 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 14:03:49,106 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]
2025-04-13 14:03:49,107 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:03:49,108 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:03:49,109 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x12fffe840>
2025-04-13 14:03:49,109 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:03:49,109 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:03:49,109 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:03:52,288 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:03:52,289 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:03:52,289 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:03:52,289 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:03:52,291 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='25c2e031-fa08-4bac-8a17-1ecbdd2e1bfd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='21f272a8-b8a1-4d4d-9c50-589853f39f01')]...
2025-04-13 14:03:53,771 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. ...
2025-04-13 14:03:53,773 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:03:53,774 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:03:53,778 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. ...
2025-04-13 14:03:53,779 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:03:53,779 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:03:53,780 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:03:53,780 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. ...
2025-04-13 14:03:53,780 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına olan rezervasyonlar listel...
2025-04-13 14:03:53,831 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 278 (char 277)
2025-04-13 14:03:53,832 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:03:53,833 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:03:53,833 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:04:00,457 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 278 (char 277)
2025-04-13 14:04:00,458 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:04:00,459 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:04:00,460 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:04:00,468 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='370e3166-ab50-4145-a49a-6ec9baec69f4'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='a1262f3b-97ac-4ac5-8e11-d616ff4ea5a5'), HumanMessage(content='tamam süpersimn', additional_kwargs={}, response_metadata={}, id='aef712f3-9e24-4e11-9fcc-d74548b93bb8')]...
2025-04-13 14:04:02,676 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\...
2025-04-13 14:04:02,677 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:04:02,679 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:04:02,681 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\...
2025-04-13 14:04:02,682 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:04:02,682 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:04:02,682 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:04:02,683 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\...
2025-04-13 14:04:02,683 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına olan rezervasyonlar li...
2025-04-13 14:04:02,733 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 286 (char 285)
2025-04-13 14:04:02,734 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:04:02,734 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:04:02,734 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:06:03,128 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 286 (char 285)
2025-04-13 14:06:03,129 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:06:03,129 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:06:03,129 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:06:03,134 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1914d407-1335-4629-ad6e-deef868f8dd2'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='f0d92ff1-29d0-4106-bee8-7806a49788e5'), HumanMessage(content='tamam süpersimn', additional_kwargs={}, response_metadata={}, id='beed350a-d94a-41d0-b383-0b842398e7bf'), HumanMessage(content='tamam anadım otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='dc5372ac-73cc-4a12-9e22-716a3ffab14f')]...
2025-04-13 14:06:04,842 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:06:04,844 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:06:04,845 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:06:04,847 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:06:04,848 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:06:04,848 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:06:04,848 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:06:04,849 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:06:04,849 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 14:06:04,969 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 14:06:04,969 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:06:04,973 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:06:04,973 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:29,724 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 14:07:29,725 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:29,726 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:07:29,726 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:29,731 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='85916be8-aec1-454f-b451-06ba35197123'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='74f8c526-308e-41aa-a868-04f78e3864be'), HumanMessage(content='tamam süpersimn', additional_kwargs={}, response_metadata={}, id='2614450d-86fe-4b7b-ad8e-ef69061350e1'), HumanMessage(content='tamam anadım otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='ddb68f5d-6534-4b61-8ea2-1d094d5df156'), HumanMessage(content='anladım otel hakkında bilgi ver', additional_kwargs={}, response_metadata={}, id='3c1ae9d3-2246-4748-9f24-ee8daaef0a01')]...
2025-04-13 14:07:31,426 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:07:31,427 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:07:31,427 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:07:31,428 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:07:31,428 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:07:31,429 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:07:31,429 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:07:31,429 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 14:07:31,429 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 14:07:31,483 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 14:07:31,484 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:31,484 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:07:31,484 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:35,198 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:07:35,223 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:07:35,243 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:07:41,976 - agents.agents - INFO - ReservationAgent invoked with question: content='otel hakkında bilgi alabilr miyim' additional_kwargs={} response_metadata={} id='3c0678af-776f-48b4-b8c0-9d705ab6737e'...
2025-04-13 14:07:43,867 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Alt\u0131kula\u00e7 Otel, Malatya Merkez'de bulunmaktad\u0131r. Otelimizde restoran, t...
2025-04-13 14:07:43,868 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:07:43,870 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:07:43,873 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Alt\u0131kula\u00e7 Otel, Malatya Merkez'de bulunmaktad\u0131r. Otelimizde restoran, t...
2025-04-13 14:07:43,873 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:07:43,874 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:07:43,874 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:07:43,874 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Alt\u0131kula\u00e7 Otel, Malatya Merkez'de bulunmaktad\u0131r. Otelimizde restoran, t...
2025-04-13 14:07:43,875 - __main__ - INFO - ✅ JSON response regex ile bulundu: Altıkulaç Otel, Malatya Merkez'de bulunmaktadır. O...
2025-04-13 14:07:43,925 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 56 (char 55)
2025-04-13 14:07:43,926 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:49,127 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 56 (char 55)
2025-04-13 14:07:49,128 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:07:49,135 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele ' additional_kwargs={} response_metadata={} id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6'...
2025-04-13 14:07:50,520 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:07:50,521 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:07:50,522 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='676a99bb-1449-4ccc-8b5b-8b46e86cd92e'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='fae2ac0c-839a-4d9b-af2c-570fd8dc0597'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6')]
2025-04-13 14:07:50,522 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:07:50,522 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:07:50,522 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:07:50,524 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='676a99bb-1449-4ccc-8b5b-8b46e86cd92e'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='fae2ac0c-839a-4d9b-af2c-570fd8dc0597'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6')]
2025-04-13 14:07:50,525 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:07:50,525 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:07:50,527 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a2daf20>
2025-04-13 14:07:50,528 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:07:50,528 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:07:50,529 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:07:54,613 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:07:54,613 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:07:54,613 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:07:54,613 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:07:54,613 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele ' additional_kwargs={} response_metadata={} id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6'...
2025-04-13 14:07:56,049 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 14:07:56,051 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:07:56,052 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='676a99bb-1449-4ccc-8b5b-8b46e86cd92e'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='fae2ac0c-839a-4d9b-af2c-570fd8dc0597'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6')]
2025-04-13 14:07:56,053 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:07:56,053 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:07:56,054 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 14:07:56,057 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='676a99bb-1449-4ccc-8b5b-8b46e86cd92e'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='fae2ac0c-839a-4d9b-af2c-570fd8dc0597'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6')]
2025-04-13 14:07:56,059 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:07:56,061 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:07:56,062 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1077a39c0>
2025-04-13 14:07:56,062 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:07:56,063 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:07:56,063 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:07:59,838 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:07:59,838 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:07:59,838 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:07:59,838 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:07:59,840 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele ' additional_kwargs={} response_metadata={} id='a6c41bf2-eaef-49f7-9aa8-4fdb14e2d1a6'...
2025-04-13 14:08:01,578 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 20...
2025-04-13 14:08:01,579 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:08:01,580 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:08:01,583 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 20...
2025-04-13 14:08:01,583 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:08:01,583 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:08:01,583 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:08:01,583 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 20...
2025-04-13 14:08:01,584 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ ad\ına 2 rezervasyon bulundu:\
\...
2025-04-13 14:08:01,636 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 221 (char 220)
2025-04-13 14:08:01,636 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:01,637 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:01,637 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:06,936 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 221 (char 220)
2025-04-13 14:08:06,937 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:06,938 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:06,938 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:06,945 - agents.agents - INFO - ReservationAgent invoked with question: content='tamam otelde havuz varmı' additional_kwargs={} response_metadata={} id='76303a85-dba9-4de0-bd99-978a3eceeaac'...
2025-04-13 14:08:08,410 - agents.agents - INFO - ReservationAgent yanıtı: {"error": "Error in invoking model! Invalid \\escape: line 1 column 40 (char 39)"}...
2025-04-13 14:08:08,411 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:08:08,412 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:08:08,414 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Error in invoking model! Invalid \\escape: line 1 column 40 (char 39)"}...
2025-04-13 14:08:08,415 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:08:08,415 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:08:08,415 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:08:08,416 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Error in invoking model! Invalid \\escape: line 1 column 40 (char 39)"}...
2025-04-13 14:08:08,416 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Error in invoking model! Invalid \\esca...
2025-04-13 14:08:08,417 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Error in invoking model! Invalid \\escape: line 1 column 40 (char 39)"}...
2025-04-13 14:08:08,418 - __main__ - ERROR - İşlenen hata: Error in invoking model! Invalid \escape: line 1 column 40 (char 39)
2025-04-13 14:08:08,475 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:08,475 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:37,666 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:37,668 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:37,676 - agents.agents - INFO - ReservationAgent invoked with question: content='otelde havuz varmı' additional_kwargs={} response_metadata={} id='6ef1fc8f-1aed-4a19-b6d9-eeb22e2139e4'...
2025-04-13 14:08:39,081 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimizde havuz bulunmamaktad\\u0131r. Size ba\\u015fka nas\\u0131l yard\\u0131mc\\u0...
2025-04-13 14:08:39,082 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:08:39,082 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:08:39,083 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimizde havuz bulunmamaktad\\u0131r. Size ba\\u015fka nas\\u0131l yard\\u0131mc\\u0...
2025-04-13 14:08:39,083 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:08:39,083 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:08:39,083 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:08:39,083 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Otelimizde havuz bulunmamaktad\\u0131r. Size ba\\u015fka nas\\u0131l yard\\u0131mc\\u0...
2025-04-13 14:08:39,083 - __main__ - INFO - ✅ JSON response regex ile bulundu: Otelimizde havuz bulunmamaktad\ır. Size ba\şka nas...
2025-04-13 14:08:39,132 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 134 (char 133)
2025-04-13 14:08:39,132 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:39,133 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:39,133 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:49,160 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 134 (char 133)
2025-04-13 14:08:49,161 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:49,163 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:49,163 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:49,169 - agents.agents - INFO - ReservationAgent invoked with question: content='kahvaltı varmı' additional_kwargs={} response_metadata={} id='2082dd6e-e44e-4b17-820f-b0c8a6ac0925'...
2025-04-13 14:08:50,525 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimizde kahvalt\\u0131 dahildir.", "action_type": null, "tool_action": null, "custo...
2025-04-13 14:08:50,526 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:08:50,527 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:08:50,529 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimizde kahvalt\\u0131 dahildir.", "action_type": null, "tool_action": null, "custo...
2025-04-13 14:08:50,529 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:08:50,530 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:08:50,530 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:08:50,530 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Otelimizde kahvalt\\u0131 dahildir.", "action_type": null, "tool_action": null, "custo...
2025-04-13 14:08:50,530 - __main__ - INFO - ✅ JSON response regex ile bulundu: Otelimizde kahvalt\ı dahildir....
2025-04-13 14:08:50,585 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 68 (char 67)
2025-04-13 14:08:50,585 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:08:50,586 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:08:50,586 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:09:02,892 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 68 (char 67)
2025-04-13 14:09:02,892 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:09:02,893 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:09:02,894 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:09:02,900 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyonları görebilir miyim' additional_kwargs={} response_metadata={} id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4'...
2025-04-13 14:09:04,452 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 14:09:04,454 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:09:04,456 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:04,456 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:09:04,456 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:09:04,457 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:09:04,461 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:04,463 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:09:04,464 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:09:04,465 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a1682c0>
2025-04-13 14:09:04,465 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:09:04,466 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:09:04,466 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:09:07,377 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:09:07,377 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:09:07,377 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:09:07,378 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:09:07,378 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyonları görebilir miyim' additional_kwargs={} response_metadata={} id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4'...
2025-04-13 14:09:08,603 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 14:09:08,605 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:09:08,607 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:08,607 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:09:08,608 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:09:08,608 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:09:08,613 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:08,614 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:09:08,614 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:09:08,615 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a2dbce0>
2025-04-13 14:09:08,616 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:09:08,616 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:09:08,616 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:09:12,146 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:09:12,147 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:09:12,147 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:09:12,147 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:09:12,149 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyonları görebilir miyim' additional_kwargs={} response_metadata={} id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4'...
2025-04-13 14:09:13,566 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 14:09:13,568 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:09:13,570 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:13,570 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:09:13,570 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:09:13,571 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:09:13,575 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:13,576 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:09:13,578 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:09:13,579 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a168180>
2025-04-13 14:09:13,579 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:09:13,579 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:09:13,579 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:09:17,662 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:09:17,664 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:09:17,664 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:09:17,664 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:09:17,666 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyonları görebilir miyim' additional_kwargs={} response_metadata={} id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4'...
2025-04-13 14:09:19,095 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_rese...
2025-04-13 14:09:19,096 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:09:19,098 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:19,098 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:09:19,099 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:09:19,101 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:09:19,102 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='054ce5d5-782b-416e-9448-b41a07f6c339'), HumanMessage(content='otel hakkında bilgi alabilr miyim', additional_kwargs={}, response_metadata={}, id='3759be4d-20f9-4e98-8ebe-cd01da00a7db'), HumanMessage(content='hüseyin altıkulaç listele ', additional_kwargs={}, response_metadata={}, id='d058eed9-581e-43de-b435-15ed311184f5'), HumanMessage(content='tamam otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='3c298c55-c0e8-4d2f-8535-a1fbb3c4c0c8'), HumanMessage(content='otelde havuz varmı', additional_kwargs={}, response_metadata={}, id='103eaba1-d111-4d82-bb13-78aa5fbfbbec'), HumanMessage(content='kahvaltı varmı', additional_kwargs={}, response_metadata={}, id='03050e8c-38e8-4e84-a295-b5727bff668a'), HumanMessage(content='Hilal Karaman adına rezervasyonları görebilir miyim', additional_kwargs={}, response_metadata={}, id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4')]
2025-04-13 14:09:19,103 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:09:19,104 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:09:19,105 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x13a168400>
2025-04-13 14:09:19,105 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:09:19,105 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:09:19,106 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:09:22,374 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:09:22,375 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:09:22,375 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:09:22,375 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:09:22,378 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyonları görebilir miyim' additional_kwargs={} response_metadata={} id='e3946cb1-e740-48cb-b690-f5c2cd3c46c4'...
2025-04-13 14:09:23,804 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 14:09:23,804 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:19:07,968 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:19:07,971 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:19:07,973 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:19:11,194 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='6cbebb6e-239d-49ab-a740-031d93c6bb37'...
2025-04-13 14:19:12,535 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:19:12,537 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:19:12,540 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a752c0b0-41c1-4c45-986b-0dafff35ebdb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6cbebb6e-239d-49ab-a740-031d93c6bb37')]
2025-04-13 14:19:12,541 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:19:12,541 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:19:12,542 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:19:12,544 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a752c0b0-41c1-4c45-986b-0dafff35ebdb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6cbebb6e-239d-49ab-a740-031d93c6bb37')]
2025-04-13 14:19:12,545 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:19:12,546 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:19:12,547 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a0eedfe3-76dc-458b-acd5-f85064b744b0'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='d3e10865-0d8e-4802-bd5e-c4c88a1a1d69')]
2025-04-13 14:19:12,548 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 14:19:12,548 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:19:12,548 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:19:16,595 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:19:16,595 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 14:19:16,595 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 14:19:16,596 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 14:19:16,596 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='6cbebb6e-239d-49ab-a740-031d93c6bb37'...
2025-04-13 14:19:17,879 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na hi\\u00e7 rezervasyon bulunamad\\u0131...
2025-04-13 14:19:17,883 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:19:17,884 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:19:17,889 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na hi\\u00e7 rezervasyon bulunamad\\u0131...
2025-04-13 14:19:17,890 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:19:17,890 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:19:17,891 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:19:17,891 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na hi\\u00e7 rezervasyon bulunamad\\u0131...
2025-04-13 14:19:17,892 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına hi\ç rezervasyon bulun...
2025-04-13 14:19:17,946 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 120 (char 119)
2025-04-13 14:19:17,946 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:17,947 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:19:17,947 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:22,342 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 120 (char 119)
2025-04-13 14:19:22,342 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:22,343 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:19:22,343 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:22,349 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='491d9e4d-58dd-430c-a209-f4d00fe9925e'...
2025-04-13 14:19:23,576 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "a...
2025-04-13 14:19:23,576 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:19:23,577 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:19:23,578 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "a...
2025-04-13 14:19:23,578 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:19:23,578 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:19:23,578 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:19:23,578 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "a...
2025-04-13 14:19:23,578 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına hiç rezervasyon bulunamadı...
2025-04-13 14:19:23,636 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 114 (char 113)
2025-04-13 14:19:23,636 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:23,637 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:19:23,637 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:29,644 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 114 (char 113)
2025-04-13 14:19:29,645 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:29,647 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:19:29,647 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:29,655 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal karaman' additional_kwargs={} response_metadata={} id='b1a8f8ed-2ddb-4d23-8405-bbbe60dba915'...
2025-04-13 14:19:31,464 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "action_type": null, ...
2025-04-13 14:19:31,465 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:19:31,466 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:19:31,469 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "action_type": null, ...
2025-04-13 14:19:31,469 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:19:31,469 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:19:31,470 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:19:31,471 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na hi\u00e7 rezervasyon bulunamad\u0131.", "action_type": null, ...
2025-04-13 14:19:31,471 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına hiç rezervasyon bulunamadı....
2025-04-13 14:19:31,520 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 95 (char 94)
2025-04-13 14:19:31,521 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:19:31,521 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:19:31,522 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:04,734 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:25:04,738 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:25:04,740 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:25:07,942 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:25:07,964 - agents.agents - INFO - ReservationAgent invoked with question: content='merhaba' additional_kwargs={} response_metadata={} id='e02e8425-d8f4-4234-978c-8e97538d35ea'...
2025-04-13 14:25:09,157 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:25:09,158 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:25:09,159 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:09,162 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:25:09,162 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:25:09,162 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:25:09,163 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:25:09,163 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:25:09,164 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 14:25:09,217 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:25:09,218 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:17,369 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:25:17,376 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:25:17,376 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:17,386 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='2ab19579-e0c9-4943-8084-777db50cc000'...
2025-04-13 14:25:18,524 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 14:25:18,526 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:25:18,527 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19ec94e7-0a38-44ab-9363-d61da0098041'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='101ae7e9-642c-409b-9866-f5aaa40d4fb6'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='2ab19579-e0c9-4943-8084-777db50cc000')]
2025-04-13 14:25:18,527 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:18,527 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:25:18,528 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:25:18,529 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19ec94e7-0a38-44ab-9363-d61da0098041'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='101ae7e9-642c-409b-9866-f5aaa40d4fb6'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='2ab19579-e0c9-4943-8084-777db50cc000')]
2025-04-13 14:25:18,531 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:25:18,534 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:25:18,538 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c')]
2025-04-13 14:25:18,538 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:25:18,538 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:25:18,539 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:25:21,927 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:25:21,927 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:25:21,927 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:25:21,927 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:25:21,928 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='2ab19579-e0c9-4943-8084-777db50cc000'...
2025-04-13 14:25:24,026 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na a\\u015fa\\u011f\\u0131daki rezervasyon bulundu:\\n\\nM\\u00...
2025-04-13 14:25:24,027 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:25:24,029 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:24,032 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na a\\u015fa\\u011f\\u0131daki rezervasyon bulundu:\\n\\nM\\u00...
2025-04-13 14:25:24,033 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:25:24,033 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:25:24,033 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:25:24,033 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na a\\u015fa\\u011f\\u0131daki rezervasyon bulundu:\\n\\nM\\u00...
2025-04-13 14:25:24,034 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına a\şa\ğ\ıdaki rezervasyon bulu...
2025-04-13 14:25:24,101 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 298 (char 297)
2025-04-13 14:25:24,102 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:24,102 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:24,102 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:30,577 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:25:30,587 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 298 (char 297)
2025-04-13 14:25:30,587 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:30,588 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:30,589 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:30,597 - agents.agents - INFO - ReservationAgent invoked with question: content='tamam teşekkür ederim' additional_kwargs={} response_metadata={} id='8475f67d-d4c4-4af3-a3c1-cc2b83bdd184'...
2025-04-13 14:25:32,013 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-13 14:25:32,015 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:25:32,016 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:32,019 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-13 14:25:32,019 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:25:32,020 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:25:32,020 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:25:32,020 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\\u0131mc\\u0131 olabildi\\u011fim i\\u00e7in memnunum. Ba\\u015...
2025-04-13 14:25:32,021 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yard\ımc\ı olabildi\ğim i\çin me...
2025-04-13 14:25:32,079 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 170 (char 169)
2025-04-13 14:25:32,079 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:32,080 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:32,080 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:39,727 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:25:39,733 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 170 (char 169)
2025-04-13 14:25:39,734 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:39,736 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:39,736 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:39,745 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç adına varmı' additional_kwargs={} response_metadata={} id='5719ed20-065f-4b5e-9965-3ec3c9236224'...
2025-04-13 14:25:41,503 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\nM\u00fc\u0...
2025-04-13 14:25:41,505 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:25:41,506 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:41,510 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\nM\u00fc\u0...
2025-04-13 14:25:41,511 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:25:41,511 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:25:41,511 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:25:41,511 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\nM\u00fc\u0...
2025-04-13 14:25:41,512 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına aşağıdaki rezervasyon bulundu:...
2025-04-13 14:25:41,562 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 284 (char 283)
2025-04-13 14:25:41,562 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:41,563 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:41,563 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:51,149 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:25:51,157 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 284 (char 283)
2025-04-13 14:25:51,157 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:51,159 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:25:51,159 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:25:51,165 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='093439ea-a682-4f58-be5b-cbab263170c9'...
2025-04-13 14:25:52,594 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 14:25:52,594 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:25:52,595 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:25:52,596 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:52,596 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:25:52,597 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 14:25:52,598 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:25:52,599 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:25:52,600 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:25:52,601 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8f586a1c-dcf9-4c8c-bb00-7d0665a491b7'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4ee18d70-f75e-4625-93ab-1bc9cf1ad989')]
2025-04-13 14:25:52,601 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:25:52,601 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:25:52,601 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:25:55,975 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:25:55,976 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:25:55,976 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:25:55,976 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:25:55,978 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='093439ea-a682-4f58-be5b-cbab263170c9'...
2025-04-13 14:25:57,511 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:25:57,514 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:25:57,515 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:25:57,515 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:25:57,515 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:25:57,516 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:25:57,520 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:25:57,522 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:25:57,523 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:25:57,524 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8f586a1c-dcf9-4c8c-bb00-7d0665a491b7'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4ee18d70-f75e-4625-93ab-1bc9cf1ad989'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='12f653a5-fcb1-4cb1-8a7a-983650822b10'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7c880b68-ef78-47bb-89ba-4e5c2980d412')]
2025-04-13 14:25:57,524 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:25:57,525 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:25:57,525 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:26:00,257 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:26:00,258 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:26:00,258 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:26:00,258 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:26:00,259 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='093439ea-a682-4f58-be5b-cbab263170c9'...
2025-04-13 14:26:01,836 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:26:01,838 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:26:01,840 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:01,840 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:26:01,840 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:26:01,840 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:26:01,845 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:01,846 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:26:01,847 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:26:01,848 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8f586a1c-dcf9-4c8c-bb00-7d0665a491b7'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4ee18d70-f75e-4625-93ab-1bc9cf1ad989'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='12f653a5-fcb1-4cb1-8a7a-983650822b10'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7c880b68-ef78-47bb-89ba-4e5c2980d412'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='bd3ebcd4-7d10-47bc-9bb0-38c0369305eb'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cd81ed72-e66f-4ef0-9006-154cc2ab2029')]
2025-04-13 14:26:01,848 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:26:01,849 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:26:01,849 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:26:05,097 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:26:05,097 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:26:05,097 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:26:05,097 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:26:05,097 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='093439ea-a682-4f58-be5b-cbab263170c9'...
2025-04-13 14:26:06,421 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:26:06,422 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:26:06,424 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:06,424 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:26:06,424 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:26:06,425 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:26:06,429 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:06,429 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:26:06,430 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:26:06,431 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8f586a1c-dcf9-4c8c-bb00-7d0665a491b7'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4ee18d70-f75e-4625-93ab-1bc9cf1ad989'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='12f653a5-fcb1-4cb1-8a7a-983650822b10'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7c880b68-ef78-47bb-89ba-4e5c2980d412'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='bd3ebcd4-7d10-47bc-9bb0-38c0369305eb'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cd81ed72-e66f-4ef0-9006-154cc2ab2029'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='86015d90-c030-437a-b855-769e808685c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='04234da6-065e-48f2-b068-ecd38340098e')]
2025-04-13 14:26:06,432 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:26:06,433 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:26:06,433 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:26:09,593 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:26:09,593 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:26:09,593 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:26:09,593 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:26:09,594 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='093439ea-a682-4f58-be5b-cbab263170c9'...
2025-04-13 14:26:11,096 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:26:11,097 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:26:11,098 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:11,098 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:26:11,098 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:26:11,098 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:26:11,099 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='709fd3e0-f769-412d-9b20-9b7f78b764ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='af57053b-e39d-4e42-9dee-d5c1417ebe15'), HumanMessage(content='Hilal Karaman adına rezervasyon varmı', additional_kwargs={}, response_metadata={}, id='84cd57be-115d-4e4f-959c-131b8ff3fecf'), HumanMessage(content='tamam teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e78dbb3-cd97-47ab-95be-d2628298af4e'), HumanMessage(content='Hüseyin Altıkulaç adına varmı', additional_kwargs={}, response_metadata={}, id='24d9fec9-097e-4b8f-9018-fef2f221e301'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='093439ea-a682-4f58-be5b-cbab263170c9')]
2025-04-13 14:26:11,100 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:26:11,100 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:26:11,101 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6846e0c0-352b-4cfe-bbff-38ec6382eced'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='949b8a05-8474-493d-ad89-e954382ae08c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8f586a1c-dcf9-4c8c-bb00-7d0665a491b7'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4ee18d70-f75e-4625-93ab-1bc9cf1ad989'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='12f653a5-fcb1-4cb1-8a7a-983650822b10'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7c880b68-ef78-47bb-89ba-4e5c2980d412'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='bd3ebcd4-7d10-47bc-9bb0-38c0369305eb'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cd81ed72-e66f-4ef0-9006-154cc2ab2029'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='86015d90-c030-437a-b855-769e808685c2'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='04234da6-065e-48f2-b068-ecd38340098e'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='50db860f-d4ce-4ea8-a300-2da9195993e4'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='af1b36e1-03f0-4606-84f6-102b5b307082')]
2025-04-13 14:26:11,101 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:26:11,102 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:26:11,102 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:28:29,700 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:28:29,704 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:28:29,705 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:28:33,171 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:28:33,201 - agents.agents - INFO - ReservationAgent invoked with question: content='merhaba' additional_kwargs={} response_metadata={} id='715ea003-2fb2-4840-aada-717fb9a68824'...
2025-04-13 14:29:10,085 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:29:10,090 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:29:10,100 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:29:14,203 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:29:14,215 - agents.agents - INFO - ReservationAgent invoked with question: content='merhaba' additional_kwargs={} response_metadata={} id='da07ad30-1e14-4d95-b088-67c60f86d2d3'...
2025-04-13 14:29:15,527 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:29:15,531 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:29:15,533 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:29:15,536 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:29:15,536 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:29:15,536 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:29:15,537 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:29:15,537 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:29:15,537 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 14:29:15,591 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:29:15,592 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:23,147 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:29:23,152 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:29:23,153 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:23,162 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç adına rezerve varmı' additional_kwargs={} response_metadata={} id='4847793a-c910-47e2-b84a-150d1d304299'...
2025-04-13 14:29:24,524 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na rezervasyonlar\u0131n\u0131z listeleniyor"...
2025-04-13 14:29:24,526 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:29:24,527 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='hüseyin altıkulaç adına rezerve varmı' additional_kwargs={} response_metadata={} id='4847793a-c910-47e2-b84a-150d1d304299'
2025-04-13 14:29:24,527 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:29:24,528 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 14:29:24,528 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:29:24,531 - agents.router_agent - INFO - RouterAgent invoked with question: content='hüseyin altıkulaç adına rezerve varmı' additional_kwargs={} response_metadata={} id='4847793a-c910-47e2-b84a-150d1d304299'
2025-04-13 14:29:24,531 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:29:24,532 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:29:24,533 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='76e02d8f-4372-4584-a2d0-90f786481138'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2eba770b-4a52-46ca-a6c2-bd253f001b04')]
2025-04-13 14:29:24,533 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 14:29:24,533 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:29:24,534 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:29:28,976 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:29:28,976 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 14:29:28,976 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 14:29:28,977 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 14:29:28,977 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç adına rezerve varmı' additional_kwargs={} response_metadata={} id='4847793a-c910-47e2-b84a-150d1d304299'...
2025-04-13 14:29:30,320 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon kayd\\u0131 bulunamad\\u01...
2025-04-13 14:29:30,322 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:29:30,323 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:29:30,325 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon kayd\\u0131 bulunamad\\u01...
2025-04-13 14:29:30,325 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:29:30,326 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:29:30,326 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:29:30,326 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon kayd\\u0131 bulunamad\\u01...
2025-04-13 14:29:30,326 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına rezervasyon kayd\ı bul...
2025-04-13 14:29:30,385 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 122 (char 121)
2025-04-13 14:29:30,385 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:30,386 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:29:30,386 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:36,794 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:29:36,805 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 122 (char 121)
2025-04-13 14:29:36,806 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:36,807 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:29:36,807 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:36,824 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç' additional_kwargs={} response_metadata={} id='0059c1a3-2c28-4030-a27c-94342f10a565'...
2025-04-13 14:29:38,299 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", ...
2025-04-13 14:29:38,301 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:29:38,303 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:29:38,306 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", ...
2025-04-13 14:29:38,307 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:29:38,307 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:29:38,307 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:29:38,307 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", ...
2025-04-13 14:29:38,307 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına rezervasyon kaydı bulunama...
2025-04-13 14:29:38,367 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 116 (char 115)
2025-04-13 14:29:38,367 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:38,367 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:29:38,367 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:44,072 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:29:44,078 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 116 (char 115)
2025-04-13 14:29:44,079 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:44,080 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:29:44,081 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:44,089 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal karaman varmı' additional_kwargs={} response_metadata={} id='c87f4a48-6d2f-41b0-b458-afd67f440edd'...
2025-04-13 14:29:45,519 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", "action_type": null...
2025-04-13 14:29:45,521 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:29:45,522 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:29:45,526 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", "action_type": null...
2025-04-13 14:29:45,527 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:29:45,527 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:29:45,528 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:29:45,528 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na rezervasyon kayd\u0131 bulunamad\u0131.", "action_type": null...
2025-04-13 14:29:45,528 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına rezervasyon kaydı bulunamadı....
2025-04-13 14:29:45,579 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 97 (char 96)
2025-04-13 14:29:45,579 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:45,580 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:29:45,580 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:29:49,452 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-13 14:29:49,454 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:29:49,456 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:32:08,818 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:32:08,821 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:32:08,823 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:08,424 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:08,437 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:08,451 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:08,457 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:08,457 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:08,458 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:08,459 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:08,459 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:08,507 - agents.agents - INFO - ReservationAgent invoked with question: content='Merhaba kirve' additional_kwargs={} response_metadata={} id='2253205b-79a9-4b33-bc28-491ecd5666a0'...
2025-04-13 14:34:09,851 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:34:09,853 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:09,854 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:09,857 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:34:09,858 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:09,858 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:09,858 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:09,859 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:34:09,859 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 14:34:09,939 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:34:09,939 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:18,033 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:18,043 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:18,049 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:18,057 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:18,061 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:18,061 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:18,062 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:18,062 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:18,063 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='d0b6d2c7-a29b-41f3-9fa6-e00fcbfba24c'...
2025-04-13 14:34:19,407 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 14:34:19,412 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:34:19,418 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='d0b6d2c7-a29b-41f3-9fa6-e00fcbfba24c'
2025-04-13 14:34:19,418 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:34:19,424 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:19,424 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:34:19,642 - agents.router_agent - INFO - RouterAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='d0b6d2c7-a29b-41f3-9fa6-e00fcbfba24c'
2025-04-13 14:34:19,646 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:34:19,647 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:34:19,648 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='f97fa342-1a05-4ffa-b48a-a1cc99e5c151'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='18c8b39c-f657-43ae-b7fe-1afcf8d2c0be')]
2025-04-13 14:34:19,649 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:34:19,649 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:34:19,649 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:34:23,716 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:34:23,716 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:34:23,716 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:34:23,717 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:34:23,718 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='d0b6d2c7-a29b-41f3-9fa6-e00fcbfba24c'...
2025-04-13 14:34:26,166 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Re...
2025-04-13 14:34:26,166 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:26,167 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:26,168 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Re...
2025-04-13 14:34:26,169 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:26,169 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:26,169 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:26,169 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Re...
2025-04-13 14:34:26,169 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına olan rezervasyonlar lis...
2025-04-13 14:34:26,217 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 474 (char 473)
2025-04-13 14:34:26,217 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:26,217 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:34:26,217 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:35,211 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:35,221 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:35,227 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:35,233 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:35,234 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:35,234 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:35,234 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:35,234 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:35,240 - agents.agents - INFO - ReservationAgent invoked with question: content='tamam süpersin ' additional_kwargs={} response_metadata={} id='9338c148-f1ad-407c-8f42-87c62e7c38d1'...
2025-04-13 14:34:36,518 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:36,519 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:36,521 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:36,524 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:36,525 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:36,525 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:36,525 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:36,526 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:36,526 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 14:34:36,577 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 14:34:36,577 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:41,236 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:41,245 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:41,250 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:41,257 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:41,258 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:41,258 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:41,258 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:41,258 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:41,264 - agents.agents - INFO - ReservationAgent invoked with question: content='Otelde kahvaltı varmı' additional_kwargs={} response_metadata={} id='2a7e60e6-3644-4de1-815a-4a5ee53cde32'...
2025-04-13 14:34:42,756 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Evet, kahvalt\u0131m\u0131z otel fiyat\u0131na dahildir ve restoran\u0131m\u0131zda 07...
2025-04-13 14:34:42,758 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:42,760 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:42,762 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Evet, kahvalt\u0131m\u0131z otel fiyat\u0131na dahildir ve restoran\u0131m\u0131zda 07...
2025-04-13 14:34:42,763 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:42,763 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:42,763 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:42,763 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Evet, kahvalt\u0131m\u0131z otel fiyat\u0131na dahildir ve restoran\u0131m\u0131zda 07...
2025-04-13 14:34:42,763 - __main__ - INFO - ✅ JSON response regex ile bulundu: Evet, kahvaltımız otel fiyatına dahildir ve restor...
2025-04-13 14:34:42,811 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 172 (char 171)
2025-04-13 14:34:42,812 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:46,923 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:46,933 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:46,938 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:46,945 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:46,945 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:46,946 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:46,946 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:46,946 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:46,949 - agents.agents - INFO - ReservationAgent invoked with question: content='tamam ' additional_kwargs={} response_metadata={} id='d5b6482f-5a68-48ef-8741-89d18b53fab6'...
2025-04-13 14:34:48,261 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:48,262 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:48,262 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:48,265 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:48,265 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:48,265 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:48,265 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:48,266 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:48,266 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 14:34:48,305 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 14:34:48,305 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:34:56,221 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:34:56,230 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:34:56,235 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:34:56,241 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:34:56,241 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:34:56,241 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:34:56,242 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:34:56,242 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:34:56,248 - agents.agents - INFO - ReservationAgent invoked with question: content='sağol iyi günler' additional_kwargs={} response_metadata={} id='caadb889-d638-49c4-984e-796d27088f8b'...
2025-04-13 14:34:57,575 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:57,576 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:34:57,577 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:34:57,580 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:57,580 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:34:57,583 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:34:57,583 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:34:57,584 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:34:57,585 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 14:34:57,647 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 14:34:57,647 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:35:02,235 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:35:02,245 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:35:02,251 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:35:02,257 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:35:02,257 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:35:02,258 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:35:02,258 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:35:02,261 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:35:02,263 - agents.agents - INFO - ReservationAgent invoked with question: content='iyi günler' additional_kwargs={} response_metadata={} id='1bd3a880-b09a-47a0-89e4-fd58a608eaea'...
2025-04-13 14:35:03,432 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "\u0130yi g\u00fcnler, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": ...
2025-04-13 14:35:03,433 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:35:03,433 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:03,436 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130yi g\u00fcnler, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": ...
2025-04-13 14:35:03,436 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:35:03,436 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:35:03,436 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:35:03,436 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130yi g\u00fcnler, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": ...
2025-04-13 14:35:03,436 - __main__ - INFO - ✅ JSON response regex ile bulundu: İyi günler, size nasıl yardımcı olabilirim?...
2025-04-13 14:35:03,487 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 101 (char 100)
2025-04-13 14:35:03,487 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:35:14,281 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:35:14,292 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:35:14,298 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:35:14,305 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:35:14,306 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:35:14,306 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:35:14,307 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:35:14,308 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:35:14,310 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='b8654d3d-866d-49b1-af6b-82c6b6982afb'...
2025-04-13 14:35:15,636 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyonunuz olup olmad\u0131\u011f\u0131n\u0131 kontrol e...
2025-04-13 14:35:15,636 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:35:15,637 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hilal karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='b8654d3d-866d-49b1-af6b-82c6b6982afb'
2025-04-13 14:35:15,637 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:15,637 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:35:15,637 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 14:35:15,638 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hilal karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='b8654d3d-866d-49b1-af6b-82c6b6982afb'
2025-04-13 14:35:15,638 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:35:15,639 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:35:15,639 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='db483972-a9c6-4de8-a978-612bb55a14b8'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='11cf1fee-2c8c-420e-abcc-13a41f7c99bb')]
2025-04-13 14:35:15,639 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 14:35:15,639 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:35:15,639 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:35:18,911 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:35:18,912 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 14:35:18,912 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 14:35:18,912 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 14:35:18,912 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal karaman adına rezervasyon varmı' additional_kwargs={} response_metadata={} id='b8654d3d-866d-49b1-af6b-82c6b6982afb'...
2025-04-13 14:35:20,644 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\n1. 01-05 T...
2025-04-13 14:35:20,646 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:35:20,648 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:20,651 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\n1. 01-05 T...
2025-04-13 14:35:20,652 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:35:20,652 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:35:20,652 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:35:20,652 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na a\u015fa\u011f\u0131daki rezervasyon bulundu:\\n\\n1. 01-05 T...
2025-04-13 14:35:20,653 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına aşağıdaki rezervasyon bulundu:...
2025-04-13 14:35:20,700 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 159 (char 158)
2025-04-13 14:35:20,700 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:35:20,701 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:35:20,701 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:35:29,081 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:35:29,093 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:35:29,099 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:35:29,105 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:35:29,106 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:35:29,107 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:35:29,107 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:35:29,107 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:35:29,110 - agents.agents - INFO - ReservationAgent invoked with question: content='tamam teşekkür ederim' additional_kwargs={} response_metadata={} id='3157c801-5132-4061-a354-9de4e4f62bc0'...
2025-04-13 14:35:30,681 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:35:30,682 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:35:30,683 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:30,686 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:35:30,686 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:35:30,686 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:35:30,686 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:35:30,686 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 14:35:30,686 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 14:35:30,741 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 14:35:30,741 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:35:38,893 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:35:38,908 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:35:38,914 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:35:38,922 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:35:38,922 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:35:38,922 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:35:38,923 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:35:38,923 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:35:38,928 - agents.agents - INFO - ReservationAgent invoked with question: content='ben 2 isim hakkında sorgu yaptım o isimler nelerdi' additional_kwargs={} response_metadata={} id='99576fea-faa7-467c-b88e-276123f53cbe'...
2025-04-13 14:35:40,413 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce herhangi bir isim hakk\u0131nda sorgu yapmad\u0131n\u0131z. Hangi isiml...
2025-04-13 14:35:40,414 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:35:40,416 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='ben 2 isim hakkında sorgu yaptım o isimler nelerdi' additional_kwargs={} response_metadata={} id='99576fea-faa7-467c-b88e-276123f53cbe'
2025-04-13 14:35:40,416 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:40,417 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:35:40,419 - agents.router_agent - INFO - RouterAgent invoked with question: content='ben 2 isim hakkında sorgu yaptım o isimler nelerdi' additional_kwargs={} response_metadata={} id='99576fea-faa7-467c-b88e-276123f53cbe'
2025-04-13 14:35:40,423 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 14:35:40,423 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 14:35:40,424 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:35:40,424 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce herhangi bir isim hakk\u0131nda sorgu yapmad\u0131n\u0131z. Hangi isiml...
2025-04-13 14:35:40,425 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:35:40,425 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:35:40,425 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:35:40,425 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce herhangi bir isim hakk\u0131nda sorgu yapmad\u0131n\u0131z. Hangi isiml...
2025-04-13 14:35:40,425 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce herhangi bir isim hakkında sorgu yapmadı...
2025-04-13 14:35:40,469 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 220 (char 219)
2025-04-13 14:35:40,470 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:36:01,624 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:36:01,636 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:36:01,641 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:36:01,649 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:36:01,649 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:36:01,650 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:36:01,650 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:36:01,650 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:36:01,653 - agents.agents - INFO - ReservationAgent invoked with question: content='İki tane rezervasyon sorgusu yaptım o yaptıığım isimleri geçmiş hafızandan bak' additional_kwargs={} response_metadata={} id='3e8dfa00-83c9-495a-9b1e-c1882b57f428'...
2025-04-13 14:36:02,886 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce sorgulad\u0131\u011f\u0131n\u0131z rezervasyonlar\u0131 tekrar listeliy...
2025-04-13 14:36:02,887 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:36:02,889 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:36:02,889 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='İki tane rezervasyon sorgusu yaptım o yaptıığım isimleri geçmiş hafızandan bak' additional_kwargs={} response_metadata={} id='3e8dfa00-83c9-495a-9b1e-c1882b57f428'
2025-04-13 14:36:02,889 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:36:02,889 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:36:02,892 - agents.router_agent - INFO - RouterAgent invoked with question: content='İki tane rezervasyon sorgusu yaptım o yaptıığım isimleri geçmiş hafızandan bak' additional_kwargs={} response_metadata={} id='3e8dfa00-83c9-495a-9b1e-c1882b57f428'
2025-04-13 14:36:02,893 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:36:02,893 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:36:02,894 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='5a7d817f-e947-4951-80be-5b7f5db31e27'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='7f8a9fbb-efea-486b-9ba9-eace6ee36f91')]
2025-04-13 14:36:02,895 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:36:02,896 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:36:02,896 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:36:07,234 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:36:07,234 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:36:07,234 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:36:07,234 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:36:07,235 - agents.agents - INFO - ReservationAgent invoked with question: content='İki tane rezervasyon sorgusu yaptım o yaptıığım isimleri geçmiş hafızandan bak' additional_kwargs={} response_metadata={} id='3e8dfa00-83c9-495a-9b1e-c1882b57f428'...
2025-04-13 14:36:08,670 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyonunuz bulundu:\\n\\n1. 15 Hazi...
2025-04-13 14:36:08,671 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:36:08,673 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:36:08,677 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyonunuz bulundu:\\n\\n1. 15 Hazi...
2025-04-13 14:36:08,677 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:36:08,678 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:36:08,678 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:36:08,678 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyonunuz bulundu:\\n\\n1. 15 Hazi...
2025-04-13 14:36:08,678 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 adet rezervasyonunuz bul...
2025-04-13 14:36:08,730 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 293 (char 292)
2025-04-13 14:36:08,730 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:36:08,731 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:36:08,731 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:41:08,053 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:41:08,079 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:41:08,085 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:41:08,089 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:41:08,089 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:41:08,089 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:41:08,089 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:41:08,090 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:41:08,091 - agents.agents - INFO - ReservationAgent invoked with question: content='otelde havuz varmı' additional_kwargs={} response_metadata={} id='2a4fee58-9ac3-4750-a11d-0bfb71683b13'...
2025-04-13 14:41:09,258 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimizde havuz bulunmamaktad\u0131r.", "action_type": null, "tool_action": null, "cu...
2025-04-13 14:41:09,258 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:41:09,259 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:41:09,261 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimizde havuz bulunmamaktad\u0131r.", "action_type": null, "tool_action": null, "cu...
2025-04-13 14:41:09,262 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:41:09,262 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:41:09,262 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:41:09,262 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Otelimizde havuz bulunmamaktad\u0131r.", "action_type": null, "tool_action": null, "cu...
2025-04-13 14:41:09,262 - __main__ - INFO - ✅ JSON response regex ile bulundu: Otelimizde havuz bulunmamaktadır....
2025-04-13 14:41:09,309 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 71 (char 70)
2025-04-13 14:41:09,309 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:41:13,891 - __main__ - INFO - 🔄 Yeni sorgu geldi, eski rezervasyon verileri temizleniyor
2025-04-13 14:41:13,901 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:41:13,906 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:41:13,914 - __main__ - INFO - 🧹 dict_inputs içinde reservations_result temizlendi
2025-04-13 14:41:13,915 - __main__ - INFO - 🧹 dict_inputs içinde reservation_response temizlendi
2025-04-13 14:41:13,915 - __main__ - INFO - 🧹 dict_inputs içinde add_reservation_result temizlendi
2025-04-13 14:41:13,915 - __main__ - INFO - 🧹 dict_inputs içinde update_reservation_result temizlendi
2025-04-13 14:41:13,916 - __main__ - INFO - 🧹 dict_inputs içinde delete_reservation_result temizlendi
2025-04-13 14:41:13,917 - agents.agents - INFO - ReservationAgent invoked with question: content='otelin adı ne' additional_kwargs={} response_metadata={} id='068787b4-b03a-4543-8bc4-90f0036f85a6'...
2025-04-13 14:41:15,252 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimizin ad\u0131 Alt\u0131kula\u00e7 Otel'dir.", "action_type": null, "tool_action"...
2025-04-13 14:41:15,252 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:41:15,253 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:41:15,256 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimizin ad\u0131 Alt\u0131kula\u00e7 Otel'dir.", "action_type": null, "tool_action"...
2025-04-13 14:41:15,256 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:41:15,256 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:41:15,256 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:41:15,257 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Otelimizin ad\u0131 Alt\u0131kula\u00e7 Otel'dir.", "action_type": null, "tool_action"...
2025-04-13 14:41:15,257 - __main__ - INFO - ✅ JSON response regex ile bulundu: Otelimizin adı Altıkulaç Otel'dir....
2025-04-13 14:41:15,304 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 60 (char 59)
2025-04-13 14:41:15,304 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:11,400 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 14:56:11,403 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:56:11,405 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:56:21,246 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:56:21,250 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:56:21,253 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:56:21,287 - agents.agents - INFO - ReservationAgent invoked with question: content='merhaba' additional_kwargs={} response_metadata={} id='4e29f629-78ae-4373-8f51-0cc8086cef1f'...
2025-04-13 14:56:22,628 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:56:22,629 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:56:22,631 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:56:22,635 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:56:22,635 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:56:22,635 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:56:22,636 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:56:22,636 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 14:56:22,637 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 14:56:22,701 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:56:22,701 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:38,494 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:56:38,505 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 14:56:38,506 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:38,509 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:56:38,521 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:56:38,540 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum' additional_kwargs={} response_metadata={} id='87d7e4d7-2eb9-412c-a2a4-c928ee5a1f5a'...
2025-04-13 14:56:39,984 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 14:56:39,987 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 14:56:39,990 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum' additional_kwargs={} response_metadata={} id='87d7e4d7-2eb9-412c-a2a4-c928ee5a1f5a'
2025-04-13 14:56:39,990 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:56:39,990 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 14:56:39,992 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 14:56:39,998 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum' additional_kwargs={} response_metadata={} id='87d7e4d7-2eb9-412c-a2a4-c928ee5a1f5a'
2025-04-13 14:56:39,999 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 14:56:39,999 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 14:56:40,000 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e09a6d26-8a2d-4581-a313-0949ac1b333d'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='db75b2fc-0ed6-4ad0-8053-f49412a6c05b')]
2025-04-13 14:56:40,000 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 14:56:40,000 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 14:56:40,001 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 14:56:47,466 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 14:56:47,466 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 14:56:47,466 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 14:56:47,468 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 14:56:47,469 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum' additional_kwargs={} response_metadata={} id='87d7e4d7-2eb9-412c-a2a4-c928ee5a1f5a'...
2025-04-13 14:56:48,995 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Haziran ...
2025-04-13 14:56:48,996 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:56:48,998 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:56:49,002 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Haziran ...
2025-04-13 14:56:49,003 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:56:49,003 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:56:49,003 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:56:49,004 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Haziran ...
2025-04-13 14:56:49,004 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 adet rezervasyon bulundu...
2025-04-13 14:56:49,078 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 239 (char 238)
2025-04-13 14:56:49,078 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:49,079 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:56:49,079 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:57,690 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:56:57,696 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 239 (char 238)
2025-04-13 14:56:57,697 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:57,699 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 14:56:57,700 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:56:57,704 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:56:57,708 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:56:57,719 - agents.agents - INFO - ReservationAgent invoked with question: content='şimdi bana yeni bir rezervasyon yapalım' additional_kwargs={} response_metadata={} id='79c53b0d-aefa-49bf-a8f4-af97075c3684'...
2025-04-13 14:56:59,128 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f tarihi, \u00e7\u0131k\u0131\u015f tarihi, o...
2025-04-13 14:56:59,129 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 14:56:59,129 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='şimdi bana yeni bir rezervasyon yapalım' additional_kwargs={} response_metadata={} id='79c53b0d-aefa-49bf-a8f4-af97075c3684'
2025-04-13 14:56:59,129 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 14:56:59,129 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:56:59,130 - agents.router_agent - INFO - RouterAgent invoked with question: content='şimdi bana yeni bir rezervasyon yapalım' additional_kwargs={} response_metadata={} id='79c53b0d-aefa-49bf-a8f4-af97075c3684'
2025-04-13 14:56:59,131 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 14:56:59,131 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 14:56:59,131 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:56:59,132 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f tarihi, \u00e7\u0131k\u0131\u015f tarihi, o...
2025-04-13 14:56:59,132 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:56:59,132 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:56:59,132 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:56:59,132 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f tarihi, \u00e7\u0131k\u0131\u015f tarihi, o...
2025-04-13 14:56:59,133 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyon için ad soyad, giriş tarihi, çıkış tar...
2025-04-13 14:56:59,166 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 254 (char 253)
2025-04-13 14:56:59,167 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:16,993 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:57:16,999 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 254 (char 253)
2025-04-13 14:57:17,000 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:17,004 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:57:17,008 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:57:17,013 - agents.agents - INFO - ReservationAgent invoked with question: content='Ahmet aslan 10-14 temmuz arası 2 kişiyiz' additional_kwargs={} response_metadata={} id='f47a1ee3-b358-4716-85b3-ff677e4a6b37'...
2025-04-13 14:57:18,485 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na 10-14 Temmuz tarihleri aras\u0131nda 2 ki\u015filik rezervasyon...
2025-04-13 14:57:18,487 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 14:57:18,488 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Ahmet aslan 10-14 temmuz arası 2 kişiyiz' additional_kwargs={} response_metadata={} id='f47a1ee3-b358-4716-85b3-ff677e4a6b37'
2025-04-13 14:57:18,488 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:57:18,489 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 14:57:18,489 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-14", "room_type": null, "adults": 2, "children": 0}
2025-04-13 14:57:18,490 - agents.router_agent - INFO - Müşteri adına göre rezervasyon sorgusu: {"customer_name": "Ahmet Aslan"}
2025-04-13 14:57:18,493 - agents.router_agent - INFO - RouterAgent invoked with question: content='Ahmet aslan 10-14 temmuz arası 2 kişiyiz' additional_kwargs={} response_metadata={} id='f47a1ee3-b358-4716-85b3-ff677e4a6b37'
2025-04-13 14:57:18,494 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 14:57:18,495 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 14:57:18,496 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:57:18,499 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\u0131na 10-14 Temmuz tarihleri aras\u0131nda 2 ki\u015filik rezervasyon...
2025-04-13 14:57:18,499 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:57:18,499 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:57:18,499 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:57:18,500 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\u0131na 10-14 Temmuz tarihleri aras\u0131nda 2 ki\u015filik rezervasyon...
2025-04-13 14:57:18,500 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan adına 10-14 Temmuz tarihleri arasında ...
2025-04-13 14:57:18,548 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 205 (char 204)
2025-04-13 14:57:18,548 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:26,437 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:57:26,446 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 205 (char 204)
2025-04-13 14:57:26,447 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:26,461 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:57:26,465 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:57:26,484 - agents.agents - INFO - ReservationAgent invoked with question: content='Oda fiyatları nelerdir' additional_kwargs={} response_metadata={} id='159d59d5-367e-48b6-bdbe-d8b5f8bfa31d'...
2025-04-13 14:57:28,007 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Oda fiyatlar\u0131m\u0131z a\u015fa\u011f\u0131daki gibidir:\\nStandard: 1000TL\\nDelu...
2025-04-13 14:57:28,008 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 14:57:28,009 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:57:28,012 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Oda fiyatlar\u0131m\u0131z a\u015fa\u011f\u0131daki gibidir:\\nStandard: 1000TL\\nDelu...
2025-04-13 14:57:28,012 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:57:28,013 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:57:28,013 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:57:28,014 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Oda fiyatlar\u0131m\u0131z a\u015fa\u011f\u0131daki gibidir:\\nStandard: 1000TL\\nDelu...
2025-04-13 14:57:28,014 - __main__ - INFO - ✅ JSON response regex ile bulundu: Oda fiyatlarımız aşağıdaki gibidir:\
Standard: 100...
2025-04-13 14:57:28,086 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 145 (char 144)
2025-04-13 14:57:28,086 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:34,196 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 14:57:34,201 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 145 (char 144)
2025-04-13 14:57:34,202 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 14:57:34,205 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 14:57:34,211 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 14:57:34,216 - agents.agents - INFO - ReservationAgent invoked with question: content='Standart oda olsun' additional_kwargs={} response_metadata={} id='d5551e10-546f-4943-83b5-7f6a098abb0b'...
2025-04-13 14:57:35,585 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuz i\u00e7in ad\u0131n\u0131z, giri\u015f ve \u00e7\u0131k\u0131\u015f ta...
2025-04-13 14:57:35,587 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 14:57:35,589 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Standart oda olsun' additional_kwargs={} response_metadata={} id='d5551e10-546f-4943-83b5-7f6a098abb0b'
2025-04-13 14:57:35,589 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:57:35,590 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 14:57:35,594 - agents.router_agent - INFO - RouterAgent invoked with question: content='Standart oda olsun' additional_kwargs={} response_metadata={} id='d5551e10-546f-4943-83b5-7f6a098abb0b'
2025-04-13 14:57:35,595 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 14:57:35,596 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 14:57:35,597 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 14:57:35,599 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuz i\u00e7in ad\u0131n\u0131z, giri\u015f ve \u00e7\u0131k\u0131\u015f ta...
2025-04-13 14:57:35,600 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 14:57:35,600 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 14:57:35,600 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 14:57:35,601 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyonunuz i\u00e7in ad\u0131n\u0131z, giri\u015f ve \u00e7\u0131k\u0131\u015f ta...
2025-04-13 14:57:35,601 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyonunuz için adınız, giriş ve çıkış tarihl...
2025-04-13 14:57:35,648 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 257 (char 256)
2025-04-13 14:57:35,648 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:00:34,691 - __main__ - INFO - LangGraph session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:00:34,695 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:00:34,697 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:00:34,698 - __main__ - INFO - Workflow başlatıldı. Mevcut state: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:00:37,738 - __main__ - INFO - 🔄 Yeni sorgu geldi, dialog bağlamı korunuyor
2025-04-13 15:00:37,752 - __main__ - INFO - LangGraph için girdi hazırlandı. Son kullanıcı mesajı: merhaba
2025-04-13 15:00:37,790 - agents.agents - INFO - ReservationAgent invoked with question: content='merhaba' additional_kwargs={} response_metadata={} id='87517a7d-b1bd-43f0-b880-f002e7c4ef4e'...
2025-04-13 15:00:39,179 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:00:39,181 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:00:39,183 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:00:39,187 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:00:39,187 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:00:39,187 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:00:39,187 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:00:39,187 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:00:39,188 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 15:00:39,240 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:00:39,240 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:00:44,479 - __main__ - INFO - 🔄 Yeni sorgu geldi, dialog bağlamı korunuyor
2025-04-13 15:00:44,484 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:00:44,484 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:00:44,493 - __main__ - INFO - LangGraph için girdi hazırlandı. Son kullanıcı mesajı: hüseyin altıkulaç listele rezervasyonları
2025-04-13 15:00:44,495 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'...
2025-04-13 15:00:46,150 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:00:46,153 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:00:46,155 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'
2025-04-13 15:00:46,156 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:00:46,156 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:00:46,157 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:00:46,160 - agents.router_agent - INFO - RouterAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'
2025-04-13 15:00:46,161 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:00:46,162 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:00:46,163 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ff8c84c4-ed01-4f54-8122-0ba5608b6117'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ab49cfb-8592-470c-ab68-051490adc749')]
2025-04-13 15:00:46,164 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:00:46,164 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:00:46,164 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 15:00:51,165 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:00:51,166 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:00:51,166 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:00:51,166 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:00:51,167 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'...
2025-04-13 15:00:52,515 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:00:52,517 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:00:52,518 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'
2025-04-13 15:00:52,519 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:00:52,519 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:00:52,522 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:00:52,523 - agents.router_agent - INFO - RouterAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'
2025-04-13 15:00:52,523 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:00:52,524 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:00:52,525 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ff8c84c4-ed01-4f54-8122-0ba5608b6117'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='2ab49cfb-8592-470c-ab68-051490adc749'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='3ea0f7f3-df4e-458c-9865-907397e112e3'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='32080243-f302-48e9-b2fb-4e88a42b1114')]
2025-04-13 15:00:52,526 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:00:52,526 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:00:52,526 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 15:00:57,003 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:00:57,003 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:00:57,003 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:00:57,003 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:00:57,004 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç listele rezervasyonları' additional_kwargs={} response_metadata={} id='9dc433ce-1a8e-4984-8060-dff486026a59'...
2025-04-13 15:00:58,437 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131n\u0131za kay\u0131tl\u0131 rezervasyon bulun...
2025-04-13 15:00:58,438 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:00:58,440 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:00:58,444 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131n\u0131za kay\u0131tl\u0131 rezervasyon bulun...
2025-04-13 15:00:58,444 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:00:58,444 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:00:58,445 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:00:58,445 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131n\u0131za kay\u0131tl\u0131 rezervasyon bulun...
2025-04-13 15:00:58,445 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adınıza kayıtlı rezervasyon bulu...
2025-04-13 15:00:58,500 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 135 (char 134)
2025-04-13 15:00:58,500 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:00:58,501 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:00:58,501 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:09,894 - __main__ - INFO - 🔄 Yeni sorgu geldi, dialog bağlamı korunuyor
2025-04-13 15:01:09,900 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 135 (char 134)
2025-04-13 15:01:09,900 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:09,902 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:09,903 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:09,908 - __main__ - INFO - LangGraph için girdi hazırlandı. Son kullanıcı mesajı: Hüseyin Altıkulaç adına nasıl yok bir daha bak
2025-04-13 15:01:09,909 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç adına nasıl yok bir daha bak' additional_kwargs={} response_metadata={} id='972e693d-919b-4dc2-8abc-820d736efeb1'...
2025-04-13 15:01:11,341 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunm...
2025-04-13 15:01:11,343 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:01:11,344 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:11,346 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunm...
2025-04-13 15:01:11,347 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:01:11,347 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:01:11,347 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:01:11,347 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunm...
2025-04-13 15:01:11,347 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına kay\ıtl\ı rezervasyon ...
2025-04-13 15:01:11,406 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 135 (char 134)
2025-04-13 15:01:11,407 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:11,408 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:11,408 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:16,600 - __main__ - INFO - 🔄 Yeni sorgu geldi, dialog bağlamı korunuyor
2025-04-13 15:01:16,606 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 135 (char 134)
2025-04-13 15:01:16,606 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:16,608 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:16,609 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:16,613 - __main__ - INFO - LangGraph için girdi hazırlandı. Son kullanıcı mesajı: hüseyin altıkulaç
2025-04-13 15:01:16,614 - agents.agents - INFO - ReservationAgent invoked with question: content='hüseyin altıkulaç' additional_kwargs={} response_metadata={} id='e08dc62a-6f67-4493-b2e6-b53b7afa2c55'...
2025-04-13 15:01:17,996 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamakta...
2025-04-13 15:01:17,997 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:01:17,999 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:18,003 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamakta...
2025-04-13 15:01:18,003 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:01:18,004 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:01:18,004 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:01:18,004 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamakta...
2025-04-13 15:01:18,004 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına kayıtlı rezervasyon bulunm...
2025-04-13 15:01:18,055 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 128 (char 127)
2025-04-13 15:01:18,055 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:18,056 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:18,056 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:23,948 - __main__ - INFO - 🔄 Yeni sorgu geldi, dialog bağlamı korunuyor
2025-04-13 15:01:23,955 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 128 (char 127)
2025-04-13 15:01:23,955 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:23,957 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:23,958 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:23,964 - __main__ - INFO - LangGraph için girdi hazırlandı. Son kullanıcı mesajı: Hilal Karaman varmı
2025-04-13 15:01:23,967 - agents.agents - INFO - ReservationAgent invoked with question: content='Hilal Karaman varmı' additional_kwargs={} response_metadata={} id='0cb3626c-457a-4e5a-b74c-67171ac0c56d'...
2025-04-13 15:01:25,470 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamaktad\u0131r.", "action...
2025-04-13 15:01:25,471 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:01:25,472 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:25,476 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamaktad\u0131r.", "action...
2025-04-13 15:01:25,476 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:01:25,476 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:01:25,477 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:01:25,477 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na kay\u0131tl\u0131 rezervasyon bulunmamaktad\u0131r.", "action...
2025-04-13 15:01:25,477 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına kayıtlı rezervasyon bulunmamak...
2025-04-13 15:01:25,530 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 109 (char 108)
2025-04-13 15:01:25,531 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:25,531 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:01:25,531 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:01:37,975 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:01:37,993 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:01:37,999 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:01:41,369 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:01:41,377 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:01:41,383 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:01:41,392 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'...
2025-04-13 15:01:42,784 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:01:42,786 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:01:42,787 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:42,788 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:42,788 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:01:42,790 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:01:42,793 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:42,793 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:01:42,794 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:01:42,795 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e86af378-0b9a-4b42-9eb0-abf81dc147f0'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='f27eb32d-bd9f-45b6-9d89-10e05dd80f3f')]
2025-04-13 15:01:42,795 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:01:42,796 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:01:42,796 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 15:01:47,588 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:01:47,589 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:01:47,589 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:01:47,589 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:01:47,591 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'...
2025-04-13 15:01:49,124 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 15:01:49,125 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:01:49,127 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:49,127 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:49,127 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:01:49,128 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 15:01:49,131 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:49,131 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:01:49,132 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:01:49,133 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e86af378-0b9a-4b42-9eb0-abf81dc147f0'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='f27eb32d-bd9f-45b6-9d89-10e05dd80f3f'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='77fac2b0-802e-43a0-8ce3-4a3e4093073f'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9fbb01e3-52bd-43f5-809e-93ae5149f786')]
2025-04-13 15:01:49,133 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:01:49,133 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:01:49,133 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 15:01:53,121 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:01:53,122 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:01:53,122 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:01:53,123 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:01:53,126 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'...
2025-04-13 15:01:54,521 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 15:01:54,522 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:01:54,524 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:54,524 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:01:54,524 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:01:54,525 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 15:01:54,530 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'
2025-04-13 15:01:54,531 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:01:54,531 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:01:54,532 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e86af378-0b9a-4b42-9eb0-abf81dc147f0'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='f27eb32d-bd9f-45b6-9d89-10e05dd80f3f'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='77fac2b0-802e-43a0-8ce3-4a3e4093073f'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9fbb01e3-52bd-43f5-809e-93ae5149f786'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='b3c9a0f9-0b2a-4054-a014-0537b14a1ffe'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='b8c5e0e7-a490-4c32-808a-37ee258e5e87')]
2025-04-13 15:01:54,532 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:01:54,533 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:01:54,533 - services.sheets_service - INFO - Kimlik bilgileri çevre değişkeninden okunuyor...
2025-04-13 15:01:59,095 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:01:59,095 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:01:59,095 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:01:59,095 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:01:59,096 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='61e620d6-166d-45b5-966f-d8bd2b06c44a'...
2025-04-13 15:02:00,687 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 202...
2025-04-13 15:02:00,688 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:02:00,688 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:02:00,690 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 202...
2025-04-13 15:02:00,690 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:02:00,690 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:02:00,691 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:02:00,691 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 202...
2025-04-13 15:02:00,691 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 15:02:00,746 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 262 (char 261)
2025-04-13 15:02:00,746 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:02:00,747 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:02:00,747 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:03:08,484 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:03:08,488 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:03:08,490 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:03:11,549 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:03:11,558 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:03:11,563 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:03:11,597 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'...
2025-04-13 15:03:13,175 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:03:13,180 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:03:13,182 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:03:13,182 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'
2025-04-13 15:03:13,182 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:03:13,183 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:03:13,183 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'
2025-04-13 15:03:13,184 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:03:13,184 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:03:13,184 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='332ebce4-b8c7-4ff0-b19a-feeeda5ca4f7'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fa1096cf-6b51-4015-9474-4f81fe1eb48f')]
2025-04-13 15:03:13,185 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:03:13,185 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:03:13,185 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:03:18,443 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:03:18,444 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:03:18,444 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:03:18,445 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:03:18,446 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'...
2025-04-13 15:03:19,987 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 15:03:19,988 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:03:19,989 - agents.router_agent - INFO - DataExtractorAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'
2025-04-13 15:03:19,990 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:03:19,990 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:03:19,991 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 15:03:19,995 - agents.router_agent - INFO - RouterAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'
2025-04-13 15:03:19,995 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:03:19,996 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:03:19,997 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='332ebce4-b8c7-4ff0-b19a-feeeda5ca4f7'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fa1096cf-6b51-4015-9474-4f81fe1eb48f'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='b9dd19c2-354c-44b2-94f9-5500512ae14b'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9ad76ef1-3442-407e-b8cf-a163f9afdce8')]
2025-04-13 15:03:19,997 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:03:19,998 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:03:19,998 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:03:25,861 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:03:25,861 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:03:25,861 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:03:25,862 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:03:25,862 - agents.agents - INFO - ReservationAgent invoked with question: content='Hüseyin Altıkulaç listele' additional_kwargs={} response_metadata={} id='d0f5fb07-008a-4b80-b714-3c28a397ea4a'...
2025-04-13 15:03:27,459 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. Rezervasyon ID: ...
2025-04-13 15:03:27,462 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:03:27,465 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:03:27,470 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. Rezervasyon ID: ...
2025-04-13 15:03:27,470 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:03:27,470 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:03:27,471 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:03:27,471 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. Rezervasyon ID: ...
2025-04-13 15:03:27,471 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 15:03:27,543 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 366 (char 365)
2025-04-13 15:03:27,544 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:03:27,544 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:03:27,544 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:08:37,995 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:08:37,998 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:08:38,000 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:08:42,280 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:08:42,288 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:08:42,291 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:08:42,314 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b7b3e037-b5d5-4865-a2b6-41b91d1694a6'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='8b7204e7-3044-4852-ad7f-0def83c4d926')]...
2025-04-13 15:08:43,746 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Otelimiz Malatya Merkez'de bulunmaktad\u0131r. Malatya \u00c7ar\u015f\u0131s\u0131'na ...
2025-04-13 15:08:43,748 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:08:43,749 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:08:43,752 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Otelimiz Malatya Merkez'de bulunmaktad\u0131r. Malatya \u00c7ar\u015f\u0131s\u0131'na ...
2025-04-13 15:08:43,752 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:08:43,752 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:08:43,753 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:08:43,753 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Otelimiz Malatya Merkez'de bulunmaktad\u0131r. Malatya \u00c7ar\u015f\u0131s\u0131'na ...
2025-04-13 15:08:43,754 - __main__ - INFO - ✅ JSON response regex ile bulundu: Otelimiz Malatya Merkez'de bulunmaktadır. Malatya ...
2025-04-13 15:08:43,805 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 39 (char 38)
2025-04-13 15:08:43,806 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:08:52,129 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:08:52,138 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 39 (char 38)
2025-04-13 15:08:52,139 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:08:52,141 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:08:52,153 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:08:52,161 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='86f6ea4b-efb1-4c39-8376-eec7fd1bacd4'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='2f63f456-bc3a-469a-885a-93678ca2ba14'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='17a91cbd-b488-47a2-bef4-84a6c63c3f1c')]...
2025-04-13 15:08:53,507 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:08:53,508 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:08:53,510 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:08:53,510 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='86f6ea4b-efb1-4c39-8376-eec7fd1bacd4'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='2f63f456-bc3a-469a-885a-93678ca2ba14'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='17a91cbd-b488-47a2-bef4-84a6c63c3f1c')]
2025-04-13 15:08:53,511 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:08:53,511 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:08:53,515 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='86f6ea4b-efb1-4c39-8376-eec7fd1bacd4'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='2f63f456-bc3a-469a-885a-93678ca2ba14'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='17a91cbd-b488-47a2-bef4-84a6c63c3f1c')]
2025-04-13 15:08:53,516 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:08:53,517 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:08:53,518 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cd10fa0a-b1a8-40c9-b61f-fcb1efce7c9a'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='c86e57c3-a96c-437c-b406-41580508ffb0')]
2025-04-13 15:08:53,518 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:08:53,518 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:08:53,518 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:08:58,600 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:08:58,601 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:08:58,601 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:08:58,601 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:08:58,603 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='86f6ea4b-efb1-4c39-8376-eec7fd1bacd4'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='2f63f456-bc3a-469a-885a-93678ca2ba14'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='17a91cbd-b488-47a2-bef4-84a6c63c3f1c')]...
2025-04-13 15:09:00,271 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 15:09:00,272 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:09:00,274 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:00,278 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 15:09:00,279 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:09:00,279 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:09:00,279 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:09:00,279 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 20...
2025-04-13 15:09:00,280 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına 2 rezervasyon bulundu:\...
2025-04-13 15:09:00,346 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 243 (char 242)
2025-04-13 15:09:00,347 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:00,348 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:09:00,348 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:05,665 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:09:05,671 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 243 (char 242)
2025-04-13 15:09:05,672 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:05,673 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:09:05,674 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:05,676 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:09:05,680 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:09:05,687 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c720c260-912f-4582-9ec7-91ca1e48798e'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='fc48084e-1bb5-4948-bef3-d295a1a50389'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='3f84bf44-19f3-4a82-8af0-c284433c2f0d'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='4565a6ff-2def-48bf-939c-c58429cdae7b')]...
2025-04-13 15:09:06,948 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:09:06,949 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:09:06,951 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c720c260-912f-4582-9ec7-91ca1e48798e'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='fc48084e-1bb5-4948-bef3-d295a1a50389'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='3f84bf44-19f3-4a82-8af0-c284433c2f0d'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='4565a6ff-2def-48bf-939c-c58429cdae7b')]
2025-04-13 15:09:06,951 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:06,951 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:09:06,954 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:09:06,956 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c720c260-912f-4582-9ec7-91ca1e48798e'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='fc48084e-1bb5-4948-bef3-d295a1a50389'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='3f84bf44-19f3-4a82-8af0-c284433c2f0d'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='4565a6ff-2def-48bf-939c-c58429cdae7b')]
2025-04-13 15:09:06,956 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:09:06,957 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:09:06,958 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='50509ba1-cb78-421f-8eab-b0a858af0499'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='b5ba9037-ab79-4bda-a811-f47f6b9500a4')]
2025-04-13 15:09:06,958 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:09:06,959 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:09:06,959 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:09:12,032 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:09:12,032 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:09:12,033 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:09:12,033 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:09:12,034 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c720c260-912f-4582-9ec7-91ca1e48798e'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='fc48084e-1bb5-4948-bef3-d295a1a50389'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='3f84bf44-19f3-4a82-8af0-c284433c2f0d'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='4565a6ff-2def-48bf-939c-c58429cdae7b')]...
2025-04-13 15:09:13,760 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - ...
2025-04-13 15:09:13,761 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:09:13,763 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:13,766 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - ...
2025-04-13 15:09:13,767 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:09:13,767 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:09:13,767 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:09:13,768 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - ...
2025-04-13 15:09:13,768 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına 2 rezervasyon bulundu:\...
2025-04-13 15:09:13,821 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 269 (char 268)
2025-04-13 15:09:13,821 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:13,821 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:09:13,821 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:28,180 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:09:28,183 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 269 (char 268)
2025-04-13 15:09:28,183 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:28,184 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:09:28,184 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:28,185 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:09:28,187 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:09:28,190 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='769f9843-9047-4eb9-bdfa-ffd20766f8f7'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='f269f1e1-c5c7-42d6-befe-ee9ed72c701e'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='bdde0d31-5a71-4ad3-ab53-324c41372dca'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='8cc5437d-55e3-42f4-8275-93c030aa57fd'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='559767e5-7e54-40e5-b8cc-0d7994709db8')]...
2025-04-13 15:09:29,588 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyon olu\u015fturmak i\u00e7in hangi tarihler aras\u0131nda konaklamak istedi\u...
2025-04-13 15:09:29,590 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:09:29,592 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='769f9843-9047-4eb9-bdfa-ffd20766f8f7'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='f269f1e1-c5c7-42d6-befe-ee9ed72c701e'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='bdde0d31-5a71-4ad3-ab53-324c41372dca'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='8cc5437d-55e3-42f4-8275-93c030aa57fd'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='559767e5-7e54-40e5-b8cc-0d7994709db8')]
2025-04-13 15:09:29,592 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:09:29,592 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:29,596 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='769f9843-9047-4eb9-bdfa-ffd20766f8f7'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='f269f1e1-c5c7-42d6-befe-ee9ed72c701e'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='bdde0d31-5a71-4ad3-ab53-324c41372dca'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='8cc5437d-55e3-42f4-8275-93c030aa57fd'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='559767e5-7e54-40e5-b8cc-0d7994709db8')]
2025-04-13 15:09:29,597 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:09:29,598 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:09:29,599 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:29,602 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyon olu\u015fturmak i\u00e7in hangi tarihler aras\u0131nda konaklamak istedi\u...
2025-04-13 15:09:29,602 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:09:29,602 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:09:29,602 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:09:29,603 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyon olu\u015fturmak i\u00e7in hangi tarihler aras\u0131nda konaklamak istedi\u...
2025-04-13 15:09:29,603 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyon oluşturmak için hangi tarihler arasınd...
2025-04-13 15:09:29,669 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:09:29,669 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:39,541 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:09:39,548 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:09:39,548 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:39,552 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:09:39,556 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:09:39,565 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2be45d41-b4ce-42b8-a280-684aec8aaa28'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='a8ec1d25-a145-4cae-be08-a4c69432c641'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='12324caf-fb47-47bf-af9a-648df2208713'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='6bfd2c60-8148-42a5-9ec6-2c351418853f'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5185e51d-0982-45b9-81bf-a5e7fb313cc2'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='b7356a19-ae30-436e-ad4f-914c1f337834')]...
2025-04-13 15:09:40,943 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad ve giri\u015f-\u00e7\u0131k\u0131\u015f tarihlerini \u0...
2025-04-13 15:09:40,945 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:09:40,947 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2be45d41-b4ce-42b8-a280-684aec8aaa28'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='a8ec1d25-a145-4cae-be08-a4c69432c641'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='12324caf-fb47-47bf-af9a-648df2208713'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='6bfd2c60-8148-42a5-9ec6-2c351418853f'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5185e51d-0982-45b9-81bf-a5e7fb313cc2'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='b7356a19-ae30-436e-ad4f-914c1f337834')]
2025-04-13 15:09:40,947 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:40,947 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:09:40,951 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2be45d41-b4ce-42b8-a280-684aec8aaa28'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='a8ec1d25-a145-4cae-be08-a4c69432c641'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='12324caf-fb47-47bf-af9a-648df2208713'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='6bfd2c60-8148-42a5-9ec6-2c351418853f'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5185e51d-0982-45b9-81bf-a5e7fb313cc2'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='b7356a19-ae30-436e-ad4f-914c1f337834')]
2025-04-13 15:09:40,952 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:09:40,953 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:09:40,953 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:40,956 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad ve giri\u015f-\u00e7\u0131k\u0131\u015f tarihlerini \u0...
2025-04-13 15:09:40,956 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:09:40,957 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:09:40,957 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:09:40,957 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyon i\u00e7in ad soyad ve giri\u015f-\u00e7\u0131k\u0131\u015f tarihlerini \u0...
2025-04-13 15:09:40,957 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyon için ad soyad ve giriş-çıkış tarihleri...
2025-04-13 15:09:41,008 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 181 (char 180)
2025-04-13 15:09:41,008 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:48,264 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:09:48,271 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 181 (char 180)
2025-04-13 15:09:48,272 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:09:48,276 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:09:48,280 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:09:48,290 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c119784e-94c9-4361-ad09-1e0e5bf4b990'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='29d7ff7d-6f3b-41d6-ae67-337586fb9199'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='efbb2916-b336-4539-8018-79d0a68a169d'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='ffb16a62-53e0-4d4c-8077-f0312728197a'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5b8f508f-1ddc-4471-96b4-92ff04bb9a41'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='39fa886b-9435-4d38-8c08-24c665334185'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='1886285d-6d5f-460a-bf29-e3c130aa22ff')]...
2025-04-13 15:09:49,576 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:09:49,577 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:09:49,577 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:09:49,580 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:09:49,580 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:09:49,580 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:09:49,581 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:09:49,581 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:09:49,581 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:09:49,632 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:09:49,633 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:13,140 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:10:13,148 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:10:13,148 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:13,151 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:10:13,156 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:10:13,161 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='813dd35d-0a79-496e-99fa-b6e8a3ce8494'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='cc1c46b3-319c-4eb8-a8c1-ffa188e4e007'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='5c70d8ed-a328-4a1d-9e41-d279c5b510ce'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='cf5a0b41-3daf-43c9-9d69-f287e3431770'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='6186487e-1e47-4e8b-b1d1-8e54be0c71e0'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='8cc4b14b-c46b-4825-9056-39af72960f2b'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='51aa78e5-9190-4a7a-b50e-3d64bff53dc8'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='1a8b8187-2861-4fba-aa5e-8f09062c1f22')]...
2025-04-13 15:10:14,441 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyonlar\u0131n\u0131z listeleniyor", "action_type": "l...
2025-04-13 15:10:14,444 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:10:14,446 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='813dd35d-0a79-496e-99fa-b6e8a3ce8494'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='cc1c46b3-319c-4eb8-a8c1-ffa188e4e007'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='5c70d8ed-a328-4a1d-9e41-d279c5b510ce'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='cf5a0b41-3daf-43c9-9d69-f287e3431770'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='6186487e-1e47-4e8b-b1d1-8e54be0c71e0'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='8cc4b14b-c46b-4825-9056-39af72960f2b'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='51aa78e5-9190-4a7a-b50e-3d64bff53dc8'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='1a8b8187-2861-4fba-aa5e-8f09062c1f22')]
2025-04-13 15:10:14,447 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:10:14,447 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:14,447 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:10:14,451 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='813dd35d-0a79-496e-99fa-b6e8a3ce8494'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='cc1c46b3-319c-4eb8-a8c1-ffa188e4e007'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='5c70d8ed-a328-4a1d-9e41-d279c5b510ce'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='cf5a0b41-3daf-43c9-9d69-f287e3431770'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='6186487e-1e47-4e8b-b1d1-8e54be0c71e0'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='8cc4b14b-c46b-4825-9056-39af72960f2b'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='51aa78e5-9190-4a7a-b50e-3d64bff53dc8'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='1a8b8187-2861-4fba-aa5e-8f09062c1f22')]
2025-04-13 15:10:14,454 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:10:14,455 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:10:14,456 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='08319796-19e0-4f36-83b8-7c1f990e0b6a'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='a2da0c33-5fa5-4183-9b56-fbcc11acbf21')]
2025-04-13 15:10:14,456 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:10:14,456 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:10:14,456 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:10:19,099 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:10:19,099 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:10:19,099 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:10:19,099 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:10:19,101 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='813dd35d-0a79-496e-99fa-b6e8a3ce8494'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='cc1c46b3-319c-4eb8-a8c1-ffa188e4e007'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='5c70d8ed-a328-4a1d-9e41-d279c5b510ce'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='cf5a0b41-3daf-43c9-9d69-f287e3431770'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='6186487e-1e47-4e8b-b1d1-8e54be0c71e0'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='8cc4b14b-c46b-4825-9056-39af72960f2b'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='51aa78e5-9190-4a7a-b50e-3d64bff53dc8'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='1a8b8187-2861-4fba-aa5e-8f09062c1f22')]...
2025-04-13 15:10:21,273 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuzu buldum:\\n\\nM\\u00fc\\u015fteri Ad\\u...
2025-04-13 15:10:21,275 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:10:21,277 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:21,280 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuzu buldum:\\n\\nM\\u00fc\\u015fteri Ad\\u...
2025-04-13 15:10:21,281 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:10:21,281 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:10:21,281 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:10:21,281 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuzu buldum:\\n\\nM\\u00fc\\u015fteri Ad\\u...
2025-04-13 15:10:21,282 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyonunuzu buldum:...
2025-04-13 15:10:21,334 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 341 (char 340)
2025-04-13 15:10:21,334 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:21,334 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:10:21,334 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:29,751 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:10:29,762 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 341 (char 340)
2025-04-13 15:10:29,763 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:29,764 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:10:29,765 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:29,768 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:10:29,773 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:10:29,800 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7bb0d629-d752-4084-be5e-31728259fde1'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='206b80a5-21ca-4922-a0f1-8ac12137e427'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b8409327-d02c-4ef5-b26f-7f1cf6ad60fb'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='89206437-c9c2-4f1c-b304-5724983d63f2'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='435463a5-e4f0-47b8-bee7-73421e1991f8'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='226dd632-1988-4980-aadc-0e6fb179312f'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='2a71d1d7-3710-47f7-a223-dc8c5e5e7aa6'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='4679d756-debb-4a1f-a33c-649bfa98e6d3'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='22095230-9eab-4f70-b36e-316b862c8796')]...
2025-04-13 15:10:31,038 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyonlar listeleniyor", "action_type": "list_reservatio...
2025-04-13 15:10:31,039 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:10:31,041 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7bb0d629-d752-4084-be5e-31728259fde1'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='206b80a5-21ca-4922-a0f1-8ac12137e427'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b8409327-d02c-4ef5-b26f-7f1cf6ad60fb'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='89206437-c9c2-4f1c-b304-5724983d63f2'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='435463a5-e4f0-47b8-bee7-73421e1991f8'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='226dd632-1988-4980-aadc-0e6fb179312f'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='2a71d1d7-3710-47f7-a223-dc8c5e5e7aa6'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='4679d756-debb-4a1f-a33c-649bfa98e6d3'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='22095230-9eab-4f70-b36e-316b862c8796')]
2025-04-13 15:10:31,041 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:31,042 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:10:31,042 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:10:31,047 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7bb0d629-d752-4084-be5e-31728259fde1'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='206b80a5-21ca-4922-a0f1-8ac12137e427'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b8409327-d02c-4ef5-b26f-7f1cf6ad60fb'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='89206437-c9c2-4f1c-b304-5724983d63f2'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='435463a5-e4f0-47b8-bee7-73421e1991f8'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='226dd632-1988-4980-aadc-0e6fb179312f'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='2a71d1d7-3710-47f7-a223-dc8c5e5e7aa6'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='4679d756-debb-4a1f-a33c-649bfa98e6d3'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='22095230-9eab-4f70-b36e-316b862c8796')]
2025-04-13 15:10:31,049 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:10:31,050 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:10:31,052 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='e33e568d-63fd-47bd-ab8a-970975efa92d'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='587744dd-9f21-402e-8e89-14ab008f88e1')]
2025-04-13 15:10:31,052 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:10:31,052 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:10:31,052 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:10:35,433 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:10:35,433 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:10:35,433 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:10:35,433 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:10:35,434 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7bb0d629-d752-4084-be5e-31728259fde1'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='206b80a5-21ca-4922-a0f1-8ac12137e427'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b8409327-d02c-4ef5-b26f-7f1cf6ad60fb'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='89206437-c9c2-4f1c-b304-5724983d63f2'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='435463a5-e4f0-47b8-bee7-73421e1991f8'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='226dd632-1988-4980-aadc-0e6fb179312f'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='2a71d1d7-3710-47f7-a223-dc8c5e5e7aa6'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='4679d756-debb-4a1f-a33c-649bfa98e6d3'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='22095230-9eab-4f70-b36e-316b862c8796')]...
2025-04-13 15:10:37,569 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:10:37,570 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:10:37,570 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:37,571 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:10:37,571 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:10:37,571 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:10:37,571 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:10:37,571 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:10:37,571 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyonunuz bulundu:...
2025-04-13 15:10:37,611 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 384 (char 383)
2025-04-13 15:10:37,611 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:37,611 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:10:37,612 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:50,504 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:10:50,512 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 384 (char 383)
2025-04-13 15:10:50,512 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:50,514 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:10:50,515 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:50,517 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:10:50,522 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:10:50,532 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d533d59-8034-4974-9def-2822c2d94758'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='779b7751-337a-49ae-8426-e87d840cd181'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b19b6e98-b85b-476e-82ce-b9e993dd38a0'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='b024ec12-c68e-4946-884c-cc858d60a313'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='58b384dd-db81-4caf-968b-f695e0706c22'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='80c2fe50-4904-4a4d-b0b8-0d24da08c3fc'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='9d95a661-f97e-4eb7-98f2-142e2b43cbd5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='87b424d6-ea02-4ffd-b9b6-a08b49f0f51b'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='8f7c37f0-8d7d-4030-b622-da3c33d157da'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='140936ed-5ceb-4934-9ab6-36fc75626db0')]...
2025-04-13 15:10:51,754 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyonlar listeleniyor", "action_type": "list_reservatio...
2025-04-13 15:10:51,756 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:10:51,758 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d533d59-8034-4974-9def-2822c2d94758'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='779b7751-337a-49ae-8426-e87d840cd181'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b19b6e98-b85b-476e-82ce-b9e993dd38a0'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='b024ec12-c68e-4946-884c-cc858d60a313'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='58b384dd-db81-4caf-968b-f695e0706c22'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='80c2fe50-4904-4a4d-b0b8-0d24da08c3fc'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='9d95a661-f97e-4eb7-98f2-142e2b43cbd5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='87b424d6-ea02-4ffd-b9b6-a08b49f0f51b'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='8f7c37f0-8d7d-4030-b622-da3c33d157da'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='140936ed-5ceb-4934-9ab6-36fc75626db0')]
2025-04-13 15:10:51,758 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:51,758 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:10:51,761 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:10:51,762 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d533d59-8034-4974-9def-2822c2d94758'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='779b7751-337a-49ae-8426-e87d840cd181'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b19b6e98-b85b-476e-82ce-b9e993dd38a0'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='b024ec12-c68e-4946-884c-cc858d60a313'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='58b384dd-db81-4caf-968b-f695e0706c22'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='80c2fe50-4904-4a4d-b0b8-0d24da08c3fc'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='9d95a661-f97e-4eb7-98f2-142e2b43cbd5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='87b424d6-ea02-4ffd-b9b6-a08b49f0f51b'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='8f7c37f0-8d7d-4030-b622-da3c33d157da'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='140936ed-5ceb-4934-9ab6-36fc75626db0')]
2025-04-13 15:10:51,763 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:10:51,764 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:10:51,765 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='42c39cf5-6f18-43ed-aa1a-46ae8d946ccb'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='802f50fd-e91e-4226-9b87-c5150aef78d1')]
2025-04-13 15:10:51,765 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:10:51,765 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:10:51,765 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:10:56,744 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:10:56,745 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:10:56,745 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:10:56,745 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:10:56,748 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9d533d59-8034-4974-9def-2822c2d94758'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='779b7751-337a-49ae-8426-e87d840cd181'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='b19b6e98-b85b-476e-82ce-b9e993dd38a0'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='b024ec12-c68e-4946-884c-cc858d60a313'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='58b384dd-db81-4caf-968b-f695e0706c22'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='80c2fe50-4904-4a4d-b0b8-0d24da08c3fc'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='9d95a661-f97e-4eb7-98f2-142e2b43cbd5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='87b424d6-ea02-4ffd-b9b6-a08b49f0f51b'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='8f7c37f0-8d7d-4030-b622-da3c33d157da'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='140936ed-5ceb-4934-9ab6-36fc75626db0')]...
2025-04-13 15:10:58,180 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonu listeliyorum:\\n\\n1. Rezervasyon ID: RES_...
2025-04-13 15:10:58,182 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:10:58,183 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:10:58,186 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonu listeliyorum:\\n\\n1. Rezervasyon ID: RES_...
2025-04-13 15:10:58,187 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:10:58,187 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:10:58,187 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:10:58,188 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonu listeliyorum:\\n\\n1. Rezervasyon ID: RES_...
2025-04-13 15:10:58,188 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyonu listeliyoru...
2025-04-13 15:10:58,237 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:10:58,237 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:10:58,238 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:10:58,238 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:11:05,918 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:11:05,925 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:11:05,925 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:11:05,927 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:11:05,927 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:11:05,930 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:11:05,935 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:11:05,945 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4d0a67f2-8409-4966-be85-4718ead3bd8f'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='e3f4eaee-6cb2-48cc-a959-97dc902044bd'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='8eacb39b-1ab9-4401-b36e-a31714383bf2'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='69dad3e0-488f-4018-adab-326178a148f0'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5ba33c78-dc39-472a-8d83-ec81a265cc00'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='277ed0f9-65ca-41c9-9e8d-f5a480ca829a'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='0dc94443-278d-4c53-96ed-aec1efe90a8c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19b5c6fb-2fa0-4700-8d2d-a0e0615e19cb'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='81f26ad2-79eb-4d1b-9737-d03ee9b3864c'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='ebca5e63-feac-4ca6-b68f-371231cb5aa8'), HumanMessage(content='daha önce kimi sorguladım', additional_kwargs={}, response_metadata={}, id='5b0ea79c-05d9-4b8f-8d23-63c897877aea')]...
2025-04-13 15:11:07,503 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyon aran\u0131yor.", "action_type": "list_reservation...
2025-04-13 15:11:07,505 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:11:07,507 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4d0a67f2-8409-4966-be85-4718ead3bd8f'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='e3f4eaee-6cb2-48cc-a959-97dc902044bd'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='8eacb39b-1ab9-4401-b36e-a31714383bf2'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='69dad3e0-488f-4018-adab-326178a148f0'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5ba33c78-dc39-472a-8d83-ec81a265cc00'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='277ed0f9-65ca-41c9-9e8d-f5a480ca829a'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='0dc94443-278d-4c53-96ed-aec1efe90a8c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19b5c6fb-2fa0-4700-8d2d-a0e0615e19cb'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='81f26ad2-79eb-4d1b-9737-d03ee9b3864c'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='ebca5e63-feac-4ca6-b68f-371231cb5aa8'), HumanMessage(content='daha önce kimi sorguladım', additional_kwargs={}, response_metadata={}, id='5b0ea79c-05d9-4b8f-8d23-63c897877aea')]
2025-04-13 15:11:07,508 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:11:07,508 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:11:07,509 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:11:07,513 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4d0a67f2-8409-4966-be85-4718ead3bd8f'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='e3f4eaee-6cb2-48cc-a959-97dc902044bd'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='8eacb39b-1ab9-4401-b36e-a31714383bf2'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='69dad3e0-488f-4018-adab-326178a148f0'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5ba33c78-dc39-472a-8d83-ec81a265cc00'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='277ed0f9-65ca-41c9-9e8d-f5a480ca829a'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='0dc94443-278d-4c53-96ed-aec1efe90a8c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19b5c6fb-2fa0-4700-8d2d-a0e0615e19cb'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='81f26ad2-79eb-4d1b-9737-d03ee9b3864c'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='ebca5e63-feac-4ca6-b68f-371231cb5aa8'), HumanMessage(content='daha önce kimi sorguladım', additional_kwargs={}, response_metadata={}, id='5b0ea79c-05d9-4b8f-8d23-63c897877aea')]
2025-04-13 15:11:07,514 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:11:07,515 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:11:07,516 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='b7000d11-a696-4d83-bca9-2af11d971a53'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='395aba1c-0ca3-40ab-a75a-41c2093ad0f5')]
2025-04-13 15:11:07,516 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:11:07,516 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:11:07,516 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:11:11,845 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:11:11,846 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:11:11,846 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:11:11,846 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:11:11,847 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4d0a67f2-8409-4966-be85-4718ead3bd8f'), HumanMessage(content='Merhaba otel nerde', additional_kwargs={}, response_metadata={}, id='e3f4eaee-6cb2-48cc-a959-97dc902044bd'), HumanMessage(content='hüseyin altıkulaç rezervasyonlarını listele', additional_kwargs={}, response_metadata={}, id='8eacb39b-1ab9-4401-b36e-a31714383bf2'), HumanMessage(content='tamam süpersin ', additional_kwargs={}, response_metadata={}, id='69dad3e0-488f-4018-adab-326178a148f0'), HumanMessage(content='Şimdi yeni bir rezervasyon oluşturmak istyiorum', additional_kwargs={}, response_metadata={}, id='5ba33c78-dc39-472a-8d83-ec81a265cc00'), HumanMessage(content='vazgeçtim', additional_kwargs={}, response_metadata={}, id='277ed0f9-65ca-41c9-9e8d-f5a480ca829a'), HumanMessage(content='tamam bitti vazgeçtim', additional_kwargs={}, response_metadata={}, id='0dc94443-278d-4c53-96ed-aec1efe90a8c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19b5c6fb-2fa0-4700-8d2d-a0e0615e19cb'), HumanMessage(content='tamam şimdi sana bir soru sorayım', additional_kwargs={}, response_metadata={}, id='81f26ad2-79eb-4d1b-9737-d03ee9b3864c'), HumanMessage(content='sana sorgulattıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='ebca5e63-feac-4ca6-b68f-371231cb5aa8'), HumanMessage(content='daha önce kimi sorguladım', additional_kwargs={}, response_metadata={}, id='5b0ea79c-05d9-4b8f-8d23-63c897877aea')]...
2025-04-13 15:11:13,944 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon Detaylar\u0131...
2025-04-13 15:11:13,945 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:11:13,946 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:11:13,950 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon Detaylar\u0131...
2025-04-13 15:11:13,951 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:11:13,951 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:11:13,951 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:11:13,951 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon Detaylar\u0131...
2025-04-13 15:11:13,952 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına olan rezervasyonunuzu buldum:\...
2025-04-13 15:11:14,002 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 362 (char 361)
2025-04-13 15:11:14,002 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:11:14,003 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:11:14,003 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:14,302 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:17:14,306 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:17:14,309 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:17:15,105 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:17:15,114 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:17:15,116 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:17:19,384 - __main__ - INFO - 🔄 Yeni sorgu geldi, işleniyor (workflow sıfırlanmıyor)
2025-04-13 15:17:19,407 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8911956e-20f8-4838-bdef-94f78dedac3d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='26766bba-2cf8-4868-b802-e78d31b8dc8d')]...
2025-04-13 15:17:20,817 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:17:20,821 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:17:20,823 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:17:20,826 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:17:20,826 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:17:20,826 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:17:20,826 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:17:20,827 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 15:17:20,873 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:17:20,873 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:24,082 - __main__ - INFO - 🔄 Yeni sorgu geldi, işleniyor (workflow sıfırlanmıyor)
2025-04-13 15:17:24,085 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:17:24,085 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:24,096 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4be552d2-a796-41c1-9790-25670dca95d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2d8672eb-0b07-48d6-a93e-dd47cf245e74'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='09929a4c-663b-4a88-96cc-36fdb19879cd')]...
2025-04-13 15:17:25,629 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:17:25,631 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:17:25,633 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4be552d2-a796-41c1-9790-25670dca95d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2d8672eb-0b07-48d6-a93e-dd47cf245e74'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='09929a4c-663b-4a88-96cc-36fdb19879cd')]
2025-04-13 15:17:25,633 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:17:25,634 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:17:25,635 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:17:25,638 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4be552d2-a796-41c1-9790-25670dca95d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2d8672eb-0b07-48d6-a93e-dd47cf245e74'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='09929a4c-663b-4a88-96cc-36fdb19879cd')]
2025-04-13 15:17:25,639 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:17:25,640 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:17:25,641 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='e44ba06a-dc7c-4dd4-9217-bda4a6796a82'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='d57bc912-3001-4175-9067-ff7a0802d4da')]
2025-04-13 15:17:25,642 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:17:25,642 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:17:25,642 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:17:31,282 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:17:31,283 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:17:31,283 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:17:31,283 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:17:31,297 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4be552d2-a796-41c1-9790-25670dca95d3'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2d8672eb-0b07-48d6-a93e-dd47cf245e74'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='09929a4c-663b-4a88-96cc-36fdb19879cd')]...
2025-04-13 15:17:33,319 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar bulundu:\\n\\n1. 2...
2025-04-13 15:17:33,321 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:17:33,322 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:17:33,327 - __main__ - INFO - 💾 reservations_result listesine yeni eleman eklendi
2025-04-13 15:17:33,327 - __main__ - INFO - 💾 reservation_query listesine yeni eleman eklendi
2025-04-13 15:17:33,328 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:17:33,328 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:17:33,328 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:17:33,328 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar bulundu:\\n\\n1. 2...
2025-04-13 15:17:33,329 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına olan rezervasyonlar bu...
2025-04-13 15:17:33,424 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 281 (char 280)
2025-04-13 15:17:33,424 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:33,425 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:17:33,425 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:40,768 - __main__ - INFO - 🔄 Yeni sorgu geldi, işleniyor (workflow sıfırlanmıyor)
2025-04-13 15:17:40,777 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 281 (char 280)
2025-04-13 15:17:40,778 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:40,779 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:17:40,780 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:40,790 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9de529da-ea08-473d-ad90-27604793d2bd'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='335481d0-b87e-4f49-87d2-e6391bcfa5d7'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='40121fd0-eb01-478d-9abe-6bf61acd827f'), HumanMessage(content='hilal karaman varmı baksana', additional_kwargs={}, response_metadata={}, id='7b10a93b-300e-4c1f-b5ee-37851d9c7add')]...
2025-04-13 15:17:42,427 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 2024 ...
2025-04-13 15:17:42,429 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:17:42,430 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:17:42,432 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:17:42,432 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:17:42,432 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:17:42,433 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15 Haziran 2024 ...
2025-04-13 15:17:42,433 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 15:17:42,477 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 238 (char 237)
2025-04-13 15:17:42,478 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:42,478 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:17:42,479 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:48,889 - __main__ - INFO - 🔄 Yeni sorgu geldi, işleniyor (workflow sıfırlanmıyor)
2025-04-13 15:17:48,895 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 238 (char 237)
2025-04-13 15:17:48,896 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:48,898 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:17:48,898 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:48,907 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1ec2178d-ec79-406a-b4a3-eb9a7724a0f1'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='c7c7657d-bf07-475f-b2a4-fd30fef7d3c6'), HumanMessage(content='Hüseyin Altıkulaç isimli rezervasyonları istiyorum', additional_kwargs={}, response_metadata={}, id='da24c056-3312-4f3f-8953-4b97d2399c19'), HumanMessage(content='hilal karaman varmı baksana', additional_kwargs={}, response_metadata={}, id='95855c67-9f2d-404f-bf73-5b17a8e2e141'), HumanMessage(content='Hilal karaman varmı baksana', additional_kwargs={}, response_metadata={}, id='8c3aec13-0eec-41a4-a7d5-51930c6e6477')]...
2025-04-13 15:17:50,620 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 202...
2025-04-13 15:17:50,622 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:17:50,623 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:17:50,626 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:17:50,626 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:17:50,626 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:17:50,626 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 2024-06-15 - 202...
2025-04-13 15:17:50,627 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 15:17:50,682 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 262 (char 261)
2025-04-13 15:17:50,682 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:17:50,682 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:17:50,683 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:12,459 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:20:12,462 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:20:12,467 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:20:15,568 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:20:15,575 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:20:15,579 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:20:15,615 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1e7ece04-df60-4e40-b8e8-ed3fdddcca60'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='82d46baa-877f-4f71-89dc-8a16af928d03')]...
2025-04-13 15:20:16,869 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:20:16,872 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:20:16,873 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:20:16,877 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:20:16,877 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:20:16,878 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:20:16,878 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:20:16,878 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:20:16,879 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 15:20:16,926 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:20:16,927 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:21,418 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:20:21,424 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:20:21,424 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:21,427 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:20:21,433 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:20:21,439 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e4db9e60-2b75-4fea-9cec-a0ee92cce722'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='7213cb10-db0b-43fa-bd5d-961c802f8122'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='ef06afe4-f5af-4bf6-a91a-3442193daac6')]...
2025-04-13 15:20:22,894 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALT\u0130KULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:20:22,895 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:20:22,897 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e4db9e60-2b75-4fea-9cec-a0ee92cce722'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='7213cb10-db0b-43fa-bd5d-961c802f8122'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='ef06afe4-f5af-4bf6-a91a-3442193daac6')]
2025-04-13 15:20:22,897 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:20:22,898 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:20:22,900 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALT\u0130KULA\u00c7"}
2025-04-13 15:20:22,903 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e4db9e60-2b75-4fea-9cec-a0ee92cce722'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='7213cb10-db0b-43fa-bd5d-961c802f8122'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='ef06afe4-f5af-4bf6-a91a-3442193daac6')]
2025-04-13 15:20:22,906 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:20:22,907 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:20:22,908 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALT\\u0130KULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='5f137d46-c368-4699-bd1c-9120b849059d'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALT\\u0130KULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='5a80d663-fa85-422c-916c-7e0f0ed11193')]
2025-04-13 15:20:22,908 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTİKULAÇ, Tam Eşleşme: True
2025-04-13 15:20:22,908 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTİKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:20:22,909 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:20:28,133 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:20:28,133 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:20:28,133 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:20:28,133 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:20:28,134 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e4db9e60-2b75-4fea-9cec-a0ee92cce722'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='7213cb10-db0b-43fa-bd5d-961c802f8122'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='ef06afe4-f5af-4bf6-a91a-3442193daac6')]...
2025-04-13 15:20:29,600 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALT\\u0130KULA\\u00c7 ad\\u0131na olan rezervasyon bulunamad\\u0131.", "...
2025-04-13 15:20:29,602 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:20:29,603 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:20:29,607 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALT\\u0130KULA\\u00c7 ad\\u0131na olan rezervasyon bulunamad\\u0131.", "...
2025-04-13 15:20:29,608 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:20:29,608 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:20:29,608 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:20:29,608 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALT\\u0130KULA\\u00c7 ad\\u0131na olan rezervasyon bulunamad\\u0131.", "...
2025-04-13 15:20:29,608 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALT\İKULA\Ç ad\ına olan rezervasyon bulun...
2025-04-13 15:20:29,659 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 115 (char 114)
2025-04-13 15:20:29,659 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:29,660 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:20:29,660 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:47,947 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:20:47,957 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 115 (char 114)
2025-04-13 15:20:47,958 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:47,963 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:20:47,963 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:20:47,967 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:20:47,979 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:20:47,985 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]...
2025-04-13 15:20:49,313 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:20:49,314 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:20:49,316 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]
2025-04-13 15:20:49,316 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:20:49,316 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:20:49,317 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:20:49,319 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]
2025-04-13 15:20:49,320 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:20:49,321 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:20:49,322 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fd5a29ad-4bb0-489c-82e4-fbf261ed27d8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='ab05da2c-1485-4f26-b969-77fea48f8b51')]
2025-04-13 15:20:49,322 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:20:49,322 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:20:49,322 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:20:54,166 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:20:54,167 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:20:54,167 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:20:54,167 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:20:54,169 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]...
2025-04-13 15:20:55,581 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_typ...
2025-04-13 15:20:55,582 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:20:55,583 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]
2025-04-13 15:20:55,583 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:20:55,583 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:20:55,584 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:20:55,586 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]
2025-04-13 15:20:55,586 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:20:55,587 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:20:55,587 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fd5a29ad-4bb0-489c-82e4-fbf261ed27d8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='ab05da2c-1485-4f26-b969-77fea48f8b51'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1bec842c-6326-44bd-b1e5-b1dff51a5685'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9bad248f-95eb-4cd3-b021-92e0a84e376a')]
2025-04-13 15:20:55,587 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:20:55,587 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:20:55,588 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:20:59,295 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:20:59,296 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:20:59,296 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:20:59,296 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:20:59,299 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='39c37850-a882-427a-964c-0d985e9e00d8'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8efc7327-cecb-4699-9944-d61d9ec88971'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='2e0415f7-6c82-45fe-8e6f-0e37581f9386'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='abceaeb9-0de7-409f-9873-ab5b88ec3a37')]...
2025-04-13 15:21:02,322 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar\\u0131n\\u0131 listeliyo...
2025-04-13 15:21:02,323 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:21:02,325 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:02,328 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar\\u0131n\\u0131 listeliyo...
2025-04-13 15:21:02,329 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:21:02,329 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:21:02,329 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:21:02,329 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar\\u0131n\\u0131 listeliyo...
2025-04-13 15:21:02,330 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına olan rezervasyonlar\ın\...
2025-04-13 15:21:02,394 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 737 (char 736)
2025-04-13 15:21:02,394 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:02,395 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:02,395 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:07,987 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:21:07,992 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 737 (char 736)
2025-04-13 15:21:07,992 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:07,994 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:07,994 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:07,997 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:21:08,000 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:21:08,010 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1c8326e7-03af-4028-abdd-8e7c052a5fbb'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='fb4b8e0b-c953-47b0-b2b4-221651a41624'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='87f8d57f-0cb7-4b74-9481-63bebd7a419c'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='eea7f163-4d47-45e4-b2d2-4b3d7fb5cc75'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b23d2405-babf-4255-8cb0-a1508f753719')]...
2025-04-13 15:21:09,187 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:09,188 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:21:09,189 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:09,191 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:09,191 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:21:09,191 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:21:09,192 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:21:09,192 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:09,192 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:21:09,231 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:21:09,232 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:18,921 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:21:18,928 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:21:18,928 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:18,932 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:21:18,938 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:21:18,946 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]...
2025-04-13 15:21:20,236 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 15:21:20,238 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:21:20,240 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:20,241 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]
2025-04-13 15:21:20,244 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:21:20,244 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:21:20,246 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]
2025-04-13 15:21:20,247 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:21:20,248 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:21:20,249 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='66a235db-68a3-4da1-b3cb-3a2f673dca3c'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6aada135-5a99-43ee-a5a0-132d7b9a6bdf')]
2025-04-13 15:21:20,250 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:21:20,250 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:21:20,250 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:21:23,820 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:21:23,820 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:21:23,820 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:21:23,820 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:21:23,822 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]...
2025-04-13 15:21:25,467 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonlar\\u0131 listeliyorum.", "action_type": "l...
2025-04-13 15:21:25,468 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:21:25,470 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]
2025-04-13 15:21:25,470 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:25,470 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:21:25,471 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:21:25,474 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]
2025-04-13 15:21:25,474 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:21:25,475 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:21:25,475 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='66a235db-68a3-4da1-b3cb-3a2f673dca3c'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='6aada135-5a99-43ee-a5a0-132d7b9a6bdf'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='b1d4629a-ab79-4646-83c2-85e16d47a43f'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='98d9e09f-def3-48e7-be40-2c3002dbc599')]
2025-04-13 15:21:25,475 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:21:25,475 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:21:25,475 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:21:30,702 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:21:30,703 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:21:30,703 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:21:30,704 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:21:30,705 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93705c0b-068a-4b1d-a4b8-d068263cd12d'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='4dee55c1-5be5-42e5-b44d-d429bd458d01'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9890e310-64f0-44e9-8844-56ccb7d75826'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='cb2e8a3b-33bc-48b3-a9dd-7cbf3201c2e4'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='b175626a-a96f-42c8-bb14-5095d988c266'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2282a2f5-3da0-42d5-ac17-05056485c3b6')]...
2025-04-13 15:21:32,316 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:32,317 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:21:32,318 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:32,320 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:32,320 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:21:32,320 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:21:32,321 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:21:32,321 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:32,321 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyon bulundu:\
\
...
2025-04-13 15:21:32,402 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:21:32,403 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:32,403 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:32,403 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:37,369 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:21:37,384 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:21:37,385 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:37,387 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:37,388 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:37,395 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:21:37,411 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:21:37,423 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='58be482d-6f45-4cd3-aac2-1c28c10b592e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8369a5af-7263-42db-a08b-4b77344c4fe4'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='87ccc66e-276c-43a8-b063-d4f924d6135f'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='1a396a79-8671-429f-9c54-17c2163c056f'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='54938cf7-bf39-43e3-ba9b-48f0fb9775c8'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='e480c03a-0880-4fd9-963a-f4f676ad8c89'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='0cbb8e1a-c76e-416a-8ee3-a8abd6723bd8')]...
2025-04-13 15:21:38,650 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 15:21:38,651 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:21:38,653 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='58be482d-6f45-4cd3-aac2-1c28c10b592e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8369a5af-7263-42db-a08b-4b77344c4fe4'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='87ccc66e-276c-43a8-b063-d4f924d6135f'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='1a396a79-8671-429f-9c54-17c2163c056f'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='54938cf7-bf39-43e3-ba9b-48f0fb9775c8'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='e480c03a-0880-4fd9-963a-f4f676ad8c89'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='0cbb8e1a-c76e-416a-8ee3-a8abd6723bd8')]
2025-04-13 15:21:38,654 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:38,654 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:21:38,654 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal karaman"}
2025-04-13 15:21:38,659 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='58be482d-6f45-4cd3-aac2-1c28c10b592e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8369a5af-7263-42db-a08b-4b77344c4fe4'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='87ccc66e-276c-43a8-b063-d4f924d6135f'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='1a396a79-8671-429f-9c54-17c2163c056f'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='54938cf7-bf39-43e3-ba9b-48f0fb9775c8'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='e480c03a-0880-4fd9-963a-f4f676ad8c89'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='0cbb8e1a-c76e-416a-8ee3-a8abd6723bd8')]
2025-04-13 15:21:38,659 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:21:38,660 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:21:38,662 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal karaman"}', additional_kwargs={}, response_metadata={}, id='0fe7338b-5b17-4e4d-862a-8d73c8f04c91'), HumanMessage(content='{"customer_name": "Hilal karaman"}', additional_kwargs={}, response_metadata={}, id='b9e9d0c6-8569-4a33-b13b-7d4f5041cf5a')]
2025-04-13 15:21:38,663 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal karaman, Tam Eşleşme: True
2025-04-13 15:21:38,663 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:21:38,663 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:21:42,651 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:21:42,653 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:21:42,653 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:21:42,653 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:21:42,655 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='58be482d-6f45-4cd3-aac2-1c28c10b592e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='8369a5af-7263-42db-a08b-4b77344c4fe4'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='87ccc66e-276c-43a8-b063-d4f924d6135f'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='1a396a79-8671-429f-9c54-17c2163c056f'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='54938cf7-bf39-43e3-ba9b-48f0fb9775c8'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='e480c03a-0880-4fd9-963a-f4f676ad8c89'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='0cbb8e1a-c76e-416a-8ee3-a8abd6723bd8')]...
2025-04-13 15:21:44,130 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:44,132 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:21:44,133 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:44,137 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:44,138 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:21:44,138 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:21:44,138 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:21:44,139 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:21:44,139 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyon bulundu:\
\
...
2025-04-13 15:21:44,200 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:21:44,200 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:44,200 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:44,200 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:49,080 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:21:49,086 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:21:49,087 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:49,089 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:21:49,089 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:21:49,092 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:21:49,096 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:21:49,104 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2308579b-ff35-465c-9bb9-581195c321f4'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='86c4f914-9f7f-4e74-8a0a-02c441c3e636'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='91283bcf-1ae3-497c-968a-4c2aa1f39077'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='0d6d655d-d067-4a7a-8b29-265fd2052669'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='2a8e5a7a-4f38-407b-a74f-4783c707c4de'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='ddeed62f-488a-4a87-be22-7c98f83227f5'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='9e23c8b9-688a-43e9-90dd-7ec277fced35'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='a6cd9231-ccb3-4d33-a1fc-5bc37825ad0f')]...
2025-04-13 15:21:50,545 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:50,549 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:21:50,550 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:21:50,554 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:50,554 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:21:50,555 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:21:50,555 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:21:50,555 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:21:50,556 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:21:50,601 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:21:50,601 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:04,588 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:04,595 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:22:04,595 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:04,599 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:04,604 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:04,613 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='46683c9e-2da5-4492-bc83-95ce700d3ced'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a0e4e8c4-3203-4f80-b703-02c991a056bb'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='bf648de9-f882-4ed6-8418-bf71c2711f73'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='eed36da1-c859-4ab7-adf2-99a9545065c1'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='e5cd65c8-a014-4a69-a8f6-9a87dcfe6140'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='3fb0e1fe-07a3-4d49-aba2-7a7b7b6184ac'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='334dfdc9-b092-486d-8d69-22fbcdb8e16b'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='9bbea21d-be9b-490e-b582-3c18de8adaa9'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='8465ff26-56b1-4685-953d-181526775602')]...
2025-04-13 15:22:05,923 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:05,925 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:05,927 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:05,931 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:05,931 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:05,932 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:05,932 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:05,932 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:05,932 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:22:05,982 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:05,982 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:13,445 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:13,448 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:13,448 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:13,449 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:13,451 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:13,457 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fff5a356-e373-4779-a70d-e117b35666d9'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='c8d9e7ea-17b6-4a1c-85fe-2b5365f99508'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='46bbac81-cdd4-4037-a4df-9032a7778fc5'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='b4fd8026-2b93-4f12-8859-1f0b72d7a633'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='f80da08f-6cb9-42e1-b214-e6e11cf55550'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='40901614-f7a3-4318-8f60-e7d7770340f8'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='c06eb346-ec6a-4c3d-925b-238e9a54dd89'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='c67a4844-bf4a-4922-96b7-c1f95cad8368'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='db2ba15f-0a7e-4d43-965d-f30a3f651263'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='a2212e68-c7ca-4ed9-b675-11ebadd7a9b4')]...
2025-04-13 15:22:14,804 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:14,806 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:14,807 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:14,811 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:14,811 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:14,811 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:14,812 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:14,812 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:14,813 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:22:14,862 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:14,863 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:20,792 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:20,800 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:20,800 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:20,804 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:20,810 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:20,818 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6a5d4ade-b9a6-488a-9cea-483bec8ea7fc'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='1fd3eac1-5f1b-425b-8e62-7a7faad91dd7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='834409e9-2f3b-4aa8-a145-721d288c0ca9'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='29124681-f42d-43f5-a628-faaaf78d16b1'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='343c73d1-3f8f-46c3-a5a1-21b4f958e434'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='2c2f21de-8088-4167-aca8-e5f9ca0e5860'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='81268db2-1cbc-4b8a-a9ed-37d5f83ab61b'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='9fddb2a2-e72b-4abc-a371-e97aab21adad'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='33331e5b-58f6-4f8a-b733-ce70cc412661'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='067401c4-7b2c-47f0-a8f3-953cf2746e24'), HumanMessage(content='kralsın sen güzel', additional_kwargs={}, response_metadata={}, id='e58ed474-2663-4ab4-9974-2dd401bb7be3')]...
2025-04-13 15:22:22,083 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:22,084 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:22,085 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:22,088 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:22,088 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:22,089 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:22,090 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:22,090 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:22,091 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:22:22,143 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:22,143 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:25,708 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:25,712 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:25,713 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:25,715 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:25,719 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:25,726 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='55842029-b967-4a5f-bd4f-7fdc429daaa5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='5e95568d-3071-47fc-88ec-66a37b8aa5c7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='1310261c-8fb7-4953-97b2-9b8fe6837f06'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='da350b01-11db-45e7-94f2-c5bb8c335ecb'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='945e3fe6-1312-452b-bd8b-7ae4dd96408d'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='3151fe9c-5190-40a6-83c5-2f909b700261'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='753f6735-8b0d-4455-9744-39ee8d867d65'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='b852c55e-02a9-457f-a201-003d4251a1d4'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='2dc8e49f-a228-43d4-a4ff-a3f7dff5b005'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='b326abca-67c3-4268-b84b-c5cb02be695b'), HumanMessage(content='kralsın sen güzel', additional_kwargs={}, response_metadata={}, id='d079f03e-ad9a-4766-ba94-e38fe2b2ef7a'), HumanMessage(content='tamam bitti', additional_kwargs={}, response_metadata={}, id='16bc8c4e-3394-41e6-bd29-e891937e4039')]...
2025-04-13 15:22:26,915 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:26,916 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:26,918 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:26,921 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:26,921 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:26,921 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:26,921 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:26,921 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:26,922 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:22:26,974 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:26,974 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:32,893 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:32,896 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:32,896 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:32,897 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:32,898 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:32,903 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b7c3a67e-641e-4627-8702-4a605a546df6'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a72bfffd-fc27-4b31-8ae0-034748c8dfbd'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='36a75b62-3917-4b13-b25a-6fc25e747f56'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='1d64982e-2bb9-430f-8c38-8fa1e55350a2'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='da6f9441-09af-4373-8226-13f3c8a4b241'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='24eeaf22-7e00-4d1f-973f-5ade35dfa936'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='ed86cc49-2a42-4a17-9865-682b7d4b546d'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='a1b64fd1-24eb-445d-818e-1309278bfaf2'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='9f2009df-cdd1-45c5-a897-3d6fd72703bf'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='a9aa731e-4e29-40f6-a4d7-9b133a6a155f'), HumanMessage(content='kralsın sen güzel', additional_kwargs={}, response_metadata={}, id='593e4b40-e7e8-4f0e-be7c-9aee694771f2'), HumanMessage(content='tamam bitti', additional_kwargs={}, response_metadata={}, id='a3836442-0547-49a0-a766-a85c7dfda4e4'), HumanMessage(content='iyi günler', additional_kwargs={}, response_metadata={}, id='af7fc4de-af29-46a3-9864-8ea3bf91cf53')]...
2025-04-13 15:22:34,177 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:34,179 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:34,185 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:34,187 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:34,188 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:34,188 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:34,188 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:34,188 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:22:34,188 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:22:34,249 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:34,249 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:54,365 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:22:54,373 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:22:54,373 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:22:54,376 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:22:54,379 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:22:54,387 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='738076c8-b22f-4721-b814-fd1b056eac23'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='f819c959-27ac-4841-a680-1a5f0d5f0ff8'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='e04eb07d-4752-4f43-8a99-961630cac1b3'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='fdb28fab-1a08-41bc-89b0-404fbedd6083'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='c81d9cb7-05be-4a80-a3de-50a12a72fc93'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='66a1e858-52d5-4145-8c3d-6f53bf66b99f'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='4fa02364-9b86-47a8-bd05-902229e0384d'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='c284de01-0316-45a9-a90f-eac6fbbb2019'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='1623611d-ad97-4dba-88a9-0a815ff3f60c'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='76523c91-5d84-4117-a0d8-ead2cc0f0d68'), HumanMessage(content='kralsın sen güzel', additional_kwargs={}, response_metadata={}, id='3adf3846-5fe4-4899-8a49-8416e2df21d2'), HumanMessage(content='tamam bitti', additional_kwargs={}, response_metadata={}, id='9efd0a30-acab-46f6-8a64-867df5167a9c'), HumanMessage(content='iyi günler', additional_kwargs={}, response_metadata={}, id='301efdd6-eb40-4440-8be3-799be8cc91bf'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='866d4eec-7ce4-4626-89aa-eb8290cda8cd')]...
2025-04-13 15:22:55,883 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman ad\u0131na rezervasyo...
2025-04-13 15:22:55,886 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:22:55,888 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:22:55,891 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman ad\u0131na rezervasyo...
2025-04-13 15:22:55,892 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:22:55,892 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:22:55,893 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:22:55,893 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman ad\u0131na rezervasyo...
2025-04-13 15:22:55,893 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman adına...
2025-04-13 15:22:55,943 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 148 (char 147)
2025-04-13 15:22:55,944 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:23:02,245 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:23:02,252 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 148 (char 147)
2025-04-13 15:23:02,253 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:23:02,256 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:23:02,261 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:23:02,275 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c422e441-8440-4f78-9d0e-5b179dda6dcf'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='dd437281-9ca2-4825-bd47-012a26c06995'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='7ace475e-aff8-4bd0-8549-f39cfd881b95'), HumanMessage(content='Nasıl bulunmaz bir daha sorgula', additional_kwargs={}, response_metadata={}, id='0897bff3-3e6f-493a-94b5-64939cf985f1'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='e82ac86c-e100-4761-84ce-1eeffb629f8c'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='34eb602c-1483-4f04-8126-d2e1349c890d'), HumanMessage(content='Harikasın', additional_kwargs={}, response_metadata={}, id='6bfb11b4-884a-4d7c-a47b-f7b8ca7a3d16'), HumanMessage(content='tamam oldu', additional_kwargs={}, response_metadata={}, id='f5282157-1e4d-47f7-846a-a5f9709d583c'), HumanMessage(content='Daha önce sorguladıgım isimler nelerdi', additional_kwargs={}, response_metadata={}, id='39e74001-cd90-41d6-834a-b7c607679337'), HumanMessage(content='Adamsın sen adam', additional_kwargs={}, response_metadata={}, id='c01e6797-76e2-4656-a244-e8d52910ef5d'), HumanMessage(content='kralsın sen güzel', additional_kwargs={}, response_metadata={}, id='59371bf6-a931-4537-a415-97024da754bc'), HumanMessage(content='tamam bitti', additional_kwargs={}, response_metadata={}, id='35cd81fe-3797-4e98-b91e-eab9afce1358'), HumanMessage(content='iyi günler', additional_kwargs={}, response_metadata={}, id='403ee136-d40e-443c-a23b-de601004870d'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6a5b2bb0-a1b0-4945-972d-ba0ea85d9031'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='92150c92-7020-440d-9433-fd4e8a468403')]...
2025-04-13 15:23:03,450 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:23:03,457 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:23:03,475 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:23:03,477 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:23:03,477 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:23:03,478 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:23:03,478 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:23:03,478 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimleri i\u00e7in re...
2025-04-13 15:23:03,478 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:23:03,527 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 165 (char 164)
2025-04-13 15:23:03,527 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:05,820 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:25:05,825 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:25:05,833 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:25:10,005 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:25:10,046 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='80929373-2c1d-484d-bca3-3c9893d89e00'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='20e81252-a34e-4d37-a64d-d6657bff458a')]...
2025-04-13 15:25:11,406 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_action": n...
2025-04-13 15:25:11,408 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:25:11,410 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:11,413 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_action": n...
2025-04-13 15:25:11,413 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:25:11,414 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:25:11,414 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:25:11,414 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_action": n...
2025-04-13 15:25:11,416 - __main__ - INFO - ✅ JSON response regex ile bulundu: Size nasıl yardımcı olabilirim?...
2025-04-13 15:25:11,471 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 79 (char 78)
2025-04-13 15:25:11,472 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:16,425 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:25:16,431 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 79 (char 78)
2025-04-13 15:25:16,432 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:16,437 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]...
2025-04-13 15:25:18,113 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 15:25:18,116 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:25:18,118 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]
2025-04-13 15:25:18,118 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:25:18,118 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 15:25:18,119 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:18,122 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]
2025-04-13 15:25:18,123 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:25:18,124 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:25:18,125 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0c5ba921-18f4-460b-897b-27e54fe25166'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='f3421416-5227-4ea8-933f-8925a5e1e926')]
2025-04-13 15:25:18,126 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin Alt\u0131kula\u00e7, Tam Eşleşme: True
2025-04-13 15:25:18,126 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin Alt\u0131kula\u00e7, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:25:18,126 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:25:22,952 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:25:22,953 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:25:22,953 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:25:22,953 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:25:22,955 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]...
2025-04-13 15:25:24,562 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "ac...
2025-04-13 15:25:24,563 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:25:24,565 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]
2025-04-13 15:25:24,565 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:24,565 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:25:24,566 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}
2025-04-13 15:25:24,570 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]
2025-04-13 15:25:24,570 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:25:24,571 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:25:24,572 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0c5ba921-18f4-460b-897b-27e54fe25166'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='f3421416-5227-4ea8-933f-8925a5e1e926'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a7d832f8-7c2a-484d-8252-3b24f32e4ade'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8881960a-1db3-4c18-aac7-180811db6b36')]
2025-04-13 15:25:24,572 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin Alt\u0131kula\u00e7, Tam Eşleşme: True
2025-04-13 15:25:24,573 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin Alt\u0131kula\u00e7, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:25:24,573 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:25:29,722 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:25:29,723 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:25:29,723 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:25:29,723 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:25:29,725 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18b8b1ea-1bd4-4741-b8aa-e52e24cd8558'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='aac78277-7944-43f0-9e00-9b481136b1a7'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d71590e6-a98d-42b9-ab09-1d2d2339a9d0')]...
2025-04-13 15:25:31,324 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:31,325 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:25:31,326 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:31,329 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:31,329 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:25:31,330 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:25:31,330 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:25:31,331 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:31,331 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına kayıtlı rezervasyon buluna...
2025-04-13 15:25:31,377 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:25:31,378 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:31,378 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:31,378 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:33,893 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:25:33,896 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:25:33,896 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:33,896 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:33,896 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:33,899 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5018ca13-c078-430f-934a-618328383444'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='babeb9dd-af62-4d22-acde-fc0b741b6dd1'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='56ed1ce3-5d5b-4de9-9ca9-0033e9def110'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='87d2c61c-ad19-4da6-890b-d447c65ba31e')]...
2025-04-13 15:25:35,219 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:35,222 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:25:35,224 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:35,227 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:35,227 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:25:35,228 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:25:35,228 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:25:35,228 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:35,228 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına kayıtlı rezervasyon buluna...
2025-04-13 15:25:35,318 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:25:35,318 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:35,319 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:35,319 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:40,381 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:25:40,388 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:25:40,389 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:40,391 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:40,391 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:40,399 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4e08412-bf91-489c-b7c4-9a6a8e5dfd1b'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='eb2a6647-19df-4f51-851d-b180ddd0e250'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='0d3da800-7689-4d7c-bd54-b704578da9bf'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='2b598cdd-8ec2-4dd8-a754-7a722873df7d'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='ff593cca-70bd-4a24-9806-998abda93694')]...
2025-04-13 15:25:41,897 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:25:41,899 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:25:41,900 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:41,900 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4e08412-bf91-489c-b7c4-9a6a8e5dfd1b'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='eb2a6647-19df-4f51-851d-b180ddd0e250'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='0d3da800-7689-4d7c-bd54-b704578da9bf'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='2b598cdd-8ec2-4dd8-a754-7a722873df7d'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='ff593cca-70bd-4a24-9806-998abda93694')]
2025-04-13 15:25:41,902 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:25:41,903 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:25:41,906 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4e08412-bf91-489c-b7c4-9a6a8e5dfd1b'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='eb2a6647-19df-4f51-851d-b180ddd0e250'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='0d3da800-7689-4d7c-bd54-b704578da9bf'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='2b598cdd-8ec2-4dd8-a754-7a722873df7d'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='ff593cca-70bd-4a24-9806-998abda93694')]
2025-04-13 15:25:41,907 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:25:41,908 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:25:41,909 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='0c5ba921-18f4-460b-897b-27e54fe25166'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='f3421416-5227-4ea8-933f-8925a5e1e926'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='a7d832f8-7c2a-484d-8252-3b24f32e4ade'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin Alt\\\\u0131kula\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='8881960a-1db3-4c18-aac7-180811db6b36'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='2432223a-7864-45cb-9d76-d1f5571a3a53'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='28c9336b-4eb6-44f2-afe2-bb883806b9fa')]
2025-04-13 15:25:41,910 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: H\u00fcseyin Alt\u0131kula\u00e7, Tam Eşleşme: True
2025-04-13 15:25:41,910 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=H\u00fcseyin Alt\u0131kula\u00e7, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:25:41,910 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:25:47,500 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:25:47,501 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:25:47,501 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:25:47,501 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:25:47,503 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a4e08412-bf91-489c-b7c4-9a6a8e5dfd1b'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='eb2a6647-19df-4f51-851d-b180ddd0e250'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='0d3da800-7689-4d7c-bd54-b704578da9bf'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='2b598cdd-8ec2-4dd8-a754-7a722873df7d'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='ff593cca-70bd-4a24-9806-998abda93694')]...
2025-04-13 15:25:49,034 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad\\u0131.", "action_...
2025-04-13 15:25:49,035 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:25:49,037 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:25:49,040 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad\\u0131.", "action_...
2025-04-13 15:25:49,040 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:25:49,041 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:25:49,041 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:25:49,041 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad\\u0131.", "action_...
2025-04-13 15:25:49,041 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına kay\ıtl\ı rezervasyon bulunam...
2025-04-13 15:25:49,095 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 108 (char 107)
2025-04-13 15:25:49,095 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:49,096 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:49,096 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:59,245 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:25:59,251 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 108 (char 107)
2025-04-13 15:25:59,251 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:59,253 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:25:59,254 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:25:59,263 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e97b5c4f-2c10-49e4-8ce1-856e2a966651'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='ed164f2b-53f6-4965-a664-0f63d9eff67d'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='8344b2a2-7615-4639-a5bd-4b02b10ca76d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='343caa66-7775-4834-bf92-216560d32103'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='6c0f31bd-bd0b-4784-b9a3-60e8ed9cb48e'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='60e6927a-14ff-488d-aa23-2e345f9ecfc5')]...
2025-04-13 15:26:00,711 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:00,713 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:26:00,714 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:26:00,718 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:00,718 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:26:00,718 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:26:00,719 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:26:00,719 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:00,719 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:26:00,767 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 179 (char 178)
2025-04-13 15:26:00,768 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:00,768 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:00,768 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:07,747 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:26:07,755 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 179 (char 178)
2025-04-13 15:26:07,756 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:07,757 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:07,758 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:07,766 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6f52b3e0-1f43-4b58-8245-f0495f8e519d'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='ed959038-c1d1-4a51-bf9b-f5947de3c58d'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='c2003acd-4613-4336-994c-3ac426c318a1'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='fa55bdf6-d98c-4db0-b570-768c56255da9'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='d122a275-a98a-4206-b0e6-68db1e3fc4aa'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='c141d74c-9565-46ba-86df-ea0235a35e3b'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='107cb17b-1297-49be-8efd-1a635d1b02a9')]...
2025-04-13 15:26:09,291 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:09,293 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:26:09,295 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:26:09,298 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:09,298 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:26:09,299 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:26:09,299 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:26:09,299 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:26:09,299 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:26:09,350 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 345 (char 344)
2025-04-13 15:26:09,351 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:09,351 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:09,351 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:15,211 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:26:15,217 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 345 (char 344)
2025-04-13 15:26:15,218 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:15,220 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:15,220 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:15,230 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d18f349a-d7eb-4684-8503-0c1c5bf92961'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='cb89b3d7-8675-446f-a5b8-b5658c707d3d'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='9535a53a-2d7a-4408-a6dc-fe47eb3786f1'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='c7ae946e-5891-4757-96d2-5be4198d885c'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='f2f69ad9-6753-49ac-b3bd-ee768262a97b'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='dd5e31ba-7a46-44b4-a485-e554f9604201'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='2fc51c3f-ea53-42c1-97ed-4778eae1842c'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='f8d7f1c6-2c3d-4adb-906c-c7f614ec2995')]...
2025-04-13 15:26:17,095 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\u...
2025-04-13 15:26:17,097 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:26:17,099 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:26:17,101 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\u...
2025-04-13 15:26:17,102 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:26:17,102 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:26:17,103 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:26:17,103 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\u...
2025-04-13 15:26:17,103 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce H\üseyin Alt\ıkula\ç ve Hilal Karaman is...
2025-04-13 15:26:17,153 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 286 (char 285)
2025-04-13 15:26:17,153 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:17,154 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:17,154 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:23,763 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:26:23,770 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 286 (char 285)
2025-04-13 15:26:23,770 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:23,771 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:23,772 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:23,777 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7d4bca6b-aa1e-43ff-87bb-3be7f3040686'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='8119f4b1-5f6c-4a61-a62d-0ecc18a7672b'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='d7e3db8f-7965-4148-bae2-a354e14e33de'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='fbf748ac-a832-4fcd-9313-a032f250f7ab'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='3139c729-3150-4357-a135-789e1b5d476c'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='d1d85ef9-567e-44ed-8d18-9dc89990e37e'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='b00b6936-c927-42ae-aec9-101dbe5adb54'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='f14f6ec1-85b0-43e0-8abb-4d2f91b9fdc9'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b19fdcf4-931f-4e94-9037-36d43720cf5c')]...
2025-04-13 15:26:25,293 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad...
2025-04-13 15:26:25,294 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:26:25,294 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:26:25,296 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad...
2025-04-13 15:26:25,296 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:26:25,296 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:26:25,296 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:26:25,296 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyon bulunamad...
2025-04-13 15:26:25,296 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç ad\ına kay\ıtl\ı rezervasyon bul...
2025-04-13 15:26:25,330 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 127 (char 126)
2025-04-13 15:26:25,330 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:25,330 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:25,330 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:49,637 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:26:49,649 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 127 (char 126)
2025-04-13 15:26:49,649 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:49,651 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:49,652 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:49,664 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='89d53693-c537-4aeb-ae82-0e2a6c51d16e'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='2f763ca6-eed7-4072-b643-6dd9482150ef'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='59770058-e5e9-44fe-832e-56330c9e0522'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b90c6745-7e71-4618-a20f-d8bc0ce3634e'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='4eb58c72-39bd-40ad-bc74-0c02b7c209f9'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='75fcce2a-ef76-4d79-9b1f-ccc51f03b344'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='042b4125-03e3-4839-8edd-01f1a854badb'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='e1f6d911-7552-4d40-9660-d74f8ecf6026'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='3f3164d7-55ed-4e7b-9203-f1f1241bcb0e'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='8b5e1d11-8073-4d78-8c15-74fec5fa5be4')]...
2025-04-13 15:26:51,754 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:26:51,756 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:26:51,758 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:26:51,761 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:26:51,762 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:26:51,762 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:26:51,762 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:26:51,762 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:26:51,763 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha \önce H\üseyin Alt\ıkula\ç ve Hilal Karaman i...
2025-04-13 15:26:51,826 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 287 (char 286)
2025-04-13 15:26:51,827 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:26:51,827 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:26:51,827 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:43,027 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:27:43,040 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 287 (char 286)
2025-04-13 15:27:43,041 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:43,041 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:27:43,041 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:43,052 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11082e2c-c70b-40d7-97c8-a6fa37158106'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='34ebc64d-8932-4b22-abb0-e4ef955dd212'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='4366db9a-e134-47cc-9728-949eb8637c2e'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='dc02bb93-535d-4979-bdef-bf93b7c13cce'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='60ff7819-2aa5-4a15-8251-1d94be391c3a'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='b5358880-00bf-4aef-a623-3a663cc2840d'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='757f1446-d3a1-40e2-ac29-14e5274ea5ed'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='1160bdcd-179d-405d-8767-6ffe371c2c29'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='16e6645e-0a4b-4935-9f2f-cb45e9d714f7'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d525cd3a-7017-4ad7-a91c-8b94c1b8885b'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='64653a00-6c44-482c-a726-73ec7300bf1b')]...
2025-04-13 15:27:45,108 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:27:45,110 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:27:45,112 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:27:45,115 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:27:45,115 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:27:45,116 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:27:45,116 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:27:45,116 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \\u00f6nce H\\u00fcseyin Alt\\u0131kula\\u00e7 ve Hilal Karaman isimli m\\u00fc\\...
2025-04-13 15:27:45,116 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha \önce H\üseyin Alt\ıkula\ç ve Hilal Karaman i...
2025-04-13 15:27:45,183 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 287 (char 286)
2025-04-13 15:27:45,183 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:45,184 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:27:45,184 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:54,387 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:27:54,393 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 287 (char 286)
2025-04-13 15:27:54,394 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:54,395 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:27:54,395 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:54,405 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='04d74b2b-654a-4f2b-bb1b-c14c1dc9aae0'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='037d4c60-daa0-4c9a-b8f8-a6a69fbe8c2a'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='1a3c3a67-aa84-4b6f-8596-a132984f4fff'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='4e6c3454-f071-4075-b5df-8b4662161e03'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='0f7fc878-42fe-4cb8-9295-6df231286911'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='f6fe75fd-cfb7-4f8a-9687-eaa5f54b554a'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='d0ac79fd-d874-4647-9faa-8b9dd9828075'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='b45b8237-9c0d-4d51-ad51-d6e6deea1d03'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7f4bb164-956a-42f5-a223-5d5aea932031'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='02d00259-bc4a-44d4-a0d8-6d1504f9773b'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='8803156e-0455-4ba7-b1df-81387931e14b'), HumanMessage(content='Hüseyin Altıkulaç ı sorgula', additional_kwargs={}, response_metadata={}, id='62531498-3301-4f55-81b6-e4ae0a382122')]...
2025-04-13 15:27:56,010 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:27:56,012 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:27:56,014 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:27:56,017 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:27:56,017 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:27:56,018 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:27:56,019 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:27:56,019 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:27:56,019 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:27:56,067 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 345 (char 344)
2025-04-13 15:27:56,067 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:27:56,068 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:27:56,068 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:00,113 - __main__ - INFO - 🔄 Yeni sorgu geldi
2025-04-13 15:28:00,122 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 345 (char 344)
2025-04-13 15:28:00,122 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:00,124 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:28:00,124 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:00,134 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e754f3bd-1f95-43e5-b2a6-5a91d3826ca0'), HumanMessage(content='Merhaba Kral', additional_kwargs={}, response_metadata={}, id='3cc869c2-bbe0-4ebc-81e7-77d042357c1c'), HumanMessage(content='hüseyin altıkulaç listele rezervasyonları', additional_kwargs={}, response_metadata={}, id='b87305d2-01d8-44c9-b201-fb9a78eac404'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='e4fa9fb8-054d-49fd-aeaa-6a724004fdc5'), HumanMessage(content='Hilal Karamana bak', additional_kwargs={}, response_metadata={}, id='bf24b054-ea2c-43b8-b58a-c48beebeab7c'), HumanMessage(content='Daha önce kimleri sorguladım', additional_kwargs={}, response_metadata={}, id='72f7782b-148d-4fac-a2d4-3be49d66b440'), HumanMessage(content='İkisinide sorgula şimdi', additional_kwargs={}, response_metadata={}, id='ffbc28bc-0fe9-4576-8987-a297e7a12785'), HumanMessage(content='Bir daha sorgula hüseyini', additional_kwargs={}, response_metadata={}, id='cd379901-b234-4cdf-8cf7-27a5cfc61307'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='545b2a51-deec-4af0-906e-58dd4300cc7b'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='8aa17961-f144-4b9c-a1d9-d641d8ea8cda'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='850f0ce9-2917-43d6-9647-5959b2acc8cc'), HumanMessage(content='Hüseyin Altıkulaç ı sorgula', additional_kwargs={}, response_metadata={}, id='230ed916-8de6-4f5e-9d9e-3ed861f53066'), HumanMessage(content='tamam sus', additional_kwargs={}, response_metadata={}, id='5c874f59-feb0-46fe-9244-1dd6d3f93e2f')]...
2025-04-13 15:28:01,950 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:28:01,952 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:28:01,953 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:01,957 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:28:01,957 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:28:01,957 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:28:01,958 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:28:01,958 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Daha \u00f6nce H\u00fcseyin Alt\u0131kula\u00e7 ve Hilal Karaman isimli m\u00fc\u015ft...
2025-04-13 15:28:01,958 - __main__ - INFO - ✅ JSON response regex ile bulundu: Daha önce Hüseyin Altıkulaç ve Hilal Karaman isiml...
2025-04-13 15:28:02,006 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 345 (char 344)
2025-04-13 15:28:02,007 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:02,007 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:28:02,007 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:20,203 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:28:20,213 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:28:20,229 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:28:23,388 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:28:23,396 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:28:23,402 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:28:23,408 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6d21e244-99c9-4d42-b33c-1de2e8df2081'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7ecab653-c249-442d-ab74-240e62fb33e1')]...
2025-04-13 15:28:24,683 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:28:24,685 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:28:24,686 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6d21e244-99c9-4d42-b33c-1de2e8df2081'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7ecab653-c249-442d-ab74-240e62fb33e1')]
2025-04-13 15:28:24,686 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:24,687 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:28:24,689 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:28:24,691 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6d21e244-99c9-4d42-b33c-1de2e8df2081'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7ecab653-c249-442d-ab74-240e62fb33e1')]
2025-04-13 15:28:24,692 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:28:24,694 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:28:24,695 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='947eee65-0181-4ee9-a2bc-daa14078c55e'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='d897e5c9-7c32-4ad4-ae01-d9ee067c38c9')]
2025-04-13 15:28:24,696 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:28:24,696 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:28:24,696 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:28:29,915 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:28:29,917 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:28:29,917 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:28:29,917 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:28:29,919 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6d21e244-99c9-4d42-b33c-1de2e8df2081'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7ecab653-c249-442d-ab74-240e62fb33e1')]...
2025-04-13 15:28:31,337 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Ancak, ...
2025-04-13 15:28:31,338 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:28:31,338 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:31,341 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Ancak, ...
2025-04-13 15:28:31,341 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:28:31,341 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:28:31,341 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:28:31,341 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Ancak, ...
2025-04-13 15:28:31,341 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç ad\ına olan rezervasyonlar liste...
2025-04-13 15:28:31,391 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 171 (char 170)
2025-04-13 15:28:31,391 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:31,392 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:28:31,392 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:43,848 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:28:43,859 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 171 (char 170)
2025-04-13 15:28:43,861 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:43,866 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:28:43,866 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:28:43,870 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:28:43,875 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:28:43,889 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:28:45,119 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:28:45,121 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:28:45,123 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:45,124 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:45,124 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:28:45,127 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00e7"}
2025-04-13 15:28:45,129 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:45,129 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:28:45,130 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:28:45,132 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='39822584-8b1a-45ee-92fe-f0b6d6e8d4c9'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7fe18572-f9b2-4447-b8fb-b8f332ca087c')]
2025-04-13 15:28:45,132 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 15:28:45,132 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:28:45,132 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:28:49,170 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:28:49,170 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:28:49,170 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:28:49,171 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:28:49,172 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:28:50,592 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_t...
2025-04-13 15:28:50,594 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:28:50,596 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:50,596 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:50,597 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:28:50,597 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}
2025-04-13 15:28:50,601 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:50,602 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:28:50,603 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:28:50,604 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='39822584-8b1a-45ee-92fe-f0b6d6e8d4c9'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7fe18572-f9b2-4447-b8fb-b8f332ca087c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='9760407c-5676-4a22-9fb4-134b6eb86bba'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='5fcbd762-a64a-4b21-9608-1c8ef98516c8')]
2025-04-13 15:28:50,604 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 15:28:50,605 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:28:50,605 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:28:55,712 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:28:55,712 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:28:55,713 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:28:55,713 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:28:55,715 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:28:57,040 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_t...
2025-04-13 15:28:57,042 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:28:57,044 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:57,044 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:28:57,044 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:28:57,045 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}
2025-04-13 15:28:57,049 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:28:57,050 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:28:57,051 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:28:57,053 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='39822584-8b1a-45ee-92fe-f0b6d6e8d4c9'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7fe18572-f9b2-4447-b8fb-b8f332ca087c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='9760407c-5676-4a22-9fb4-134b6eb86bba'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='5fcbd762-a64a-4b21-9608-1c8ef98516c8'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cc1c8ea0-469f-4706-beab-9de30534398a'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ed12052b-a9fb-45ab-8135-bfb6bf1b6297')]
2025-04-13 15:28:57,053 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 15:28:57,053 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:28:57,054 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:29:01,349 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:29:01,349 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:29:01,350 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:29:01,350 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:29:01,352 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:29:02,674 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:29:02,676 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:29:02,678 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:29:02,678 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:29:02,678 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:29:02,678 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:29:02,682 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:29:02,683 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:29:02,684 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:29:02,685 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='39822584-8b1a-45ee-92fe-f0b6d6e8d4c9'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7fe18572-f9b2-4447-b8fb-b8f332ca087c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='9760407c-5676-4a22-9fb4-134b6eb86bba'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='5fcbd762-a64a-4b21-9608-1c8ef98516c8'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cc1c8ea0-469f-4706-beab-9de30534398a'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ed12052b-a9fb-45ab-8135-bfb6bf1b6297'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fdd5b928-f887-4065-87c8-c69e6bdb4f75'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='63bbb786-3ba5-4c30-b836-e8cd4d986e36')]
2025-04-13 15:29:02,686 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 15:29:02,686 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:29:02,686 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:29:06,577 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:29:06,578 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:29:06,578 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:29:06,578 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:29:06,579 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:29:07,876 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:29:07,877 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:29:07,877 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:29:07,877 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:29:07,878 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:29:07,878 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:29:07,880 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]
2025-04-13 15:29:07,880 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:29:07,881 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:29:07,881 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='39822584-8b1a-45ee-92fe-f0b6d6e8d4c9'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00e7"}', additional_kwargs={}, response_metadata={}, id='7fe18572-f9b2-4447-b8fb-b8f332ca087c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='9760407c-5676-4a22-9fb4-134b6eb86bba'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='5fcbd762-a64a-4b21-9608-1c8ef98516c8'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cc1c8ea0-469f-4706-beab-9de30534398a'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ed12052b-a9fb-45ab-8135-bfb6bf1b6297'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='fdd5b928-f887-4065-87c8-c69e6bdb4f75'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='63bbb786-3ba5-4c30-b836-e8cd4d986e36'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='27a2b553-4c54-4364-a76f-ed20466f7418'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='c7611928-be16-492b-a917-3f0288418322')]
2025-04-13 15:29:07,881 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAç, Tam Eşleşme: True
2025-04-13 15:29:07,882 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:29:07,882 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:29:12,399 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:29:12,399 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:29:12,399 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:29:12,399 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:29:12,400 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d59b1587-a333-46fe-ad21-a3a0aed865fb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='96f4ca39-847f-4cb4-8b3a-eca74d15700d'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='d381c26f-00ec-494d-a9b7-9b25ff5f8fb3')]...
2025-04-13 15:29:13,652 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:29:13,653 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:29:40,075 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:29:40,078 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:29:40,080 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:29:42,351 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:29:42,361 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:29:42,371 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:29:45,255 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:29:45,263 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:29:45,266 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:29:45,287 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4b90bfe4-2467-4bda-a2a8-09baa8b1cefb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='03f4ea14-3a3f-42b6-9df0-ebf69c60650d')]...
2025-04-13 15:29:46,601 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:29:46,605 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:29:46,609 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4b90bfe4-2467-4bda-a2a8-09baa8b1cefb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='03f4ea14-3a3f-42b6-9df0-ebf69c60650d')]
2025-04-13 15:29:46,609 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:29:46,609 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:29:46,611 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:29:46,613 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4b90bfe4-2467-4bda-a2a8-09baa8b1cefb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='03f4ea14-3a3f-42b6-9df0-ebf69c60650d')]
2025-04-13 15:29:46,614 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:29:46,615 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:29:46,616 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='ceaef7cc-98ab-4098-a1d8-b25bfa406ffc'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='cd13b285-9753-41a2-accb-decd6d0ead3e')]
2025-04-13 15:29:46,617 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:29:46,617 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:29:46,617 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:29:50,018 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:29:50,018 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:29:50,018 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:29:50,018 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:29:50,019 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4b90bfe4-2467-4bda-a2a8-09baa8b1cefb'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='03f4ea14-3a3f-42b6-9df0-ebf69c60650d')]...
2025-04-13 15:29:51,620 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:29:51,622 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:29:51,623 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:29:51,627 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:29:51,627 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:29:51,628 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:29:51,628 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:29:51,628 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:29:51,629 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına rezervasyon bulunamad\...
2025-04-13 15:29:51,679 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 110 (char 109)
2025-04-13 15:29:51,680 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:29:51,681 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:29:51,681 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:29:55,182 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:29:55,188 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 110 (char 109)
2025-04-13 15:29:55,188 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:29:55,189 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:29:55,189 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:29:55,192 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:29:55,196 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:29:55,205 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4846dd5b-678e-4e27-8e00-302fafb26212'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='31a819ce-e4b8-4f04-b88d-82f8076e3a73'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b0c652b1-4bbf-439c-8ef1-86ae40519880')]...
2025-04-13 15:29:56,433 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:29:56,435 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:29:56,437 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4846dd5b-678e-4e27-8e00-302fafb26212'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='31a819ce-e4b8-4f04-b88d-82f8076e3a73'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b0c652b1-4bbf-439c-8ef1-86ae40519880')]
2025-04-13 15:29:56,437 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:29:56,437 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:29:56,438 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:29:56,441 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4846dd5b-678e-4e27-8e00-302fafb26212'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='31a819ce-e4b8-4f04-b88d-82f8076e3a73'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b0c652b1-4bbf-439c-8ef1-86ae40519880')]
2025-04-13 15:29:56,442 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:29:56,443 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:29:56,444 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='9b41d10b-cc1b-45a9-8ad8-1b9b1addacec'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='28968935-c7ab-4932-abc9-7270c49dda0b')]
2025-04-13 15:29:56,445 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:29:56,445 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:29:56,446 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:30:00,680 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:30:00,681 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:30:00,681 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:30:00,681 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:30:00,683 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4846dd5b-678e-4e27-8e00-302fafb26212'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='31a819ce-e4b8-4f04-b88d-82f8076e3a73'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='b0c652b1-4bbf-439c-8ef1-86ae40519880')]...
2025-04-13 15:30:01,999 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:30:02,000 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:30:02,002 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:02,006 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:30:02,006 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:30:02,006 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:30:02,007 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:30:02,007 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na rezervasyon bulunamad\\u0131.", "actio...
2025-04-13 15:30:02,007 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına rezervasyon bulunamad\...
2025-04-13 15:30:02,059 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 110 (char 109)
2025-04-13 15:30:02,059 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:02,059 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:02,059 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:14,700 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:30:14,716 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 110 (char 109)
2025-04-13 15:30:14,716 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:14,723 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:14,723 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:14,729 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:30:14,738 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:30:14,764 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b758cb30-41ff-4883-979b-40ba4aed064f'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='d8ed2453-3b45-41b0-a8ed-93be8cbce81a'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='df3d9501-0e4e-4b18-9048-356153d34e1b'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='b2182459-bfb9-4da9-a19b-65b30dd1e6eb')]...
2025-04-13 15:30:16,123 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 15:30:16,125 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:30:16,126 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b758cb30-41ff-4883-979b-40ba4aed064f'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='d8ed2453-3b45-41b0-a8ed-93be8cbce81a'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='df3d9501-0e4e-4b18-9048-356153d34e1b'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='b2182459-bfb9-4da9-a19b-65b30dd1e6eb')]
2025-04-13 15:30:16,126 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:16,127 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:30:16,127 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:30:16,130 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b758cb30-41ff-4883-979b-40ba4aed064f'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='d8ed2453-3b45-41b0-a8ed-93be8cbce81a'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='df3d9501-0e4e-4b18-9048-356153d34e1b'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='b2182459-bfb9-4da9-a19b-65b30dd1e6eb')]
2025-04-13 15:30:16,131 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:30:16,132 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:30:16,134 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='52a967a6-2497-490d-9478-6696b7e0446a'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='daf7b9f4-d5ad-427b-ae98-f03bcc596e7c')]
2025-04-13 15:30:16,134 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:30:16,135 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:30:16,135 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:30:20,194 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:30:20,195 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:30:20,195 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:30:20,195 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:30:20,196 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b758cb30-41ff-4883-979b-40ba4aed064f'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='d8ed2453-3b45-41b0-a8ed-93be8cbce81a'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='df3d9501-0e4e-4b18-9048-356153d34e1b'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='b2182459-bfb9-4da9-a19b-65b30dd1e6eb')]...
2025-04-13 15:30:21,724 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - ...
2025-04-13 15:30:21,724 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:30:21,725 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:21,727 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - ...
2025-04-13 15:30:21,728 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:30:21,728 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:30:21,728 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:30:21,728 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - ...
2025-04-13 15:30:21,728 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyon bulundu:\
\
...
2025-04-13 15:30:21,790 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 147 (char 146)
2025-04-13 15:30:21,790 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:21,791 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:21,791 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:27,261 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:30:27,267 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 147 (char 146)
2025-04-13 15:30:27,267 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:27,269 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:27,270 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:27,272 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:30:27,278 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:30:27,285 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3ad339b8-31d1-4778-b21c-1febf4faadbd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='a892a802-143e-4842-8b74-708396e2c043'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='39d6bc24-49aa-471c-92a1-30a9af7c19a2'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='e6dc3934-c691-468c-ba72-79fd642e3d3d'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='e6e583c0-da74-4729-983a-744ea41f409a')]...
2025-04-13 15:30:28,796 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:30:28,798 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:30:28,800 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3ad339b8-31d1-4778-b21c-1febf4faadbd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='a892a802-143e-4842-8b74-708396e2c043'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='39d6bc24-49aa-471c-92a1-30a9af7c19a2'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='e6dc3934-c691-468c-ba72-79fd642e3d3d'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='e6e583c0-da74-4729-983a-744ea41f409a')]
2025-04-13 15:30:28,801 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:28,801 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:30:28,803 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:30:28,805 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3ad339b8-31d1-4778-b21c-1febf4faadbd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='a892a802-143e-4842-8b74-708396e2c043'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='39d6bc24-49aa-471c-92a1-30a9af7c19a2'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='e6dc3934-c691-468c-ba72-79fd642e3d3d'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='e6e583c0-da74-4729-983a-744ea41f409a')]
2025-04-13 15:30:28,806 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:30:28,807 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:30:28,808 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='769df234-699d-4c18-98d0-5e6468f37aa8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='23e35261-4961-46ae-93bb-cfe9fbab97e5')]
2025-04-13 15:30:28,809 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:30:28,809 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:30:28,809 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:30:32,803 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:30:32,804 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:30:32,804 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:30:32,805 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:30:32,807 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3ad339b8-31d1-4778-b21c-1febf4faadbd'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='a892a802-143e-4842-8b74-708396e2c043'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='39d6bc24-49aa-471c-92a1-30a9af7c19a2'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='e6dc3934-c691-468c-ba72-79fd642e3d3d'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='e6e583c0-da74-4729-983a-744ea41f409a')]...
2025-04-13 15:30:34,014 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:30:34,015 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:30:34,017 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:34,019 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:30:34,020 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:30:34,020 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:30:34,020 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:30:34,021 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na kay\u0131tl\u0131 rezervasyon bulunamad\u0...
2025-04-13 15:30:34,021 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin Altıkulaç adına kayıtlı rezervasyon buluna...
2025-04-13 15:30:34,072 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:30:34,073 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:34,073 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:34,073 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:41,197 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:30:41,205 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 123 (char 122)
2025-04-13 15:30:41,206 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:41,207 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:41,207 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:41,209 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:30:41,220 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:30:41,225 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d8dac655-d32f-4e8f-aba2-db6ec7f29386'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='08210863-075e-42f3-88af-5a6a2f73fb26'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='5c2962ae-4535-4de6-94d4-c6cfbd515803'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='89edf0a4-bb23-4882-a5cf-39f586549766'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='48b31f92-8d2a-43c1-9333-d994d6957785'), HumanMessage(content='nasıl bulunamaz ya bir daha bak', additional_kwargs={}, response_metadata={}, id='18e362ae-8495-432c-a1b1-5c314ddf9d7f')]...
2025-04-13 15:30:42,479 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar tekrar listeleniyor", ...
2025-04-13 15:30:42,481 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:30:42,483 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d8dac655-d32f-4e8f-aba2-db6ec7f29386'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='08210863-075e-42f3-88af-5a6a2f73fb26'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='5c2962ae-4535-4de6-94d4-c6cfbd515803'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='89edf0a4-bb23-4882-a5cf-39f586549766'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='48b31f92-8d2a-43c1-9333-d994d6957785'), HumanMessage(content='nasıl bulunamaz ya bir daha bak', additional_kwargs={}, response_metadata={}, id='18e362ae-8495-432c-a1b1-5c314ddf9d7f')]
2025-04-13 15:30:42,483 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:42,483 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:30:42,486 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:30:42,488 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d8dac655-d32f-4e8f-aba2-db6ec7f29386'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='08210863-075e-42f3-88af-5a6a2f73fb26'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='5c2962ae-4535-4de6-94d4-c6cfbd515803'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='89edf0a4-bb23-4882-a5cf-39f586549766'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='48b31f92-8d2a-43c1-9333-d994d6957785'), HumanMessage(content='nasıl bulunamaz ya bir daha bak', additional_kwargs={}, response_metadata={}, id='18e362ae-8495-432c-a1b1-5c314ddf9d7f')]
2025-04-13 15:30:42,489 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:30:42,490 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:30:42,491 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='f77223c8-075d-440c-96c5-91781be74614'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='4a56ba27-20fb-4900-bd1f-940ae7298353')]
2025-04-13 15:30:42,492 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:30:42,492 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:30:42,492 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:30:46,379 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:30:46,379 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:30:46,379 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:30:46,380 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:30:46,381 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d8dac655-d32f-4e8f-aba2-db6ec7f29386'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='08210863-075e-42f3-88af-5a6a2f73fb26'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='5c2962ae-4535-4de6-94d4-c6cfbd515803'), HumanMessage(content='Hilal Karaman', additional_kwargs={}, response_metadata={}, id='89edf0a4-bb23-4882-a5cf-39f586549766'), HumanMessage(content='Hüseyin Altıkulaç', additional_kwargs={}, response_metadata={}, id='48b31f92-8d2a-43c1-9333-d994d6957785'), HumanMessage(content='nasıl bulunamaz ya bir daha bak', additional_kwargs={}, response_metadata={}, id='18e362ae-8495-432c-a1b1-5c314ddf9d7f')]...
2025-04-13 15:30:48,251 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131t bulunamad\\u0131. L\\u00fc...
2025-04-13 15:30:48,253 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:30:48,255 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:30:48,258 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131t bulunamad\\u0131. L\\u00fc...
2025-04-13 15:30:48,259 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:30:48,259 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:30:48,259 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:30:48,259 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131t bulunamad\\u0131. L\\u00fc...
2025-04-13 15:30:48,259 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına kay\ıt bulunamad\ı. L\...
2025-04-13 15:30:48,320 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 209 (char 208)
2025-04-13 15:30:48,320 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:30:48,321 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:30:48,321 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:31:08,824 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:31:08,830 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:31:08,836 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:31:12,187 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:31:12,196 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:31:12,200 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:31:12,209 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0546fb49-1943-4c2d-a853-dcbb00903895'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7271ac37-0ec8-4b58-bc27-59529954cc55')]...
2025-04-13 15:31:13,539 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:31:13,539 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:31:13,540 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0546fb49-1943-4c2d-a853-dcbb00903895'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7271ac37-0ec8-4b58-bc27-59529954cc55')]
2025-04-13 15:31:13,541 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:31:13,541 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:31:13,541 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:31:13,543 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0546fb49-1943-4c2d-a853-dcbb00903895'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7271ac37-0ec8-4b58-bc27-59529954cc55')]
2025-04-13 15:31:13,544 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:31:13,545 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:31:13,546 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='099fd532-9b65-4803-8cd3-8c3d6e083a1e'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='9ba0e7ac-7934-459e-82be-a4c352cfaf3b')]
2025-04-13 15:31:13,546 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:31:13,547 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:31:13,547 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:31:17,718 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:31:17,719 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:31:17,719 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:31:17,719 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:31:17,721 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0546fb49-1943-4c2d-a853-dcbb00903895'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7271ac37-0ec8-4b58-bc27-59529954cc55')]...
2025-04-13 15:31:19,262 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Hazir...
2025-04-13 15:31:19,263 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:31:19,265 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:31:19,270 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Hazir...
2025-04-13 15:31:19,270 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:31:19,271 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:31:19,271 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:31:19,272 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na 2 adet rezervasyon bulundu:\\n\\n1. 15 Hazir...
2025-04-13 15:31:19,272 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin ALTIKULA\Ç ad\ına 2 adet rezervasyon bulu...
2025-04-13 15:31:19,351 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 294 (char 293)
2025-04-13 15:31:19,351 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:31:19,352 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:31:19,352 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:08,122 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:39:08,149 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 294 (char 293)
2025-04-13 15:39:08,149 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:08,152 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:39:08,152 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:08,157 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:39:08,170 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:39:08,196 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='923a2fd0-e42d-4a28-9210-1a0349b01e64'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6a439c6a-0f24-4619-8e5b-82534afe4eef'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='438a5dd0-f01a-4e84-8385-5644d8d54cc7')]...
2025-04-13 15:39:09,663 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 15:39:09,665 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:39:09,666 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:09,667 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='923a2fd0-e42d-4a28-9210-1a0349b01e64'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6a439c6a-0f24-4619-8e5b-82534afe4eef'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='438a5dd0-f01a-4e84-8385-5644d8d54cc7')]
2025-04-13 15:39:09,667 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:39:09,669 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:39:09,672 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='923a2fd0-e42d-4a28-9210-1a0349b01e64'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6a439c6a-0f24-4619-8e5b-82534afe4eef'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='438a5dd0-f01a-4e84-8385-5644d8d54cc7')]
2025-04-13 15:39:09,673 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:39:09,674 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:39:09,675 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='af3a9b85-d037-4cb3-b413-084af7cec5dd'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='746f68c3-d750-4ed6-800f-e18ea2fba533')]
2025-04-13 15:39:09,675 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:39:09,675 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:39:09,676 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:39:14,236 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:39:14,237 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:39:14,237 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:39:14,239 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:39:14,240 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='923a2fd0-e42d-4a28-9210-1a0349b01e64'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='6a439c6a-0f24-4619-8e5b-82534afe4eef'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='438a5dd0-f01a-4e84-8385-5644d8d54cc7')]...
2025-04-13 15:39:15,667 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:39:15,667 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:39:15,668 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:15,669 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:39:15,669 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:39:15,669 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:39:15,670 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:39:15,670 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyon bulundu:\\n\\n1. 01-05 Temmuz 2025 - Suite ...
2025-04-13 15:39:15,670 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyon bulundu:\
\
...
2025-04-13 15:39:15,731 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:39:15,731 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:15,732 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:39:15,732 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:33,148 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:39:33,156 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 141 (char 140)
2025-04-13 15:39:33,156 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:33,158 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:39:33,158 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:33,161 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:39:33,166 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:39:33,176 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7dd31c4a-8e93-499d-9b7a-47d1a112997c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='f45f3fe8-5665-44de-a4fe-9bed0a03d0a6'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='fa62c387-73df-48d6-be11-3f5740350517'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='a32c7c97-3694-4782-971c-2ca6183fb715')]...
2025-04-13 15:39:34,437 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce sorgulad\u0131\u011f\u0131n\u0131z rezervasyonlar\u0131 tekrar listeliy...
2025-04-13 15:39:34,438 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:39:34,440 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:34,440 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7dd31c4a-8e93-499d-9b7a-47d1a112997c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='f45f3fe8-5665-44de-a4fe-9bed0a03d0a6'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='fa62c387-73df-48d6-be11-3f5740350517'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='a32c7c97-3694-4782-971c-2ca6183fb715')]
2025-04-13 15:39:34,441 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:39:34,441 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:39:34,449 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7dd31c4a-8e93-499d-9b7a-47d1a112997c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='f45f3fe8-5665-44de-a4fe-9bed0a03d0a6'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='fa62c387-73df-48d6-be11-3f5740350517'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='a32c7c97-3694-4782-971c-2ca6183fb715')]
2025-04-13 15:39:34,451 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:39:34,452 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:39:34,454 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='ac5ce98d-ce85-4339-8153-f8aad627affb'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='9176cacf-4a02-40b3-adc1-065e614411ab')]
2025-04-13 15:39:34,455 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:39:34,455 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:39:34,455 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:39:39,514 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:39:39,514 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:39:39,514 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:39:39,514 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:39:39,514 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7dd31c4a-8e93-499d-9b7a-47d1a112997c'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='f45f3fe8-5665-44de-a4fe-9bed0a03d0a6'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='fa62c387-73df-48d6-be11-3f5740350517'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='a32c7c97-3694-4782-971c-2ca6183fb715')]...
2025-04-13 15:39:41,263 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Rezervasyon ID: RES...
2025-04-13 15:39:41,268 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:39:41,270 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:41,275 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Rezervasyon ID: RES...
2025-04-13 15:39:41,276 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:39:41,276 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:39:41,276 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:39:41,276 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor:\\n\\n1. Rezervasyon ID: RES...
2025-04-13 15:39:41,277 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman adına olan rezervasyonlar listeleniy...
2025-04-13 15:39:41,357 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:39:41,357 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:41,358 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:39:41,358 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:48,519 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:39:48,526 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:39:48,526 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:48,528 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:39:48,528 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:39:48,530 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:39:48,534 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:39:48,545 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]...
2025-04-13 15:39:49,838 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha \u00f6nce sorgulad\u0131\u011f\u0131n\u0131z rezervasyonlar\u0131 tekrar listeliy...
2025-04-13 15:39:49,841 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:39:49,843 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]
2025-04-13 15:39:49,844 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:39:49,844 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:49,844 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman\u0131"}
2025-04-13 15:39:49,848 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]
2025-04-13 15:39:49,849 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:39:49,850 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:39:49,851 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman\\u0131"}', additional_kwargs={}, response_metadata={}, id='fc94e15a-37f5-4831-a8a1-e1241cdbef6a'), HumanMessage(content='{"customer_name": "Hilal Karaman\\u0131"}', additional_kwargs={}, response_metadata={}, id='1885efa6-e63a-4c19-8014-2ddd7760ae88')]
2025-04-13 15:39:49,852 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karamanı, Tam Eşleşme: True
2025-04-13 15:39:49,852 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karamanı, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:39:49,852 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:39:53,862 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:39:53,863 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:39:53,863 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:39:53,863 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:39:53,865 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]...
2025-04-13 15:39:55,286 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Daha once sorguladiginiz rezervasyonlari tekrar listeliyorum", "action_type": "list_re...
2025-04-13 15:39:55,288 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:39:55,290 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]
2025-04-13 15:39:55,290 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:39:55,290 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:39:55,290 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karamani"}
2025-04-13 15:39:55,294 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]
2025-04-13 15:39:55,295 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:39:55,296 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:39:55,298 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman\\u0131"}', additional_kwargs={}, response_metadata={}, id='fc94e15a-37f5-4831-a8a1-e1241cdbef6a'), HumanMessage(content='{"customer_name": "Hilal Karaman\\u0131"}', additional_kwargs={}, response_metadata={}, id='1885efa6-e63a-4c19-8014-2ddd7760ae88'), HumanMessage(content='{"customer_name": "Hilal Karamani"}', additional_kwargs={}, response_metadata={}, id='f2759fbc-792c-4602-bf12-00781a0dd895'), HumanMessage(content='{"customer_name": "Hilal Karamani"}', additional_kwargs={}, response_metadata={}, id='71bd5036-9092-4052-970c-9e5069d2f036')]
2025-04-13 15:39:55,298 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karamanı, Tam Eşleşme: True
2025-04-13 15:39:55,299 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karamanı, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:39:55,299 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:39:59,585 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:39:59,585 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:39:59,585 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:39:59,585 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:39:59,586 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='11be15d5-019d-4f0c-85c7-24cfb5a761b9'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7b89a377-e6e0-4a66-8223-b349fcdb9496'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='8a048e1d-ba4d-440f-8fca-e0ea743d039a'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='bc8f21e5-7432-446a-a7bc-d63e7f3101f1'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='c692cc5a-d522-4d89-8f2c-9c1d09bc6b70')]...
2025-04-13 15:40:00,610 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman\u0131 ad\u0131na rezervasyon bulunamad\u0131.", "action_type": null, "to...
2025-04-13 15:40:00,612 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:40:00,613 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:40:00,617 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman\u0131 ad\u0131na rezervasyon bulunamad\u0131.", "action_type": null, "to...
2025-04-13 15:40:00,618 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:40:00,618 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:40:00,618 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:40:00,619 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman\u0131 ad\u0131na rezervasyon bulunamad\u0131.", "action_type": null, "to...
2025-04-13 15:40:00,619 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karamanı adına rezervasyon bulunamadı....
2025-04-13 15:40:00,670 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 92 (char 91)
2025-04-13 15:40:00,671 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:40:00,671 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:40:00,671 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:23,658 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:41:23,669 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 92 (char 91)
2025-04-13 15:41:23,670 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:23,671 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:41:23,671 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:23,678 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:41:23,688 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:41:23,718 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='218391ae-abea-46b2-82fb-cb36358c2a24'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='47a92bbd-1cc2-45f7-b586-13c6bee2d2ce'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='63378453-8295-42de-848d-a66c26af8433'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='6212a9c0-0aeb-45fe-ac79-a35cc8e66bca'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='4d8c8cff-75ab-4e8e-8d0d-4d78b9445d66'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='77f19c59-98cd-4b1b-9019-0f83bd0e3b60')]...
2025-04-13 15:41:25,097 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reser...
2025-04-13 15:41:25,099 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:41:25,101 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='218391ae-abea-46b2-82fb-cb36358c2a24'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='47a92bbd-1cc2-45f7-b586-13c6bee2d2ce'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='63378453-8295-42de-848d-a66c26af8433'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='6212a9c0-0aeb-45fe-ac79-a35cc8e66bca'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='4d8c8cff-75ab-4e8e-8d0d-4d78b9445d66'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='77f19c59-98cd-4b1b-9019-0f83bd0e3b60')]
2025-04-13 15:41:25,101 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:41:25,101 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:41:25,104 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:41:25,106 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='218391ae-abea-46b2-82fb-cb36358c2a24'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='47a92bbd-1cc2-45f7-b586-13c6bee2d2ce'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='63378453-8295-42de-848d-a66c26af8433'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='6212a9c0-0aeb-45fe-ac79-a35cc8e66bca'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='4d8c8cff-75ab-4e8e-8d0d-4d78b9445d66'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='77f19c59-98cd-4b1b-9019-0f83bd0e3b60')]
2025-04-13 15:41:25,107 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:41:25,108 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:41:25,110 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='ed3b0e1f-9a21-424d-9b08-6f2222412e9c'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='a192879f-674d-4074-a2c9-0f9f680eb128')]
2025-04-13 15:41:25,110 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:41:25,110 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:41:25,110 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:41:29,126 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:41:29,127 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:41:29,127 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:41:29,127 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:41:29,130 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='218391ae-abea-46b2-82fb-cb36358c2a24'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='47a92bbd-1cc2-45f7-b586-13c6bee2d2ce'), HumanMessage(content='Hilal Karamanı listele', additional_kwargs={}, response_metadata={}, id='63378453-8295-42de-848d-a66c26af8433'), HumanMessage(content='daha önce hangilerini sorguladım', additional_kwargs={}, response_metadata={}, id='6212a9c0-0aeb-45fe-ac79-a35cc8e66bca'), HumanMessage(content='daha önce hangilerini sorguladım isimleri ver', additional_kwargs={}, response_metadata={}, id='4d8c8cff-75ab-4e8e-8d0d-4d78b9445d66'), HumanMessage(content='Hilal karaman adına varmı. baksana', additional_kwargs={}, response_metadata={}, id='77f19c59-98cd-4b1b-9019-0f83bd0e3b60')]...
2025-04-13 15:41:30,727 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na bir rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - S...
2025-04-13 15:41:30,729 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:41:30,730 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:41:30,734 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na bir rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - S...
2025-04-13 15:41:30,735 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:41:30,735 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:41:30,735 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:41:30,736 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na bir rezervasyon bulundu:\\n\\n1. 2025-07-01 - 2025-07-05 - S...
2025-04-13 15:41:30,736 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına bir rezervasyon bulundu:\
\
1...
2025-04-13 15:41:30,798 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 146 (char 145)
2025-04-13 15:41:30,798 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:30,799 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:41:30,799 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:35,362 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 146 (char 145)
2025-04-13 15:41:35,362 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:35,363 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:41:35,364 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:38,355 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:41:38,361 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 146 (char 145)
2025-04-13 15:41:38,361 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:38,363 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:41:38,363 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:38,365 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:41:38,371 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:41:38,379 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='535060ab-e259-4b3e-b79c-640f8631e462'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='eb7beacf-3a3b-41b5-96b5-7530f61066a9')]...
2025-04-13 15:41:39,826 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:41:39,827 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:41:39,828 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:41:39,830 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:41:39,830 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:41:39,830 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:41:39,831 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:41:39,831 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:41:39,831 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:41:39,889 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:41:39,889 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:47,426 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:41:47,432 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:41:47,433 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:47,436 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:41:47,453 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:41:47,460 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e0b4f6f-72ef-4e91-9f07-86cfe12ee4e2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='5541ed4a-9178-4c6d-88cd-6d4e3a0fb604'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='bb804f21-bfdf-4515-849a-0d139398060f')]...
2025-04-13 15:41:48,956 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\u0131na rezervasyon aran\u0131yor.", "action_type": "list_reservation...
2025-04-13 15:41:48,957 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:41:48,958 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e0b4f6f-72ef-4e91-9f07-86cfe12ee4e2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='5541ed4a-9178-4c6d-88cd-6d4e3a0fb604'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='bb804f21-bfdf-4515-849a-0d139398060f')]
2025-04-13 15:41:48,958 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:41:48,959 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:41:48,959 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Hilal Karaman"}
2025-04-13 15:41:48,962 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e0b4f6f-72ef-4e91-9f07-86cfe12ee4e2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='5541ed4a-9178-4c6d-88cd-6d4e3a0fb604'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='bb804f21-bfdf-4515-849a-0d139398060f')]
2025-04-13 15:41:48,963 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:41:48,963 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:41:48,964 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='85469ef8-8f8e-497e-8556-436ce8398297'), HumanMessage(content='{"customer_name": "Hilal Karaman"}', additional_kwargs={}, response_metadata={}, id='930e1208-bc61-4568-b483-3a20e7fa332f')]
2025-04-13 15:41:48,964 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hilal Karaman, Tam Eşleşme: True
2025-04-13 15:41:48,965 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hilal Karaman, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:41:48,965 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:41:53,824 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:41:53,825 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:41:53,825 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:41:53,825 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:41:53,827 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6e0b4f6f-72ef-4e91-9f07-86cfe12ee4e2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='5541ed4a-9178-4c6d-88cd-6d4e3a0fb604'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='bb804f21-bfdf-4515-849a-0d139398060f')]...
2025-04-13 15:41:56,323 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:41:56,324 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:41:56,325 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:41:56,328 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:41:56,329 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:41:56,329 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:41:56,329 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:41:56,329 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u01...
2025-04-13 15:41:56,330 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ad\ına olan rezervasyonunuz bulundu:...
2025-04-13 15:41:56,397 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 384 (char 383)
2025-04-13 15:41:56,397 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:41:56,398 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:41:56,398 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:42:06,813 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:42:06,821 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 384 (char 383)
2025-04-13 15:42:06,822 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:42:06,824 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:42:06,824 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:42:06,827 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:42:06,832 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:42:06,845 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]...
2025-04-13 15:42:08,431 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:42:08,432 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:42:08,432 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:08,432 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:42:08,432 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:42:08,432 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:42:08,433 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:08,434 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:42:08,434 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:42:08,434 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='868342ec-5d94-4ff8-a36b-5c895f4bef72'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='72fffc57-96f1-4142-bc95-d557ea566ce8')]
2025-04-13 15:42:08,434 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:42:08,434 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:42:08,434 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:42:12,916 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:42:12,916 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:42:12,916 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:42:12,916 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:42:12,917 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]...
2025-04-13 15:42:14,438 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:42:14,439 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:42:14,441 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:42:14,442 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:14,443 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:42:14,445 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:42:14,446 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:14,448 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:42:14,449 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:42:14,450 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='868342ec-5d94-4ff8-a36b-5c895f4bef72'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='72fffc57-96f1-4142-bc95-d557ea566ce8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='031e669d-abad-4b36-9a1d-96bf1088f2d8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cff57ed4-a8d1-4f5c-93bb-98042f71d76b')]
2025-04-13 15:42:14,451 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:42:14,451 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:42:14,451 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:42:17,828 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:42:17,828 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:42:17,829 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:42:17,829 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:42:17,830 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]...
2025-04-13 15:42:19,260 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na olan rezervasyonlar listeleniyor", "action_type...
2025-04-13 15:42:19,262 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:42:19,264 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:19,264 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:42:19,265 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:42:19,268 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:42:19,269 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:19,270 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:42:19,271 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:42:19,272 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='868342ec-5d94-4ff8-a36b-5c895f4bef72'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='72fffc57-96f1-4142-bc95-d557ea566ce8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='031e669d-abad-4b36-9a1d-96bf1088f2d8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cff57ed4-a8d1-4f5c-93bb-98042f71d76b'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='bfc693a4-8804-4332-af4c-302cbf4ebb23'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='02e11cb3-14d8-4053-a78e-7601d70d992d')]
2025-04-13 15:42:19,272 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:42:19,272 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:42:19,272 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:42:23,870 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:42:23,871 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:42:23,871 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:42:23,871 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:42:23,873 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]...
2025-04-13 15:42:25,510 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin ALTIKULA\\u00c7 ad\\u0131na olan rezervasyonlar listeleniyor", "action_t...
2025-04-13 15:42:25,511 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:42:25,512 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:25,513 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:42:25,513 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:42:25,514 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}
2025-04-13 15:42:25,518 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]
2025-04-13 15:42:25,521 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:42:25,522 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:42:25,524 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='868342ec-5d94-4ff8-a36b-5c895f4bef72'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='72fffc57-96f1-4142-bc95-d557ea566ce8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='031e669d-abad-4b36-9a1d-96bf1088f2d8'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='cff57ed4-a8d1-4f5c-93bb-98042f71d76b'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='bfc693a4-8804-4332-af4c-302cbf4ebb23'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='02e11cb3-14d8-4053-a78e-7601d70d992d'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='6645cbc7-7a5f-4aab-b446-c97ca53c672c'), HumanMessage(content='{"customer_name": "H\\\\u00fcseyin ALTIKULA\\\\u00c7"}', additional_kwargs={}, response_metadata={}, id='2ab279c6-330b-4ce2-a2a6-968cedfcde7c')]
2025-04-13 15:42:25,524 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:42:25,524 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:42:25,524 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:42:29,710 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 3
2025-04-13 15:42:29,710 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:42:29,711 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:42:29,711 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:42:29,713 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2474bb85-207c-4e65-83d4-dd13bad900d8'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='405a7226-c11a-4c23-8303-49c3293c2d9f'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c3ea0fe9-8d41-472a-8907-c792b2bcab63'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='04ec31ea-a74f-45b6-b360-b0d204005998')]...
2025-04-13 15:42:31,243 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 15:42:31,244 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:42:31,245 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:42:31,248 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 15:42:31,248 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:42:31,248 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:42:31,249 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:42:31,249 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\u00fcseyin ALTIKULA\u00c7 ad\u0131na 2 rezervasyon bulundu:\\n\\n1. 15-20 Haziran 20...
2025-04-13 15:42:31,249 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hüseyin ALTIKULAÇ adına 2 rezervasyon bulundu:\
\
...
2025-04-13 15:42:31,311 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:42:31,312 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:42:31,312 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:42:31,312 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:08,266 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:08,276 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 208 (char 207)
2025-04-13 15:43:08,277 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:08,278 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:43:08,279 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:08,282 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:08,291 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:08,307 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='16d72e37-a765-4f83-b50f-92647ae47675'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='ed39b704-eab6-4b62-86e9-97c0018e4578'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='f2723d0f-f4af-40f0-af51-d9a4ca374999'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='76b15b47-eec8-41d2-ae90-fcd210391c5a'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='817a9f68-6a17-44af-b4a0-ac855ae0f1b8')]...
2025-04-13 15:43:10,044 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Hilal Karaman ve H\u00fcseyin Alt\u0131kula\u00e7 isimlerini sorgulad\u0131n\u0131z.",...
2025-04-13 15:43:10,046 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:43:10,047 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:10,051 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hilal Karaman ve H\u00fcseyin Alt\u0131kula\u00e7 isimlerini sorgulad\u0131n\u0131z.",...
2025-04-13 15:43:10,051 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:10,052 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:10,052 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:10,052 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hilal Karaman ve H\u00fcseyin Alt\u0131kula\u00e7 isimlerini sorgulad\u0131n\u0131z.",...
2025-04-13 15:43:10,052 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hilal Karaman ve Hüseyin Altıkulaç isimlerini sorg...
2025-04-13 15:43:10,121 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 117 (char 116)
2025-04-13 15:43:10,121 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:14,558 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:14,565 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 117 (char 116)
2025-04-13 15:43:14,565 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:14,568 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:14,572 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:14,580 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1c15a2a2-8766-4e05-8447-678510830dc0'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='9e025bb9-1484-4140-9f92-d76342e03df8'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='718c1905-09ac-4c36-816b-b4607d45b4b2'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='45158b7e-6981-4369-9eb7-1af534d73282'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='6af6d56a-ce75-43bd-965a-eef909d8c6f9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='00358a1c-9e10-43d7-887b-b72054ed2213')]...
2025-04-13 15:43:15,887 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:43:15,888 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:43:15,888 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:15,889 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:43:15,890 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:15,890 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:15,890 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:15,890 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:43:15,890 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:43:15,926 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:43:15,927 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:28,132 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:28,139 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:43:28,140 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:28,144 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:28,148 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:28,157 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='14588873-663d-4acd-a248-eb3aadcb97bd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='65737a40-90a1-4764-9719-0f84915e96a5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9681789-ecef-48b0-b5bb-d9a77331f790'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='db9bcacd-db98-4139-8b2b-bb6294870a7a'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='f8577ea2-0999-4136-aa98-d97fac18cd4e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6c8e4d35-8b4f-491b-b023-2a903fc98190'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='55472c92-bc94-47fa-bb63-e225549a66f6')]...
2025-04-13 15:43:29,722 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f ve \u00e7\u0131k\u0131\u015f tarihlerini, o...
2025-04-13 15:43:29,724 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:43:29,725 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='14588873-663d-4acd-a248-eb3aadcb97bd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='65737a40-90a1-4764-9719-0f84915e96a5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9681789-ecef-48b0-b5bb-d9a77331f790'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='db9bcacd-db98-4139-8b2b-bb6294870a7a'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='f8577ea2-0999-4136-aa98-d97fac18cd4e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6c8e4d35-8b4f-491b-b023-2a903fc98190'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='55472c92-bc94-47fa-bb63-e225549a66f6')]
2025-04-13 15:43:29,725 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:29,726 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:43:29,729 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='14588873-663d-4acd-a248-eb3aadcb97bd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='65737a40-90a1-4764-9719-0f84915e96a5'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9681789-ecef-48b0-b5bb-d9a77331f790'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='db9bcacd-db98-4139-8b2b-bb6294870a7a'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='f8577ea2-0999-4136-aa98-d97fac18cd4e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6c8e4d35-8b4f-491b-b023-2a903fc98190'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='55472c92-bc94-47fa-bb63-e225549a66f6')]
2025-04-13 15:43:29,731 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:43:29,733 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:43:29,735 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:29,743 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f ve \u00e7\u0131k\u0131\u015f tarihlerini, o...
2025-04-13 15:43:29,744 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:29,744 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:29,744 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:29,744 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyon i\u00e7in ad soyad, giri\u015f ve \u00e7\u0131k\u0131\u015f tarihlerini, o...
2025-04-13 15:43:29,744 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyon için ad soyad, giriş ve çıkış tarihler...
2025-04-13 15:43:29,801 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 249 (char 248)
2025-04-13 15:43:29,802 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:40,813 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:40,819 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 249 (char 248)
2025-04-13 15:43:40,820 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:40,824 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:40,830 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:40,840 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='447ac8fc-765f-4cbd-a708-1a39e01f50fd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8df47444-15de-4d85-b65c-9a3ceb214483'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='0e3415f7-6122-4035-ac2b-7bcc519e4e4f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='861091f0-4278-43cf-be3a-c6d29ba8c723'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='7be64a7c-8e81-4a8f-9e16-92559218b9c4'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='3666d549-8022-4732-806b-12a53f6a5e08'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='812e08fd-c309-4b31-8cea-efec46bef96f'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='61e53aea-f457-4f10-a86f-da3a1f4b6830')]...
2025-04-13 15:43:42,414 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Oda tipini ve ka\u00e7 yeti\u015fkin/\u00e7ocuk konaklayaca\u011f\u0131n\u0131z\u0131 ...
2025-04-13 15:43:42,417 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:43:42,420 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='447ac8fc-765f-4cbd-a708-1a39e01f50fd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8df47444-15de-4d85-b65c-9a3ceb214483'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='0e3415f7-6122-4035-ac2b-7bcc519e4e4f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='861091f0-4278-43cf-be3a-c6d29ba8c723'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='7be64a7c-8e81-4a8f-9e16-92559218b9c4'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='3666d549-8022-4732-806b-12a53f6a5e08'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='812e08fd-c309-4b31-8cea-efec46bef96f'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='61e53aea-f457-4f10-a86f-da3a1f4b6830')]
2025-04-13 15:43:42,421 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:42,421 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:43:42,422 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": null, "adults": null, "children": null}
2025-04-13 15:43:42,423 - agents.router_agent - INFO - Müşteri adına göre rezervasyon sorgusu: {"customer_name": "Ahmet Aslan"}
2025-04-13 15:43:42,427 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='447ac8fc-765f-4cbd-a708-1a39e01f50fd'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8df47444-15de-4d85-b65c-9a3ceb214483'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='0e3415f7-6122-4035-ac2b-7bcc519e4e4f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='861091f0-4278-43cf-be3a-c6d29ba8c723'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='7be64a7c-8e81-4a8f-9e16-92559218b9c4'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='3666d549-8022-4732-806b-12a53f6a5e08'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='812e08fd-c309-4b31-8cea-efec46bef96f'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='61e53aea-f457-4f10-a86f-da3a1f4b6830')]
2025-04-13 15:43:42,428 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:43:42,429 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:43:42,429 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:42,431 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Oda tipini ve ka\u00e7 yeti\u015fkin/\u00e7ocuk konaklayaca\u011f\u0131n\u0131z\u0131 ...
2025-04-13 15:43:42,432 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:42,432 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:42,432 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:42,432 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Oda tipini ve ka\u00e7 yeti\u015fkin/\u00e7ocuk konaklayaca\u011f\u0131n\u0131z\u0131 ...
2025-04-13 15:43:42,432 - __main__ - INFO - ✅ JSON response regex ile bulundu: Oda tipini ve kaç yetişkin/çocuk konaklayacağınızı...
2025-04-13 15:43:42,520 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 173 (char 172)
2025-04-13 15:43:42,520 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:46,178 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:46,186 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 173 (char 172)
2025-04-13 15:43:46,186 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:46,190 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:46,195 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:46,204 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='09193b34-22d1-48b7-9961-5a025e77eeee'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0600b33b-e610-460d-ad9f-2e2acda97402'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='caef95d7-ce50-4a7a-b330-d06084461da1'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='4497b239-b474-412b-b991-3a7e36801a16'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='d39738af-77eb-4a54-aa00-f04a4e14159e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='a0695c4a-1842-4936-be65-2db5eb490967'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='c72f2b33-594d-45d3-aceb-bdaf7f618afe'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='b327d2fb-5ebe-4b38-883e-aebc9674c950'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='f6ebf3f3-b347-4c55-bbac-3f76b767c239')]...
2025-04-13 15:43:47,734 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na, 10-15 Temmuz tarihleri aras\u0131nda Suite oda i\u00e7in rezer...
2025-04-13 15:43:47,735 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:43:47,737 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:47,737 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='09193b34-22d1-48b7-9961-5a025e77eeee'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0600b33b-e610-460d-ad9f-2e2acda97402'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='caef95d7-ce50-4a7a-b330-d06084461da1'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='4497b239-b474-412b-b991-3a7e36801a16'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='d39738af-77eb-4a54-aa00-f04a4e14159e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='a0695c4a-1842-4936-be65-2db5eb490967'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='c72f2b33-594d-45d3-aceb-bdaf7f618afe'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='b327d2fb-5ebe-4b38-883e-aebc9674c950'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='f6ebf3f3-b347-4c55-bbac-3f76b767c239')]
2025-04-13 15:43:47,738 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:43:47,739 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": null, "children": null}
2025-04-13 15:43:47,741 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='09193b34-22d1-48b7-9961-5a025e77eeee'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0600b33b-e610-460d-ad9f-2e2acda97402'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='caef95d7-ce50-4a7a-b330-d06084461da1'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='4497b239-b474-412b-b991-3a7e36801a16'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='d39738af-77eb-4a54-aa00-f04a4e14159e'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='a0695c4a-1842-4936-be65-2db5eb490967'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='c72f2b33-594d-45d3-aceb-bdaf7f618afe'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='b327d2fb-5ebe-4b38-883e-aebc9674c950'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='f6ebf3f3-b347-4c55-bbac-3f76b767c239')]
2025-04-13 15:43:47,742 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:43:47,742 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:43:47,743 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:47,745 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\u0131na, 10-15 Temmuz tarihleri aras\u0131nda Suite oda i\u00e7in rezer...
2025-04-13 15:43:47,746 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:47,746 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:47,746 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:47,746 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\u0131na, 10-15 Temmuz tarihleri aras\u0131nda Suite oda i\u00e7in rezer...
2025-04-13 15:43:47,746 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan adına, 10-15 Temmuz tarihleri arasında...
2025-04-13 15:43:47,792 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 262 (char 261)
2025-04-13 15:43:47,793 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:54,179 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:54,187 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 262 (char 261)
2025-04-13 15:43:54,187 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:54,191 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:54,196 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:54,205 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3bddb480-ad39-4b56-bec7-dddb2c1403f0'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='92dd8a5f-cf32-400d-a2fb-fbd4e1141af0'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='eadf2a2a-055f-4ce8-a766-f226e2c1234f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='9100d2ba-e492-49f3-8dc8-1c6d67cceec7'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='85ef0fc5-ad16-47d3-82ed-203adedaefc9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='13ce6fc5-d1f5-499a-8d02-5ce3469b32de'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='d8b76c68-57bb-4b0f-982b-195d82d20061'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='480cbc7d-ae83-4e47-83e7-593ea3db90c9'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='09b23a4f-7694-4373-8894-0fc25c2237e0'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='43bb9ad4-cb62-45db-a56e-90193b9ef9dc')]...
2025-04-13 15:43:55,723 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyon i\u00e7in \u00e7ocuk say\u0131s\u0131 bilgisini alabilir miyim?", "action_...
2025-04-13 15:43:55,725 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:43:55,728 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3bddb480-ad39-4b56-bec7-dddb2c1403f0'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='92dd8a5f-cf32-400d-a2fb-fbd4e1141af0'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='eadf2a2a-055f-4ce8-a766-f226e2c1234f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='9100d2ba-e492-49f3-8dc8-1c6d67cceec7'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='85ef0fc5-ad16-47d3-82ed-203adedaefc9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='13ce6fc5-d1f5-499a-8d02-5ce3469b32de'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='d8b76c68-57bb-4b0f-982b-195d82d20061'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='480cbc7d-ae83-4e47-83e7-593ea3db90c9'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='09b23a4f-7694-4373-8894-0fc25c2237e0'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='43bb9ad4-cb62-45db-a56e-90193b9ef9dc')]
2025-04-13 15:43:55,729 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:55,729 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:43:55,731 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": 1, "children": null}
2025-04-13 15:43:55,733 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3bddb480-ad39-4b56-bec7-dddb2c1403f0'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='92dd8a5f-cf32-400d-a2fb-fbd4e1141af0'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='eadf2a2a-055f-4ce8-a766-f226e2c1234f'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='9100d2ba-e492-49f3-8dc8-1c6d67cceec7'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='85ef0fc5-ad16-47d3-82ed-203adedaefc9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='13ce6fc5-d1f5-499a-8d02-5ce3469b32de'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='d8b76c68-57bb-4b0f-982b-195d82d20061'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='480cbc7d-ae83-4e47-83e7-593ea3db90c9'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='09b23a4f-7694-4373-8894-0fc25c2237e0'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='43bb9ad4-cb62-45db-a56e-90193b9ef9dc')]
2025-04-13 15:43:55,735 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-13 15:43:55,735 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-13 15:43:55,736 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:43:55,738 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyon i\u00e7in \u00e7ocuk say\u0131s\u0131 bilgisini alabilir miyim?", "action_...
2025-04-13 15:43:55,739 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:43:55,739 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:43:55,739 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:43:55,739 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyon i\u00e7in \u00e7ocuk say\u0131s\u0131 bilgisini alabilir miyim?", "action_...
2025-04-13 15:43:55,739 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyon için çocuk sayısı bilgisini alabilir m...
2025-04-13 15:43:55,786 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 145 (char 144)
2025-04-13 15:43:55,787 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:59,306 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:43:59,313 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 145 (char 144)
2025-04-13 15:43:59,314 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:43:59,319 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:43:59,323 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:43:59,332 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c0a692ca-c847-4bdf-9337-13d447716812'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='221f1dfc-2da1-4562-bc10-489c84970dde'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='adc39ba0-e600-42c2-bf35-b76399cb774b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='14da9c77-f0cf-4369-b6af-5ec9512d8217'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='b74763bd-70a0-4678-9e48-ff3e1f66e228'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='543e5ae6-0005-413b-82f8-334a76793515'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='f36098f7-dd6e-41f1-a9ea-709150ee45ec'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='23fbe823-29bb-4a36-9747-0da254a50b59'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='67514e04-fc87-4826-9b73-9fd0794f5aaa'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='a7db7261-1e05-456f-8436-39484d756637'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='2e470455-6c79-4a29-b17a-726d00e6d5a2')]...
2025-04-13 15:44:00,845 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na 10-15 Temmuz tarihleri aras\u0131nda, Suite oda tipinde, 1 yeti...
2025-04-13 15:44:00,847 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:44:00,850 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c0a692ca-c847-4bdf-9337-13d447716812'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='221f1dfc-2da1-4562-bc10-489c84970dde'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='adc39ba0-e600-42c2-bf35-b76399cb774b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='14da9c77-f0cf-4369-b6af-5ec9512d8217'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='b74763bd-70a0-4678-9e48-ff3e1f66e228'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='543e5ae6-0005-413b-82f8-334a76793515'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='f36098f7-dd6e-41f1-a9ea-709150ee45ec'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='23fbe823-29bb-4a36-9747-0da254a50b59'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='67514e04-fc87-4826-9b73-9fd0794f5aaa'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='a7db7261-1e05-456f-8436-39484d756637'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='2e470455-6c79-4a29-b17a-726d00e6d5a2')]
2025-04-13 15:44:00,850 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:00,850 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:44:00,851 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": 1, "children": 0}
2025-04-13 15:44:00,855 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c0a692ca-c847-4bdf-9337-13d447716812'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='221f1dfc-2da1-4562-bc10-489c84970dde'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='adc39ba0-e600-42c2-bf35-b76399cb774b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='14da9c77-f0cf-4369-b6af-5ec9512d8217'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='b74763bd-70a0-4678-9e48-ff3e1f66e228'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='543e5ae6-0005-413b-82f8-334a76793515'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='f36098f7-dd6e-41f1-a9ea-709150ee45ec'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='23fbe823-29bb-4a36-9747-0da254a50b59'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='67514e04-fc87-4826-9b73-9fd0794f5aaa'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='a7db7261-1e05-456f-8436-39484d756637'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='2e470455-6c79-4a29-b17a-726d00e6d5a2')]
2025-04-13 15:44:00,856 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: add_reservation_tool
2025-04-13 15:44:00,857 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: add_reservation_tool
2025-04-13 15:44:00,858 - agents.tools_agents - INFO - AddReservationAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1411cd080>
2025-04-13 15:44:00,858 - agents.tools_agents - INFO - Birden fazla mesaj tespit edildi (2), en yeni veriyi kullanıyorum
2025-04-13 15:44:00,859 - agents.tools_agents - INFO - Tersine sıralamada geçerli HumanMessage içeriği bulundu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": 1, "children": 0}
2025-04-13 15:44:00,859 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:44:04,835 - agents.tools_agents - INFO - Başarılı ekleme işlemi sonrası state temizleniyor...
2025-04-13 15:44:04,837 - agents.tools_agents - INFO - new_reservation alanı state'ten temizlendi
2025-04-13 15:44:04,837 - agents.tools_agents - INFO - add_reservation_result alanı temizlendi, sadece son sonuç tutuldu
2025-04-13 15:44:04,837 - agents.tools_agents - INFO - Add reservation completed: True
2025-04-13 15:44:04,840 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c0a692ca-c847-4bdf-9337-13d447716812'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='221f1dfc-2da1-4562-bc10-489c84970dde'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='adc39ba0-e600-42c2-bf35-b76399cb774b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='14da9c77-f0cf-4369-b6af-5ec9512d8217'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='b74763bd-70a0-4678-9e48-ff3e1f66e228'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='543e5ae6-0005-413b-82f8-334a76793515'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='f36098f7-dd6e-41f1-a9ea-709150ee45ec'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='23fbe823-29bb-4a36-9747-0da254a50b59'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='67514e04-fc87-4826-9b73-9fd0794f5aaa'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='a7db7261-1e05-456f-8436-39484d756637'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='2e470455-6c79-4a29-b17a-726d00e6d5a2')]...
2025-04-13 15:44:06,901 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:06,901 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:44:06,902 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:06,903 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:06,903 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:44:06,904 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:44:06,904 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:44:06,904 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:06,904 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyonunuz başarıyla oluşturuldu!\
\
Rezervas...
2025-04-13 15:44:06,941 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 324 (char 323)
2025-04-13 15:44:06,942 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:16,159 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:44:16,166 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 324 (char 323)
2025-04-13 15:44:16,167 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:16,170 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:44:16,174 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:44:16,181 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a92239d9-9925-405c-9c40-11b761316683'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='790c068b-9cbe-4376-a8dc-71aae0efe0d2'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19e7614b-c998-4a47-bbe0-bf379f3d8eae'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='210f696b-5fcd-4d5b-b4fc-86a48ec3fc38'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='dc1058a0-946a-489f-a4d7-5d7b1776b9de'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='ea2537dd-f5b7-47ce-8ad1-ca2381f81fd9'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='0ed18a32-dc3d-44f9-affc-eed3f00f4067'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='a2e5ab83-7814-4fe7-a6b7-90531ef7a587'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='44b90617-c628-4926-af4d-856efaa25087'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='0dc36f47-1432-4a1b-91e2-52788fddf8ed'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='fb6229b7-5cfc-4dc4-b9cb-431ea4b748ad'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='efdd8232-ca38-4356-b1db-641a61776e75')]...
2025-04-13 15:44:17,749 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuz olu\u015fturuluyor", "action_type": "create_reservation", "tool_action...
2025-04-13 15:44:17,751 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: create_reservation), data_extractor'a yönlendiriliyor
2025-04-13 15:44:17,752 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a92239d9-9925-405c-9c40-11b761316683'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='790c068b-9cbe-4376-a8dc-71aae0efe0d2'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19e7614b-c998-4a47-bbe0-bf379f3d8eae'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='210f696b-5fcd-4d5b-b4fc-86a48ec3fc38'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='dc1058a0-946a-489f-a4d7-5d7b1776b9de'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='ea2537dd-f5b7-47ce-8ad1-ca2381f81fd9'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='0ed18a32-dc3d-44f9-affc-eed3f00f4067'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='a2e5ab83-7814-4fe7-a6b7-90531ef7a587'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='44b90617-c628-4926-af4d-856efaa25087'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='0dc36f47-1432-4a1b-91e2-52788fddf8ed'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='fb6229b7-5cfc-4dc4-b9cb-431ea4b748ad'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='efdd8232-ca38-4356-b1db-641a61776e75')]
2025-04-13 15:44:17,752 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:17,752 - agents.router_agent - INFO - Tespit edilen action_type: create_reservation
2025-04-13 15:44:17,758 - agents.router_agent - INFO - Yeni rezervasyon verisi oluşturuldu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": 1, "children": 0}
2025-04-13 15:44:17,761 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a92239d9-9925-405c-9c40-11b761316683'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='790c068b-9cbe-4376-a8dc-71aae0efe0d2'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19e7614b-c998-4a47-bbe0-bf379f3d8eae'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='210f696b-5fcd-4d5b-b4fc-86a48ec3fc38'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='dc1058a0-946a-489f-a4d7-5d7b1776b9de'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='ea2537dd-f5b7-47ce-8ad1-ca2381f81fd9'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='0ed18a32-dc3d-44f9-affc-eed3f00f4067'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='a2e5ab83-7814-4fe7-a6b7-90531ef7a587'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='44b90617-c628-4926-af4d-856efaa25087'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='0dc36f47-1432-4a1b-91e2-52788fddf8ed'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='fb6229b7-5cfc-4dc4-b9cb-431ea4b748ad'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='efdd8232-ca38-4356-b1db-641a61776e75')]
2025-04-13 15:44:17,766 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: add_reservation_tool
2025-04-13 15:44:17,766 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: add_reservation_tool
2025-04-13 15:44:17,767 - agents.tools_agents - INFO - AddReservationAgent invoked with data: <function create_graph.<locals>.<lambda>.<locals>.<lambda> at 0x1411cca40>
2025-04-13 15:44:17,768 - agents.tools_agents - INFO - Birden fazla mesaj tespit edildi (2), en yeni veriyi kullanıyorum
2025-04-13 15:44:17,768 - agents.tools_agents - INFO - Tersine sıralamada geçerli HumanMessage içeriği bulundu: {"customer_name": "Ahmet Aslan", "check_in_date": "2024-07-10", "check_out_date": "2024-07-15", "room_type": "Suite", "adults": 1, "children": 0}
2025-04-13 15:44:17,768 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:44:23,310 - agents.tools_agents - INFO - Başarılı ekleme işlemi sonrası state temizleniyor...
2025-04-13 15:44:23,311 - agents.tools_agents - INFO - new_reservation alanı state'ten temizlendi
2025-04-13 15:44:23,311 - agents.tools_agents - INFO - add_reservation_result alanı temizlendi, sadece son sonuç tutuldu
2025-04-13 15:44:23,311 - agents.tools_agents - INFO - Add reservation completed: True
2025-04-13 15:44:23,312 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='a92239d9-9925-405c-9c40-11b761316683'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='790c068b-9cbe-4376-a8dc-71aae0efe0d2'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='19e7614b-c998-4a47-bbe0-bf379f3d8eae'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='210f696b-5fcd-4d5b-b4fc-86a48ec3fc38'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='dc1058a0-946a-489f-a4d7-5d7b1776b9de'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='ea2537dd-f5b7-47ce-8ad1-ca2381f81fd9'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='0ed18a32-dc3d-44f9-affc-eed3f00f4067'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='a2e5ab83-7814-4fe7-a6b7-90531ef7a587'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='44b90617-c628-4926-af4d-856efaa25087'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='0dc36f47-1432-4a1b-91e2-52788fddf8ed'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='fb6229b7-5cfc-4dc4-b9cb-431ea4b748ad'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='efdd8232-ca38-4356-b1db-641a61776e75')]...
2025-04-13 15:44:25,603 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:25,604 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:44:25,604 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:25,606 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:25,606 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:44:25,606 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:44:25,606 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:44:25,606 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rezervasyonunuz ba\u015far\u0131yla olu\u015fturuldu!\\n\\nRezervasyon Detaylar\u0131:...
2025-04-13 15:44:25,607 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rezervasyonunuz başarıyla oluşturuldu!\
\
Rezervas...
2025-04-13 15:44:25,663 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 327 (char 326)
2025-04-13 15:44:25,663 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:37,635 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:44:37,645 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 327 (char 326)
2025-04-13 15:44:37,645 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:37,649 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:44:37,653 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:44:37,664 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c268cc9f-cc93-40df-af2f-1e2091fd44d0'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='3b3fc232-de51-40e8-b2f0-e44d554317a3'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='5b0ce884-3d5c-49ca-9013-3982d9957d65'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='dddddfaf-24a5-41a5-9df1-4cba3ff77b6b'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='88502406-cd95-4fb9-ba26-beb25d1a92de'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='3bb5f71a-a19b-4ba3-8b9e-d57dd97395a9'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='30f32252-ade9-4f1c-8c8e-f730e1de3033'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='a82e8418-f6df-4b87-8057-3053880365ac'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='21dee593-dba2-4fd7-ad09-0cda0a909582'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='832e22eb-177d-46a3-a281-9ce42c7f42d4'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='0e507af6-daf6-4c08-91cc-9e147ab16c84'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='ca07bc6d-17da-49e0-ad8d-c6d05be85df3'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='16ba12fa-1d84-4ad7-827c-18c8ab6baf05')]...
2025-04-13 15:44:39,067 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:44:39,069 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:44:39,070 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:39,073 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:44:39,074 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:44:39,074 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:44:39,074 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:44:39,074 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Rica ederim, size yard\u0131mc\u0131 olabildi\u011fim i\u00e7in memnunum. Ba\u015fka b...
2025-04-13 15:44:39,075 - __main__ - INFO - ✅ JSON response regex ile bulundu: Rica ederim, size yardımcı olabildiğim için memnun...
2025-04-13 15:44:39,132 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:44:39,132 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:50,049 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:44:50,058 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 163 (char 162)
2025-04-13 15:44:50,058 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:50,062 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:44:50,066 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:44:50,093 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='450018f1-6f4a-405f-bbaf-07fd21dfcd36'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='6f36a966-5b3b-4fc8-a9fa-35e79bf19f31'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='322dab81-df58-41b3-9bda-a8cc303563ad'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='ed5cca79-2d8b-4f43-80cf-ee968f0e02bb'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='abf2dce6-a953-4e53-a7fe-4c39adf7090f'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='736551b1-4dcc-4810-92c5-d5266195270f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='18c13121-1d0e-4c1c-8b6c-fdee52d02c0b'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='c3c6a84a-3d82-45cb-98b4-78f671390a68'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='fa918a6a-df77-47da-a51f-a95bcee2ca97'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d277c2c9-b74c-4a9e-b3fb-2bb4cec06203'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='1ed49738-a5b1-40f6-ab8b-01a08c2368c9'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='5df590d4-7606-4494-9a98-2d8fc7b1052b'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='2bbb319f-9056-4d52-8c1a-090d745f382c'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='24413e99-b2f4-4c25-ae50-b4a7b897ee59')]...
2025-04-13 15:44:51,643 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonlar listeleniyor", "action_type": "list_reserva...
2025-04-13 15:44:51,645 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:44:51,647 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='450018f1-6f4a-405f-bbaf-07fd21dfcd36'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='6f36a966-5b3b-4fc8-a9fa-35e79bf19f31'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='322dab81-df58-41b3-9bda-a8cc303563ad'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='ed5cca79-2d8b-4f43-80cf-ee968f0e02bb'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='abf2dce6-a953-4e53-a7fe-4c39adf7090f'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='736551b1-4dcc-4810-92c5-d5266195270f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='18c13121-1d0e-4c1c-8b6c-fdee52d02c0b'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='c3c6a84a-3d82-45cb-98b4-78f671390a68'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='fa918a6a-df77-47da-a51f-a95bcee2ca97'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d277c2c9-b74c-4a9e-b3fb-2bb4cec06203'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='1ed49738-a5b1-40f6-ab8b-01a08c2368c9'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='5df590d4-7606-4494-9a98-2d8fc7b1052b'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='2bbb319f-9056-4d52-8c1a-090d745f382c'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='24413e99-b2f4-4c25-ae50-b4a7b897ee59')]
2025-04-13 15:44:51,648 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:51,648 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:44:51,649 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Ahmet Aslan"}
2025-04-13 15:44:51,652 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='450018f1-6f4a-405f-bbaf-07fd21dfcd36'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='6f36a966-5b3b-4fc8-a9fa-35e79bf19f31'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='322dab81-df58-41b3-9bda-a8cc303563ad'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='ed5cca79-2d8b-4f43-80cf-ee968f0e02bb'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='abf2dce6-a953-4e53-a7fe-4c39adf7090f'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='736551b1-4dcc-4810-92c5-d5266195270f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='18c13121-1d0e-4c1c-8b6c-fdee52d02c0b'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='c3c6a84a-3d82-45cb-98b4-78f671390a68'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='fa918a6a-df77-47da-a51f-a95bcee2ca97'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d277c2c9-b74c-4a9e-b3fb-2bb4cec06203'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='1ed49738-a5b1-40f6-ab8b-01a08c2368c9'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='5df590d4-7606-4494-9a98-2d8fc7b1052b'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='2bbb319f-9056-4d52-8c1a-090d745f382c'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='24413e99-b2f4-4c25-ae50-b4a7b897ee59')]
2025-04-13 15:44:51,653 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:44:51,654 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:44:51,656 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='6f623fed-e8b2-4533-ad3e-ca6b9b0e7db7'), HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='117c25e5-2855-44cc-acd9-518d65ca0c6b')]
2025-04-13 15:44:51,656 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Ahmet Aslan, Tam Eşleşme: True
2025-04-13 15:44:51,656 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Ahmet Aslan, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:44:51,657 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:44:56,690 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:44:56,690 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:44:56,690 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:44:56,691 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:44:56,693 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='450018f1-6f4a-405f-bbaf-07fd21dfcd36'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='6f36a966-5b3b-4fc8-a9fa-35e79bf19f31'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='322dab81-df58-41b3-9bda-a8cc303563ad'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='ed5cca79-2d8b-4f43-80cf-ee968f0e02bb'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='abf2dce6-a953-4e53-a7fe-4c39adf7090f'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='736551b1-4dcc-4810-92c5-d5266195270f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='18c13121-1d0e-4c1c-8b6c-fdee52d02c0b'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='c3c6a84a-3d82-45cb-98b4-78f671390a68'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='fa918a6a-df77-47da-a51f-a95bcee2ca97'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d277c2c9-b74c-4a9e-b3fb-2bb4cec06203'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='1ed49738-a5b1-40f6-ab8b-01a08c2368c9'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='5df590d4-7606-4494-9a98-2d8fc7b1052b'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='2bbb319f-9056-4d52-8c1a-090d745f382c'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='24413e99-b2f4-4c25-ae50-b4a7b897ee59')]...
2025-04-13 15:44:58,149 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyon bulundu:\\n\\nAhmet Aslan - Suite Oda - 2024-...
2025-04-13 15:44:58,151 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:44:58,152 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:44:58,157 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyon bulundu:\\n\\nAhmet Aslan - Suite Oda - 2024-...
2025-04-13 15:44:58,157 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:44:58,157 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:44:58,158 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:44:58,158 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyon bulundu:\\n\\nAhmet Aslan - Suite Oda - 2024-...
2025-04-13 15:44:58,158 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan ad\ına olan rezervasyon bulundu:\
\
Ah...
2025-04-13 15:44:58,220 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 154 (char 153)
2025-04-13 15:44:58,220 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:44:58,221 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:44:58,221 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:03,221 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:45:03,229 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 154 (char 153)
2025-04-13 15:45:03,229 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:03,230 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:03,230 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:03,232 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:45:03,234 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:45:03,241 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a43958c-0db9-497b-9ae8-766b1954a389'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8f5ab677-cefd-48db-bb5f-c70123175c12'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9d2395e-f25e-41aa-a3e7-106d2c0a917a'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='89f1e474-2fba-424a-9d95-337f7518fce5'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='fe4f4df5-6e23-48cc-977e-7d56f80a5ba9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6cda323a-cb20-45b8-a9b5-1667910557c7'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='2a2f4f6d-378d-4922-8250-3324a49fb398'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='fc7ca577-2c9c-4c29-8d0b-04f6079f76b1'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='8154a0a1-a78d-468d-abd2-e6cfcee1590b'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='795f15df-64fc-4043-9ea8-74a0feab2d88'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='d66865f0-ae8c-48f6-af31-7999659737df'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='7fa12917-1cf4-45dc-b55f-65f2020afda0'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='56c4f2ff-b9de-4ea3-98c6-c2efbe4f43f1'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='9a57459c-826b-4bab-8af5-b27f26aec7e6'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='d0e1dc2f-1b79-4964-b2fb-4e401bd28719')]...
2025-04-13 15:45:04,620 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na rezervasyon sorgulan\u0131yor", "action_type": "list_reservatio...
2025-04-13 15:45:04,623 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:45:04,625 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a43958c-0db9-497b-9ae8-766b1954a389'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8f5ab677-cefd-48db-bb5f-c70123175c12'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9d2395e-f25e-41aa-a3e7-106d2c0a917a'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='89f1e474-2fba-424a-9d95-337f7518fce5'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='fe4f4df5-6e23-48cc-977e-7d56f80a5ba9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6cda323a-cb20-45b8-a9b5-1667910557c7'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='2a2f4f6d-378d-4922-8250-3324a49fb398'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='fc7ca577-2c9c-4c29-8d0b-04f6079f76b1'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='8154a0a1-a78d-468d-abd2-e6cfcee1590b'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='795f15df-64fc-4043-9ea8-74a0feab2d88'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='d66865f0-ae8c-48f6-af31-7999659737df'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='7fa12917-1cf4-45dc-b55f-65f2020afda0'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='56c4f2ff-b9de-4ea3-98c6-c2efbe4f43f1'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='9a57459c-826b-4bab-8af5-b27f26aec7e6'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='d0e1dc2f-1b79-4964-b2fb-4e401bd28719')]
2025-04-13 15:45:04,626 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:04,626 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:45:04,627 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Ahmet Aslan"}
2025-04-13 15:45:04,630 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a43958c-0db9-497b-9ae8-766b1954a389'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8f5ab677-cefd-48db-bb5f-c70123175c12'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9d2395e-f25e-41aa-a3e7-106d2c0a917a'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='89f1e474-2fba-424a-9d95-337f7518fce5'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='fe4f4df5-6e23-48cc-977e-7d56f80a5ba9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6cda323a-cb20-45b8-a9b5-1667910557c7'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='2a2f4f6d-378d-4922-8250-3324a49fb398'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='fc7ca577-2c9c-4c29-8d0b-04f6079f76b1'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='8154a0a1-a78d-468d-abd2-e6cfcee1590b'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='795f15df-64fc-4043-9ea8-74a0feab2d88'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='d66865f0-ae8c-48f6-af31-7999659737df'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='7fa12917-1cf4-45dc-b55f-65f2020afda0'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='56c4f2ff-b9de-4ea3-98c6-c2efbe4f43f1'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='9a57459c-826b-4bab-8af5-b27f26aec7e6'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='d0e1dc2f-1b79-4964-b2fb-4e401bd28719')]
2025-04-13 15:45:04,633 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:45:04,633 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:45:04,634 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='b5aa6079-2463-4bea-89b0-0f194f38d358'), HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='f6947cb4-4e3b-45a6-a798-67311ffcbedc')]
2025-04-13 15:45:04,635 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Ahmet Aslan, Tam Eşleşme: True
2025-04-13 15:45:04,635 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Ahmet Aslan, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:45:04,635 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:45:08,341 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:45:08,342 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:45:08,342 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:45:08,342 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:45:08,344 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a43958c-0db9-497b-9ae8-766b1954a389'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='8f5ab677-cefd-48db-bb5f-c70123175c12'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='c9d2395e-f25e-41aa-a3e7-106d2c0a917a'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='89f1e474-2fba-424a-9d95-337f7518fce5'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='fe4f4df5-6e23-48cc-977e-7d56f80a5ba9'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='6cda323a-cb20-45b8-a9b5-1667910557c7'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='2a2f4f6d-378d-4922-8250-3324a49fb398'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='fc7ca577-2c9c-4c29-8d0b-04f6079f76b1'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='8154a0a1-a78d-468d-abd2-e6cfcee1590b'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='795f15df-64fc-4043-9ea8-74a0feab2d88'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='d66865f0-ae8c-48f6-af31-7999659737df'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='7fa12917-1cf4-45dc-b55f-65f2020afda0'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='56c4f2ff-b9de-4ea3-98c6-c2efbe4f43f1'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='9a57459c-826b-4bab-8af5-b27f26aec7e6'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='d0e1dc2f-1b79-4964-b2fb-4e401bd28719')]...
2025-04-13 15:45:10,521 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon ID: RES_17445482...
2025-04-13 15:45:10,524 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:45:10,525 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:10,528 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon ID: RES_17445482...
2025-04-13 15:45:10,529 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:45:10,529 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:45:10,529 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:45:10,530 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuzu buldum:\\n\\nRezervasyon ID: RES_17445482...
2025-04-13 15:45:10,530 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan adına olan rezervasyonunuzu buldum:\
\...
2025-04-13 15:45:10,579 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 364 (char 363)
2025-04-13 15:45:10,579 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:10,579 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:10,580 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:15,901 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:45:15,907 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 364 (char 363)
2025-04-13 15:45:15,907 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:15,908 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:15,909 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:15,910 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:45:15,912 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:45:15,918 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8dc9f0fc-40bb-4df2-939d-8d32368fc84f'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0f14aa28-47ac-4a18-b602-a4a9ba3c50ee'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='e8b0ba8d-0bdc-4ad8-b82c-6d443d00366b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='d267f915-971c-478e-b650-638f5d8e91fe'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='07f4e73a-2522-49ca-bf0d-52401a2693ba'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='d3427d2c-0623-45aa-a28c-66c859a094bb'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='178e35b3-d289-45f4-9058-36b0d6d02583'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='dd3e5201-f8f6-4ef4-8fa0-381db120fbca'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='ccf2da66-0b6f-48b9-89c9-76912b7d744e'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d8829e3d-ac40-4734-9cc5-15012335bb11'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='4f918867-80b3-46eb-a080-4bf125bfb049'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e226e61-39ab-4ada-8f2a-c97a769578a2'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='0843fff0-1f53-4849-be56-253fe1a43a47'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='213d8f78-75ec-4b20-a5ba-6894d831da3f'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='06f560de-d6d6-44a0-8d5f-a9e707fc2169'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a55c4c33-dc8b-4277-9374-67b51030d6f2')]...
2025-04-13 15:45:17,242 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na rezervasyon sorgulan\u0131yor", "action_type": "list_reservatio...
2025-04-13 15:45:17,245 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:45:17,248 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8dc9f0fc-40bb-4df2-939d-8d32368fc84f'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0f14aa28-47ac-4a18-b602-a4a9ba3c50ee'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='e8b0ba8d-0bdc-4ad8-b82c-6d443d00366b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='d267f915-971c-478e-b650-638f5d8e91fe'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='07f4e73a-2522-49ca-bf0d-52401a2693ba'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='d3427d2c-0623-45aa-a28c-66c859a094bb'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='178e35b3-d289-45f4-9058-36b0d6d02583'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='dd3e5201-f8f6-4ef4-8fa0-381db120fbca'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='ccf2da66-0b6f-48b9-89c9-76912b7d744e'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d8829e3d-ac40-4734-9cc5-15012335bb11'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='4f918867-80b3-46eb-a080-4bf125bfb049'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e226e61-39ab-4ada-8f2a-c97a769578a2'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='0843fff0-1f53-4849-be56-253fe1a43a47'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='213d8f78-75ec-4b20-a5ba-6894d831da3f'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='06f560de-d6d6-44a0-8d5f-a9e707fc2169'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a55c4c33-dc8b-4277-9374-67b51030d6f2')]
2025-04-13 15:45:17,248 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:17,249 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:45:17,250 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Ahmet Aslan"}
2025-04-13 15:45:17,253 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8dc9f0fc-40bb-4df2-939d-8d32368fc84f'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0f14aa28-47ac-4a18-b602-a4a9ba3c50ee'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='e8b0ba8d-0bdc-4ad8-b82c-6d443d00366b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='d267f915-971c-478e-b650-638f5d8e91fe'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='07f4e73a-2522-49ca-bf0d-52401a2693ba'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='d3427d2c-0623-45aa-a28c-66c859a094bb'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='178e35b3-d289-45f4-9058-36b0d6d02583'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='dd3e5201-f8f6-4ef4-8fa0-381db120fbca'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='ccf2da66-0b6f-48b9-89c9-76912b7d744e'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d8829e3d-ac40-4734-9cc5-15012335bb11'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='4f918867-80b3-46eb-a080-4bf125bfb049'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e226e61-39ab-4ada-8f2a-c97a769578a2'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='0843fff0-1f53-4849-be56-253fe1a43a47'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='213d8f78-75ec-4b20-a5ba-6894d831da3f'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='06f560de-d6d6-44a0-8d5f-a9e707fc2169'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a55c4c33-dc8b-4277-9374-67b51030d6f2')]
2025-04-13 15:45:17,255 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:45:17,256 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:45:17,257 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='abefee78-1a98-4e01-a9f4-672c25458330'), HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='6828f09f-6198-49c0-83ae-34c8e319682b')]
2025-04-13 15:45:17,257 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Ahmet Aslan, Tam Eşleşme: True
2025-04-13 15:45:17,257 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Ahmet Aslan, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:45:17,257 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:45:21,467 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:45:21,469 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:45:21,469 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:45:21,469 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:45:21,472 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8dc9f0fc-40bb-4df2-939d-8d32368fc84f'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='0f14aa28-47ac-4a18-b602-a4a9ba3c50ee'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='e8b0ba8d-0bdc-4ad8-b82c-6d443d00366b'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='d267f915-971c-478e-b650-638f5d8e91fe'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='07f4e73a-2522-49ca-bf0d-52401a2693ba'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='d3427d2c-0623-45aa-a28c-66c859a094bb'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='178e35b3-d289-45f4-9058-36b0d6d02583'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='dd3e5201-f8f6-4ef4-8fa0-381db120fbca'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='ccf2da66-0b6f-48b9-89c9-76912b7d744e'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='d8829e3d-ac40-4734-9cc5-15012335bb11'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='4f918867-80b3-46eb-a080-4bf125bfb049'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='6e226e61-39ab-4ada-8f2a-c97a769578a2'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='0843fff0-1f53-4849-be56-253fe1a43a47'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='213d8f78-75ec-4b20-a5ba-6894d831da3f'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='06f560de-d6d6-44a0-8d5f-a9e707fc2169'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a55c4c33-dc8b-4277-9374-67b51030d6f2')]...
2025-04-13 15:45:23,378 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u0131...
2025-04-13 15:45:23,380 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:45:23,382 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:23,385 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u0131...
2025-04-13 15:45:23,385 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:45:23,386 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:45:23,386 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:45:23,386 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\\u0131...
2025-04-13 15:45:23,387 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan ad\ına olan rezervasyonunuz bulundu:\
...
2025-04-13 15:45:23,437 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 358 (char 357)
2025-04-13 15:45:23,437 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:23,438 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:23,438 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:30,829 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:45:30,835 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 358 (char 357)
2025-04-13 15:45:30,835 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:30,836 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:30,836 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:30,839 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:45:30,841 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:45:30,847 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='373d07ba-5e74-46c8-b49a-a488a9b1d3b2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='fa253c54-d1f6-4d1e-90e2-25c70cc4bd4c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='55da1247-7c41-4e15-ae0f-5131cebf974d'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='0b5a87aa-fc86-4268-af68-96c8d6530e2d'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='a7d2145d-979c-4966-9e7c-a6e83c2b6fe3'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='34ea3625-9030-4de9-ba91-fceb55f9682f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='9abb747c-61d0-4002-ab28-82b807605ad7'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='9f5e10ec-4234-4a3e-8dc0-6587d1158368'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='776491ff-9308-4eb5-9098-419e40852e29'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='6bb19ec0-239b-4721-a299-77141c6c0362'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='76a4a1b1-ae96-44ff-bf27-bb9498c1d797'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='8af55991-f8c3-4861-ac12-7e0895b0f978'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a6f711e8-c250-472c-b10c-2f2d52996ef5'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='25d6781d-f942-4644-8db1-05d436622bc2'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='837fb96b-04b0-4940-bba5-efc467394452'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='fa2d2b2e-b59e-4750-b21c-7487aa695621'), HumanMessage(content='güzel tamam iyi günler', additional_kwargs={}, response_metadata={}, id='15ecec91-ea02-465e-bd36-962462e3c4d2')]...
2025-04-13 15:45:32,020 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na rezervasyon sorgulan\u0131yor", "action_type": "list_reservatio...
2025-04-13 15:45:32,021 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:45:32,023 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='373d07ba-5e74-46c8-b49a-a488a9b1d3b2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='fa253c54-d1f6-4d1e-90e2-25c70cc4bd4c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='55da1247-7c41-4e15-ae0f-5131cebf974d'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='0b5a87aa-fc86-4268-af68-96c8d6530e2d'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='a7d2145d-979c-4966-9e7c-a6e83c2b6fe3'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='34ea3625-9030-4de9-ba91-fceb55f9682f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='9abb747c-61d0-4002-ab28-82b807605ad7'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='9f5e10ec-4234-4a3e-8dc0-6587d1158368'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='776491ff-9308-4eb5-9098-419e40852e29'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='6bb19ec0-239b-4721-a299-77141c6c0362'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='76a4a1b1-ae96-44ff-bf27-bb9498c1d797'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='8af55991-f8c3-4861-ac12-7e0895b0f978'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a6f711e8-c250-472c-b10c-2f2d52996ef5'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='25d6781d-f942-4644-8db1-05d436622bc2'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='837fb96b-04b0-4940-bba5-efc467394452'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='fa2d2b2e-b59e-4750-b21c-7487aa695621'), HumanMessage(content='güzel tamam iyi günler', additional_kwargs={}, response_metadata={}, id='15ecec91-ea02-465e-bd36-962462e3c4d2')]
2025-04-13 15:45:32,023 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:32,023 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:45:32,024 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "Ahmet Aslan"}
2025-04-13 15:45:32,026 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='373d07ba-5e74-46c8-b49a-a488a9b1d3b2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='fa253c54-d1f6-4d1e-90e2-25c70cc4bd4c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='55da1247-7c41-4e15-ae0f-5131cebf974d'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='0b5a87aa-fc86-4268-af68-96c8d6530e2d'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='a7d2145d-979c-4966-9e7c-a6e83c2b6fe3'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='34ea3625-9030-4de9-ba91-fceb55f9682f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='9abb747c-61d0-4002-ab28-82b807605ad7'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='9f5e10ec-4234-4a3e-8dc0-6587d1158368'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='776491ff-9308-4eb5-9098-419e40852e29'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='6bb19ec0-239b-4721-a299-77141c6c0362'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='76a4a1b1-ae96-44ff-bf27-bb9498c1d797'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='8af55991-f8c3-4861-ac12-7e0895b0f978'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a6f711e8-c250-472c-b10c-2f2d52996ef5'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='25d6781d-f942-4644-8db1-05d436622bc2'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='837fb96b-04b0-4940-bba5-efc467394452'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='fa2d2b2e-b59e-4750-b21c-7487aa695621'), HumanMessage(content='güzel tamam iyi günler', additional_kwargs={}, response_metadata={}, id='15ecec91-ea02-465e-bd36-962462e3c4d2')]
2025-04-13 15:45:32,028 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:45:32,030 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:45:32,031 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='ad94b78f-8d70-4320-9e9e-e18f6b920808'), HumanMessage(content='{"customer_name": "Ahmet Aslan"}', additional_kwargs={}, response_metadata={}, id='7f41f575-5df3-4c79-b93b-75ede33b2ef0')]
2025-04-13 15:45:32,032 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Ahmet Aslan, Tam Eşleşme: True
2025-04-13 15:45:32,032 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Ahmet Aslan, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:45:32,032 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:45:35,780 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:45:35,781 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 1
2025-04-13 15:45:35,781 - agents.tools_agents - INFO - İsme göre filtrelendi: 1 sonuç
2025-04-13 15:45:35,782 - agents.tools_agents - INFO - Fetch reservations completed with 1 results
2025-04-13 15:45:35,786 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='373d07ba-5e74-46c8-b49a-a488a9b1d3b2'), HumanMessage(content='sağol iyi günler', additional_kwargs={}, response_metadata={}, id='fa253c54-d1f6-4d1e-90e2-25c70cc4bd4c'), HumanMessage(content='Hilal karaman adına rezervasyon varmı bak bakalım', additional_kwargs={}, response_metadata={}, id='55da1247-7c41-4e15-ae0f-5131cebf974d'), HumanMessage(content='HÜSEYİN ALTIKULAÇ VARMI', additional_kwargs={}, response_metadata={}, id='0b5a87aa-fc86-4268-af68-96c8d6530e2d'), HumanMessage(content='tamam şimdi hangi isimleri sorguladım söyle', additional_kwargs={}, response_metadata={}, id='a7d2145d-979c-4966-9e7c-a6e83c2b6fe3'), HumanMessage(content='teşekkürler', additional_kwargs={}, response_metadata={}, id='34ea3625-9030-4de9-ba91-fceb55f9682f'), HumanMessage(content='yeni rezervasyon yapalım', additional_kwargs={}, response_metadata={}, id='9abb747c-61d0-4002-ab28-82b807605ad7'), HumanMessage(content='ahmet aslan 10-15 temmuz', additional_kwargs={}, response_metadata={}, id='9f5e10ec-4234-4a3e-8dc0-6587d1158368'), HumanMessage(content='suite oda', additional_kwargs={}, response_metadata={}, id='776491ff-9308-4eb5-9098-419e40852e29'), HumanMessage(content='tek kişiyim', additional_kwargs={}, response_metadata={}, id='6bb19ec0-239b-4721-a299-77141c6c0362'), HumanMessage(content='çocuk yok', additional_kwargs={}, response_metadata={}, id='76a4a1b1-ae96-44ff-bf27-bb9498c1d797'), HumanMessage(content='teşekkür ederim', additional_kwargs={}, response_metadata={}, id='8af55991-f8c3-4861-ac12-7e0895b0f978'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='a6f711e8-c250-472c-b10c-2f2d52996ef5'), HumanMessage(content='ahmet aslan adına rezervasyon sorgula', additional_kwargs={}, response_metadata={}, id='25d6781d-f942-4644-8db1-05d436622bc2'), HumanMessage(content='tamam iyi günler', additional_kwargs={}, response_metadata={}, id='837fb96b-04b0-4940-bba5-efc467394452'), HumanMessage(content='tamam teşekkürler', additional_kwargs={}, response_metadata={}, id='fa2d2b2e-b59e-4750-b21c-7487aa695621'), HumanMessage(content='güzel tamam iyi günler', additional_kwargs={}, response_metadata={}, id='15ecec91-ea02-465e-bd36-962462e3c4d2')]...
2025-04-13 15:45:38,025 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\u0131:\...
2025-04-13 15:45:38,026 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:45:38,027 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:45:38,032 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\u0131:\...
2025-04-13 15:45:38,032 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:45:38,032 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:45:38,033 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:45:38,033 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ahmet Aslan ad\u0131na olan rezervasyonunuz bulundu:\\n\\nRezervasyon Detaylar\u0131:\...
2025-04-13 15:45:38,033 - __main__ - INFO - ✅ JSON response regex ile bulundu: Ahmet Aslan adına olan rezervasyonunuz bulundu:\
\...
2025-04-13 15:45:38,098 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 317 (char 316)
2025-04-13 15:45:38,098 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:45:38,098 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:45:38,098 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:57:24,613 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:57:24,623 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:57:24,632 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:57:37,232 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:57:37,246 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:57:37,257 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:57:37,270 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0cf13e4e-32ff-483f-b961-121c97ddc549'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='c1ea6bf1-dd7d-45de-b467-9058d27ea3b0')]...
2025-04-13 15:57:38,721 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:57:38,722 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:57:38,723 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:57:38,726 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:57:38,726 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:57:38,726 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:57:38,726 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:57:38,726 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-13 15:57:38,727 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-13 15:57:38,808 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-13 15:57:38,808 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:57:47,404 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:57:47,406 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:57:47,408 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:57:51,417 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:57:51,425 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:57:51,429 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:57:51,452 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8fe9f5a8-17c6-4c84-812e-270ff49529d0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7cae468c-01d4-4fd8-b730-88fee5537a51')]...
2025-04-13 15:57:53,048 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:57:53,049 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:57:53,050 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8fe9f5a8-17c6-4c84-812e-270ff49529d0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7cae468c-01d4-4fd8-b730-88fee5537a51')]
2025-04-13 15:57:53,050 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:57:53,050 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:57:53,050 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin Alt\u0131kula\u00e7"}
2025-04-13 15:57:53,052 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8fe9f5a8-17c6-4c84-812e-270ff49529d0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7cae468c-01d4-4fd8-b730-88fee5537a51')]
2025-04-13 15:57:53,052 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:57:53,052 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:57:53,052 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='92daade9-9632-438e-8f81-905b874481b5'), HumanMessage(content='{"customer_name": "H\\u00fcseyin Alt\\u0131kula\\u00e7"}', additional_kwargs={}, response_metadata={}, id='e95cfd6d-89c5-4fb3-901c-bc224a47dbe6')]
2025-04-13 15:57:53,053 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin Altıkulaç, Tam Eşleşme: True
2025-04-13 15:57:53,053 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin Altıkulaç, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:57:53,053 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:57:58,278 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:57:58,281 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-13 15:57:58,281 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-13 15:57:58,281 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-13 15:57:58,282 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8fe9f5a8-17c6-4c84-812e-270ff49529d0'), HumanMessage(content='Hüseyin Altıkulaç listele', additional_kwargs={}, response_metadata={}, id='7cae468c-01d4-4fd8-b730-88fee5537a51')]...
2025-04-13 15:57:59,923 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Anca...
2025-04-13 15:57:59,925 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:57:59,926 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:57:59,929 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Anca...
2025-04-13 15:57:59,930 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:57:59,930 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:57:59,930 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:57:59,931 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na olan rezervasyonlar listeleniyor. Anca...
2025-04-13 15:57:59,932 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına olan rezervasyonlar li...
2025-04-13 15:57:59,988 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 174 (char 173)
2025-04-13 15:57:59,988 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:57:59,989 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:57:59,989 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:58:18,626 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:58:18,629 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:58:18,632 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:58:25,170 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-13 15:58:25,173 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:58:25,175 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:58:37,906 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-13 15:58:37,918 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-13 15:58:37,923 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-13 15:58:37,951 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5574ece4-299e-499b-8c76-a156512a99b1'), HumanMessage(content='Hüseyin Altıkulaç rezervasyonlarını getir', additional_kwargs={}, response_metadata={}, id='29e3cab6-6f77-4ee0-9fe6-c02d8e939d0f')]...
2025-04-13 15:58:39,231 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\u00fcseyin Alt\u0131kula\u00e7 ad\u0131na olan rezervasyonlar listeleniyor", "action...
2025-04-13 15:58:39,234 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-13 15:58:39,236 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:58:39,237 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5574ece4-299e-499b-8c76-a156512a99b1'), HumanMessage(content='Hüseyin Altıkulaç rezervasyonlarını getir', additional_kwargs={}, response_metadata={}, id='29e3cab6-6f77-4ee0-9fe6-c02d8e939d0f')]
2025-04-13 15:58:39,240 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-13 15:58:39,240 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-13 15:58:39,241 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5574ece4-299e-499b-8c76-a156512a99b1'), HumanMessage(content='Hüseyin Altıkulaç rezervasyonlarını getir', additional_kwargs={}, response_metadata={}, id='29e3cab6-6f77-4ee0-9fe6-c02d8e939d0f')]
2025-04-13 15:58:39,242 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-13 15:58:39,243 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-13 15:58:39,244 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='1c2796bc-73fa-49fc-9d07-842ce758f66d'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='b2392930-c267-46a4-86d1-ccc8a910748b')]
2025-04-13 15:58:39,244 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-13 15:58:39,244 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-13 15:58:39,244 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-13 15:58:42,714 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 4
2025-04-13 15:58:42,715 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-13 15:58:42,715 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-13 15:58:42,715 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-13 15:58:42,716 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5574ece4-299e-499b-8c76-a156512a99b1'), HumanMessage(content='Hüseyin Altıkulaç rezervasyonlarını getir', additional_kwargs={}, response_metadata={}, id='29e3cab6-6f77-4ee0-9fe6-c02d8e939d0f')]...
2025-04-13 15:58:44,868 - agents.agents - INFO - ReservationAgent yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyonlar bul...
2025-04-13 15:58:44,868 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-13 15:58:44,869 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-13 15:58:44,870 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyonlar bul...
2025-04-13 15:58:44,870 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-13 15:58:44,870 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-13 15:58:44,870 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-13 15:58:44,871 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "H\\u00fcseyin Alt\\u0131kula\\u00e7 ad\\u0131na kay\\u0131tl\\u0131 rezervasyonlar bul...
2025-04-13 15:58:44,871 - __main__ - INFO - ✅ JSON response regex ile bulundu: H\üseyin Alt\ıkula\ç ad\ına kay\ıtl\ı rezervasyonl...
2025-04-13 15:58:44,910 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 389 (char 388)
2025-04-13 15:58:44,911 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-13 15:58:44,911 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-13 15:58:44,911 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 13:29:39,589 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:29:39,594 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:29:39,600 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:29:50,507 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:29:50,517 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:29:50,522 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:34:15,572 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:34:15,579 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:34:15,585 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:34:19,964 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:34:19,973 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:34:19,980 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:35:11,797 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:35:11,810 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:35:11,816 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:35:15,651 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:35:15,659 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:35:15,662 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:38:22,347 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:38:22,362 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:38:22,367 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:38:25,241 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:38:25,250 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:38:25,255 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:38:25,267 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='459ac030-750d-4d2c-b54e-977f0826444b'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='76e853d2-f1af-4957-9fba-9fa06a3b2817')]...
2025-04-17 13:38:25,268 - agents.agents - INFO - MCP'den araçlar alınıyor...
2025-04-17 13:38:25,268 - agents.agents - INFO - 2 araç başarıyla alındı
2025-04-17 13:38:25,269 - agents.agents - ERROR - LLM çağrısı sırasında hata: 'coroutine' object has no attribute 'content'
2025-04-17 13:38:25,270 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 13:38:25,271 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 13:38:25,273 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Model \u00e7a\u011fr\u0131 hatas\u0131"}...
2025-04-17 13:38:25,273 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 13:38:25,273 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 13:38:25,273 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 13:38:25,274 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Model \u00e7a\u011fr\u0131 hatas\u0131"}...
2025-04-17 13:38:25,274 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Model çağrı hatası"}...
2025-04-17 13:38:25,274 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Model çağrı hatası"}...
2025-04-17 13:38:25,275 - __main__ - ERROR - İşlenen hata: Model çağrı hatası
2025-04-17 13:45:45,512 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:45:45,516 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:45:45,520 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:45:51,563 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:45:51,568 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:45:51,571 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:45:51,589 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='036d50c3-747b-4725-99d4-af499b50eaa0'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9010ca1a-9cdf-4244-967a-ce0f3d73cc68')]...
2025-04-17 13:45:51,591 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 13:45:51,592 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 13:45:51,593 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "<coroutine object GeminiJSONModel.invoke at 0x16af8b8b0>"}...
2025-04-17 13:45:51,593 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 13:45:51,593 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 13:45:51,593 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 13:45:51,593 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "<coroutine object GeminiJSONModel.invoke at 0x16af8b8b0>"}...
2025-04-17 13:45:51,593 - __main__ - INFO - ✅ JSON response regex ile bulundu: <coroutine object GeminiJSONModel.invoke at 0x16af...
2025-04-17 13:48:25,740 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:48:25,906 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:48:25,913 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:48:33,008 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:48:33,014 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:48:33,017 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:48:36,486 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:48:36,495 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:48:36,498 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:51:59,676 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 13:51:59,679 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:51:59,681 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 13:52:02,112 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 13:52:02,120 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 13:52:02,125 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:02:27,268 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:02:27,271 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:02:27,273 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:02:30,172 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 14:02:30,183 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:02:30,186 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:11:36,362 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:11:36,365 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:11:36,367 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:11:38,680 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 14:11:38,703 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:11:38,713 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:11:38,734 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6840251e-f146-4350-986c-e3e63e553c16'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='d9aa65b5-01ef-48c7-adcd-e2fa40af4bff')]...None
2025-04-17 14:11:38,734 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6840251e-f146-4350-986c-e3e63e553c16'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='d9aa65b5-01ef-48c7-adcd-e2fa40af4bff')]"
2025-04-17 14:11:39,830 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:11:39,831 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 14:11:39,831 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 14:11:39,833 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:11:39,833 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 14:11:39,833 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 14:11:39,833 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 14:11:39,833 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:11:39,834 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 14:11:39,834 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 14:11:39,834 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:13:36,449 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:13:36,451 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:13:36,453 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:13:38,896 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 14:13:38,906 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:13:38,910 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:13:38,930 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa41553a-b1cf-41df-8962-54be204471dd'), HumanMessage(content='TEST', additional_kwargs={}, response_metadata={}, id='619d2cd3-38c5-4dcd-b273-b4a314265d48')]...None
2025-04-17 14:13:38,930 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fa41553a-b1cf-41df-8962-54be204471dd'), HumanMessage(content='TEST', additional_kwargs={}, response_metadata={}, id='619d2cd3-38c5-4dcd-b273-b4a314265d48')]"
2025-04-17 14:13:40,141 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:13:40,145 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 14:13:40,149 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 14:13:40,150 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:13:40,150 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 14:13:40,151 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 14:13:40,151 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 14:13:40,151 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:13:40,152 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 14:13:40,152 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 14:13:40,152 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:17:24,626 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:17:24,629 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:17:24,630 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: object _AsyncGeneratorContextManager can't be used in 'await' expression
2025-04-17 14:17:24,630 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:17:24,633 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:21:28,615 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:21:28,622 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:21:28,622 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: object _AsyncGeneratorContextManager can't be used in 'await' expression
2025-04-17 14:21:28,624 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:21:28,627 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:21:32,294 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 14:21:32,301 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:21:32,301 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: object _AsyncGeneratorContextManager can't be used in 'await' expression
2025-04-17 14:21:32,304 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:21:32,308 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:21:32,332 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='533e45a9-056e-44ae-9c7c-f878306d3ac5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b94883f5-8573-48cb-a36d-050ba9df3c7a')]...[]
2025-04-17 14:21:32,333 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='533e45a9-056e-44ae-9c7c-f878306d3ac5'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b94883f5-8573-48cb-a36d-050ba9df3c7a')]"
2025-04-17 14:21:33,356 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:21:33,359 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 14:21:33,360 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 14:21:33,366 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:21:33,366 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 14:21:33,367 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 14:21:33,367 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 14:21:33,367 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:21:33,368 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 14:21:33,368 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 14:21:33,369 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:21:41,419 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 14:21:41,431 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:21:41,431 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: object _AsyncGeneratorContextManager can't be used in 'await' expression
2025-04-17 14:21:41,434 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:21:41,441 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:21:41,454 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b6e6e566-0015-47bb-ba99-18de6619c660'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='a2702bab-ce46-47a9-bd1b-72fae324040e')]...[]
2025-04-17 14:21:41,455 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b6e6e566-0015-47bb-ba99-18de6619c660'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='a2702bab-ce46-47a9-bd1b-72fae324040e')]"
2025-04-17 14:21:42,354 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:21:42,356 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 14:21:42,358 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 14:21:42,361 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:21:42,362 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 14:21:42,362 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 14:21:42,362 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 14:21:42,362 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 14:21:42,362 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 14:21:42,363 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 14:21:42,363 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 14:22:59,508 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:22:59,511 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:22:59,511 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: object _AsyncGeneratorContextManager can't be used in 'await' expression
2025-04-17 14:22:59,511 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 14:22:59,513 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 14:23:40,075 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:23:40,076 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:23:40,086 - __main__ - WARNING - MCP sunucusundan araçlar getirilemedi: Yanıt boş veya geçersiz
2025-04-17 14:24:05,855 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 14:24:05,857 - __main__ - INFO - MCP sunucusuna bağlanılıyor...
2025-04-17 14:24:05,869 - __main__ - WARNING - MCP sunucusundan araçlar getirilemedi: Yanıt boş veya geçersiz
2025-04-17 15:33:51,757 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 15:34:49,797 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:09:33,868 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:11:27,419 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:11:51,980 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:12:39,899 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:18:10,962 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:22:27,318 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:26:19,007 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:27:42,443 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:27:42,446 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:27:42,446 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:27:42,446 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:27:42,456 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:27:42,456 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:27:42,457 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:28:12,451 - __main__ - ERROR - MCP sunucusuna bağlanırken zaman aşımı oluştu
2025-04-17 17:28:12,452 - __main__ - INFO - MCP bağlantısı başarılı, araç sayısı: 0
2025-04-17 17:28:12,452 - __main__ - WARNING - Sheet.py dosyasından araç alınamadı, weather.py deneniyor...
2025-04-17 17:28:12,452 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:28:12,452 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:28:12,453 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:28:12,463 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:28:12,464 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:28:12,464 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:30:22,691 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:30:22,694 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:30:22,694 - __main__ - INFO - MCP sunucu komutu: python uv --directory /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/ run weather.py
2025-04-17 17:30:22,694 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:30:22,700 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:30:22,701 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:30:22,701 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:31:52,243 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:31:52,246 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:31:52,246 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:31:52,246 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:31:52,256 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:31:52,257 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:31:52,257 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:32:22,257 - __main__ - ERROR - MCP sunucusuna bağlanırken zaman aşımı oluştu
2025-04-17 17:32:22,258 - __main__ - INFO - MCP bağlantısı başarılı, araç sayısı: 0
2025-04-17 17:32:22,258 - __main__ - WARNING - Sheet.py dosyasından araç alınamadı, weather.py deneniyor...
2025-04-17 17:32:22,258 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:32:22,258 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:32:22,259 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:32:22,263 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:32:22,264 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:32:22,264 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:32:52,268 - __main__ - ERROR - MCP sunucusuna bağlanırken zaman aşımı oluştu
2025-04-17 17:32:52,270 - __main__ - WARNING - MCP araçları bulunamadı, boş liste kullanılacak
2025-04-17 17:32:52,275 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:32:52,285 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:33:11,315 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:33:11,328 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:33:11,328 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:33:11,328 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:33:11,345 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:33:11,346 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:33:11,346 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:33:41,333 - __main__ - ERROR - MCP sunucusuna bağlanırken zaman aşımı oluştu
2025-04-17 17:33:41,334 - __main__ - INFO - MCP bağlantısı başarılı, araç sayısı: 0
2025-04-17 17:33:41,334 - __main__ - WARNING - Sheet.py dosyasından araç alınamadı, weather.py deneniyor...
2025-04-17 17:33:41,334 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:33:41,334 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:33:41,334 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:33:41,339 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:33:41,339 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:33:41,339 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:34:39,884 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:34:39,888 - __main__ - ERROR - MCP bağlantı hatası: cannot access local variable 'mcp_tools' where it is not associated with a value
2025-04-17 17:34:39,889 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:34:39,896 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:34:43,500 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:34:43,510 - __main__ - ERROR - MCP bağlantı hatası: cannot access local variable 'mcp_tools' where it is not associated with a value
2025-04-17 17:34:43,512 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:34:43,517 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:34:43,539 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f3f3bce8-6400-43da-9606-cbe44fbb4193'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='d7806f20-c9b1-4851-8396-995360a07c97')]...[]
2025-04-17 17:34:43,539 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f3f3bce8-6400-43da-9606-cbe44fbb4193'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='d7806f20-c9b1-4851-8396-995360a07c97')]"
2025-04-17 17:34:44,472 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 17:34:44,475 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:34:44,477 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:34:44,480 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 17:34:44,480 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 17:34:44,481 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 17:34:44,481 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 17:34:44,481 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 17:34:44,481 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 17:34:44,482 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 17:34:44,482 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 17:37:24,370 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:37:24,373 - __main__ - ERROR - MCP bağlantı hatası: cannot access local variable 'mcp_tools' where it is not associated with a value
2025-04-17 17:37:24,374 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:37:24,379 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:38:10,326 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:38:10,330 - __main__ - ERROR - MCP bağlantı hatası: cannot access local variable 'mcp_tools' where it is not associated with a value
2025-04-17 17:38:10,331 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:38:10,334 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:38:13,345 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:38:13,354 - __main__ - ERROR - MCP bağlantı hatası: cannot access local variable 'mcp_tools' where it is not associated with a value
2025-04-17 17:38:13,355 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:38:13,361 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:38:13,383 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a274b61-da30-401d-be58-1ef3756986de'), HumanMessage(content='erhab', additional_kwargs={}, response_metadata={}, id='6c5fd65b-dc1c-4c0d-ae4a-bd6f676b9fd8')]...[]
2025-04-17 17:38:13,384 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0a274b61-da30-401d-be58-1ef3756986de'), HumanMessage(content='erhab', additional_kwargs={}, response_metadata={}, id='6c5fd65b-dc1c-4c0d-ae4a-bd6f676b9fd8')]"
2025-04-17 17:38:14,448 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 17:38:14,449 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:38:14,451 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:38:14,456 - __main__ - INFO - Son rezervasyon yanıtı: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 17:38:14,456 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 17:38:14,457 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 17:38:14,457 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 17:38:14,457 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"error": "Sorgu i\u015fleme hatas\u0131: 400 Request contains an invalid argument."}...
2025-04-17 17:38:14,457 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"error": "Sorgu işleme hatası: 400 Request contai...
2025-04-17 17:38:14,458 - __main__ - WARNING - Yanıtta hata tespit edildi: {"error": "Sorgu işleme hatası: 400 Request contains an invalid argument."}...
2025-04-17 17:38:14,458 - __main__ - ERROR - İşlenen hata: Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 17:39:08,843 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:39:08,847 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:39:08,847 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 17:39:08,848 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 17:39:08,858 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 17:39:08,858 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 17:39:08,858 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 17:39:48,203 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:39:48,206 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:39:48,207 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:39:51,251 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:39:51,265 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:39:51,269 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:39:51,288 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d2a90bc3-af6d-44b6-be43-2e9ced99f770'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='786526a7-b6a3-4958-b273-e2b1fcb8c0ce')]...[]
2025-04-17 17:39:51,289 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d2a90bc3-af6d-44b6-be43-2e9ced99f770'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='786526a7-b6a3-4958-b273-e2b1fcb8c0ce')]"
2025-04-17 17:39:52,414 - models.llm - ERROR - Sorgu işleme hatası: 400 Request contains an invalid argument.
2025-04-17 17:39:52,416 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:39:52,417 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:50:42,868 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:50:42,871 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:50:42,874 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:50:48,523 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:50:48,536 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:50:48,540 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:50:48,562 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='310696a7-0527-4a02-898d-7da409e6886e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a6b74fca-b8c0-4775-8464-b017e7b025d4')]...[]
2025-04-17 17:50:48,562 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='310696a7-0527-4a02-898d-7da409e6886e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='a6b74fca-b8c0-4775-8464-b017e7b025d4')]"
2025-04-17 17:50:48,562 - models.llm - INFO - Fonksiyon tanımı bulunamadı, araçsız çağrı yapılıyor
2025-04-17 17:50:50,221 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 17:50:50,221 - models.llm - ERROR - Fonksiyon çağrısı işleme hatası: the JSON object must be str, bytes or bytearray, not NoneType
2025-04-17 17:50:51,503 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:50:51,505 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:50:51,508 - __main__ - INFO - Son rezervasyon yanıtı: {"summary": "The vehicle processing request failed due to a JSON processing error. Specifically, the...
2025-04-17 17:50:51,508 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 17:50:51,508 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 17:50:51,509 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 17:50:51,509 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"summary": "The vehicle processing request failed due to a JSON processing error. Specifically, the...
2025-04-17 17:50:51,514 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 124 (char 123)
2025-04-17 17:50:51,516 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 17:50:51,516 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"summary": "The vehicle processing request failed...
2025-04-17 17:50:51,517 - __main__ - WARNING - Yanıtta hata tespit edildi: {"summary": "The vehicle processing request failed due to a JSON processing error. Specifically, the...
2025-04-17 17:50:51,518 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 124 (char 123)
2025-04-17 17:50:51,518 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 17:50:51,518 - __main__ - ERROR - İşlenen hata: Bilinmeyen bir hata oluştu
2025-04-17 17:50:51,602 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 124 (char 123)
2025-04-17 17:50:51,603 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 17:54:39,017 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:54:39,020 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:54:39,022 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:54:42,414 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:54:42,423 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:54:42,426 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:54:42,446 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='37c47cb6-8215-4aec-ad3f-07e370105504'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='f9b734c9-1132-4dd8-9f54-b21772e2d749')]...[]
2025-04-17 17:54:42,446 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='37c47cb6-8215-4aec-ad3f-07e370105504'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='f9b734c9-1132-4dd8-9f54-b21772e2d749')]"
2025-04-17 17:54:42,446 - models.llm - INFO - Fonksiyon tanımı bulunamadı, araçsız çağrı yapılıyor
2025-04-17 17:54:43,945 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 17:54:43,946 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 17:54:43,946 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 17:54:43,946 - models.llm - ERROR - Özet oluşturma hatası: Expecting value: line 1 column 1 (char 0)
2025-04-17 17:54:43,946 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:54:43,948 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:54:43,949 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hata:  adl\u0131 ara\u00e7 bulunamad\u0131."}...
2025-04-17 17:54:43,949 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 17:54:43,949 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 17:54:43,949 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 17:54:43,949 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hata:  adl\u0131 ara\u00e7 bulunamad\u0131."}...
2025-04-17 17:54:43,949 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hata:  adlı araç bulunamadı....
2025-04-17 17:56:23,024 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 17:56:23,027 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:56:23,029 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:56:26,020 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 17:56:26,030 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 17:56:26,034 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 17:56:26,074 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9ee9c619-d530-43de-b1fb-35127f393b32'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='c0e19c2d-79d8-47ad-ac96-aa4915b75c44')]...[]
2025-04-17 17:56:26,075 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9ee9c619-d530-43de-b1fb-35127f393b32'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='c0e19c2d-79d8-47ad-ac96-aa4915b75c44')]"
2025-04-17 17:56:26,077 - models.llm - INFO - Fonksiyon tanımı bulunamadı, araçsız çağrı yapılıyor
2025-04-17 17:56:27,650 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 17:56:27,650 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 17:56:27,650 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 17:56:27,650 - models.llm - ERROR - Özet oluşturma hatası: Expecting value: line 1 column 1 (char 0)
2025-04-17 17:56:27,652 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 17:56:27,654 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 17:56:27,655 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hata:  adl\u0131 ara\u00e7 bulunamad\u0131."}...
2025-04-17 17:56:27,655 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 17:56:27,655 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 17:56:27,655 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 17:56:27,655 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hata:  adl\u0131 ara\u00e7 bulunamad\u0131."}...
2025-04-17 17:56:27,655 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hata:  adlı araç bulunamadı....
2025-04-17 18:02:30,334 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:02:30,338 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:02:30,341 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:02:33,535 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:02:33,546 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:02:33,551 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:02:33,572 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='af47ba88-614e-4d80-9220-b01f09be19a5'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='75f7c466-522b-491f-82bf-02c95f5ca48c')]...[]
2025-04-17 18:02:33,573 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='af47ba88-614e-4d80-9220-b01f09be19a5'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='75f7c466-522b-491f-82bf-02c95f5ca48c')]"
2025-04-17 18:02:35,215 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 18:02:35,227 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 18:02:35,228 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 18:02:36,197 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:02:36,198 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:02:36,200 - __main__ - INFO - Son rezervasyon yanıtı: {"summary": "The tool could not be found, resulting in an error.", "details": "The system attempted ...
2025-04-17 18:02:36,200 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:02:36,200 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:02:36,200 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:02:36,200 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"summary": "The tool could not be found, resulting in an error.", "details": "The system attempted ...
2025-04-17 18:02:36,201 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"summary": "The tool could not be found, resultin...
2025-04-17 18:02:36,201 - __main__ - WARNING - Yanıtta hata tespit edildi: {"summary": "The tool could not be found, resulting in an error.", "details": "The system attempted ...
2025-04-17 18:02:36,201 - __main__ - ERROR - İşlenen hata: Bilinmeyen bir hata oluştu
2025-04-17 18:03:41,168 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:03:41,186 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:03:41,198 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:03:41,204 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='009b17bc-5603-4238-bb25-f13ea15f1914'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='216d856b-31fe-4df8-a6e1-9a2762cdf4ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='89ff1324-578e-480a-85ff-acb3eca8458f')]...[]
2025-04-17 18:03:41,206 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='009b17bc-5603-4238-bb25-f13ea15f1914'), HumanMessage(content='hi', additional_kwargs={}, response_metadata={}, id='216d856b-31fe-4df8-a6e1-9a2762cdf4ed'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='89ff1324-578e-480a-85ff-acb3eca8458f')]"
2025-04-17 18:03:43,023 - models.llm - INFO - API yanıtı: response:
GenerateContentResponse(
    done=True,
    iterator=None,
    result=protos.GenerateContentResponse({
      "candidates": [
        {
          "content": {
            "parts": [
              {
                "text": "{\"response\":\"Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?\",\"action_type\":null,\"tool_action\":null,\"customer_name\":null,\"check_in_date\":null,\"check_out_date\":null,\"room_type\":null,\"adults\":null,\"children\":null,\"reservation_id\":null}"
              }
            ],
            "role": "model"
          },
          "finish_reason": "STOP",
          "safety_ratings": [
            {
              "category": "HARM_CATEGORY_HATE_SPEECH",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_HARASSMENT",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
              "probability": "NEGLIGIBLE"
            }
          ],
          "avg_logprobs": -0.0022121062919275084
        }
      ],
      "usage_metadata": {
        "prompt_token_count": 3826,
        "candidates_token_count": 67,
        "total_token_count": 3893
      },
      "model_version": "gemini-2.0-flash"
    }),
)
2025-04-17 18:03:43,023 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 18:03:43,024 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 18:03:43,024 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 18:03:43,734 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:03:43,735 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:03:43,740 - __main__ - INFO - Son rezervasyon yanıtı: {"summary": "The requested vehicle could not be found."}...
2025-04-17 18:03:43,741 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:03:43,741 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:03:43,741 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:03:43,742 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"summary": "The requested vehicle could not be found."}...
2025-04-17 18:03:43,742 - __main__ - INFO - ✅ Ham içerik döndürülüyor: {"summary": "The requested vehicle could not be fo...
2025-04-17 18:04:43,988 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:04:44,004 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:04:44,009 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:04:46,746 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:04:46,757 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:04:46,762 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:04:46,783 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f74be842-6bf1-4dd6-bb74-3910d9e94ec9'), HumanMessage(content=' merhaba', additional_kwargs={}, response_metadata={}, id='dc953538-de36-43bb-8544-0b0e73cba136')]...[]
2025-04-17 18:04:46,783 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='f74be842-6bf1-4dd6-bb74-3910d9e94ec9'), HumanMessage(content=' merhaba', additional_kwargs={}, response_metadata={}, id='dc953538-de36-43bb-8544-0b0e73cba136')]"
2025-04-17 18:04:48,497 - models.llm - INFO - API yanıtı: response:
GenerateContentResponse(
    done=True,
    iterator=None,
    result=protos.GenerateContentResponse({
      "candidates": [
        {
          "content": {
            "parts": [
              {
                "text": "{\"response\":\"Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?\",\"action_type\":null,\"tool_action\":null,\"customer_name\":null,\"check_in_date\":null,\"check_out_date\":null,\"room_type\":null,\"adults\":null,\"children\":null,\"reservation_id\":null}"
              }
            ],
            "role": "model"
          },
          "finish_reason": "STOP",
          "safety_ratings": [
            {
              "category": "HARM_CATEGORY_HATE_SPEECH",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_HARASSMENT",
              "probability": "NEGLIGIBLE"
            },
            {
              "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
              "probability": "NEGLIGIBLE"
            }
          ],
          "avg_logprobs": -0.0011745662386737654
        }
      ],
      "usage_metadata": {
        "prompt_token_count": 3776,
        "candidates_token_count": 67,
        "total_token_count": 3843
      },
      "model_version": "gemini-2.0-flash"
    }),
)
2025-04-17 18:04:48,497 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 18:04:48,499 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:04:48,500 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:04:48,502 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-17 18:04:48,502 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:04:48,503 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:04:48,503 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:04:48,503 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-17 18:04:48,504 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-17 18:04:48,595 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-17 18:04:48,595 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:05:35,478 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:05:35,484 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:05:35,487 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:05:40,677 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:05:40,694 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:05:40,697 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:05:40,711 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4bd1d9d3-ccde-473f-b08c-0b26b530dd41'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b687780e-705d-41e2-9c90-131bcfff22e9')]...[]
2025-04-17 18:05:40,712 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='4bd1d9d3-ccde-473f-b08c-0b26b530dd41'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='b687780e-705d-41e2-9c90-131bcfff22e9')]"
2025-04-17 18:05:42,502 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 18:05:42,506 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:05:42,508 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:05:42,511 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:05:42,512 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:05:42,512 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:05:42,512 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:05:42,512 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:05:42,512 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, Altıkulaç Otel'e hoş geldiniz! Size nasıl...
2025-04-17 18:05:42,593 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 49 (char 48)
2025-04-17 18:05:42,593 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:06:28,142 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:06:28,145 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:06:28,145 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:06:28,145 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:06:28,156 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 18:06:28,156 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:06:28,156 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:06:58,156 - __main__ - ERROR - MCP sunucusuna bağlanırken zaman aşımı oluştu
2025-04-17 18:06:58,159 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:06:58,163 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:07:27,546 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:07:27,556 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:07:27,557 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:07:27,557 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:07:27,570 - __main__ - INFO - stdio_client bağlantısı başarılı, transport alındı
2025-04-17 18:07:27,570 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:07:27,570 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:17:32,711 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:17:32,715 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:17:32,715 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:17:32,715 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:17:32,715 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:17:32,728 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:17:32,728 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:17:32,946 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:17:32,946 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:17:32,947 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:17:32,950 - __main__ - ERROR - MCP sunucusuna bağlanırken hata: unhandled errors in a TaskGroup (1 sub-exception)
2025-04-17 18:17:32,954 - __main__ - ERROR - Hata detayı:   + Exception Group Traceback (most recent call last):
  |   File "/Users/huseyin/Documents/deep-learning/wp_agent/streamlit_fix.py", line 714, in connect_to_server
  |     async with AsyncExitStack() as exit_stack:
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 742, in __aexit__
  |     raise exc_details[1]
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 725, in __aexit__
  |     cb_suppress = await cb(*exc_details)
  |                   ^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 222, in __aexit__
  |     await self.gen.athrow(value)
  |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/client/stdio/__init__.py", line 166, in stdio_client
  |     async with (
  |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/client/stdio/__init__.py", line 173, in stdio_client
    |     yield read_stream, write_stream
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 725, in __aexit__
    |     cb_suppress = await cb(*exc_details)
    |                   ^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/shared/session.py", line 210, in __aexit__
    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
    |     raise BaseExceptionGroup(
    | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/huseyin/Documents/deep-learning/wp_agent/streamlit_fix.py", line 741, in connect_to_server
      |     "parameters": tool.parameters,
      |                   ^^^^^^^^^^^^^^^
      |   File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/pydantic/main.py", line 994, in __getattr__
      |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
      | AttributeError: 'Tool' object has no attribute 'parameters'
      +------------------------------------

2025-04-17 18:17:32,954 - __main__ - WARNING - MCP sunucusundan araç alınamadı veya boş araç listesi döndü
2025-04-17 18:17:32,955 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:17:32,956 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:17:32,959 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:17:32,961 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:21:35,030 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:21:35,034 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:35,034 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:35,034 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:35,034 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:21:35,052 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:21:35,053 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:21:35,292 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:21:35,292 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:21:35,293 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:21:35,295 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:21:35,295 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:21:35,296 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:21:35,299 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:21:35,300 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:21:37,713 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:21:37,721 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:37,721 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:37,722 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:21:37,722 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:21:37,731 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:21:37,732 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:21:37,954 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:21:37,954 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:21:37,955 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:21:37,957 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:21:37,957 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:21:37,958 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:21:37,961 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:21:37,961 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:21:37,973 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='738422ed-0222-4bd5-9268-fdaf4d5c467e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9c70dfb6-04cd-4669-a611-6196dc7e2d84')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:21:37,973 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='738422ed-0222-4bd5-9268-fdaf4d5c467e'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9c70dfb6-04cd-4669-a611-6196dc7e2d84')]"
2025-04-17 18:21:37,974 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:21:39,086 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 18:21:40,306 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:21:40,309 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:21:40,313 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:21:40,313 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:21:40,313 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:21:40,313 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:21:40,314 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:21:40,314 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, Altıkulaç Otel'e hoş geldiniz! Size nasıl...
2025-04-17 18:21:40,435 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 49 (char 48)
2025-04-17 18:21:40,435 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:22:55,293 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:22:55,302 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 49 (char 48)
2025-04-17 18:22:55,303 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:22:55,306 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:22:55,306 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:22:55,306 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:22:55,307 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:22:55,314 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:22:55,315 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:22:55,628 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:22:55,628 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:22:55,630 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:22:55,633 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:22:55,634 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:22:55,635 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:22:55,640 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:22:55,641 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:22:55,644 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b4a3b33c-76b8-4509-a66f-fc59ed58c19b'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9afbc81f-4a3a-494a-b29e-d82319a21703'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='f53a972c-ca87-4024-ad39-415920fa6f7d')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:22:55,645 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b4a3b33c-76b8-4509-a66f-fc59ed58c19b'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='9afbc81f-4a3a-494a-b29e-d82319a21703'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='f53a972c-ca87-4024-ad39-415920fa6f7d')]"
2025-04-17 18:22:55,645 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:22:56,536 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 18:22:57,702 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:22:57,704 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:22:57,707 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba! Size nas\u0131l yard\u0131mc\u0131 olabilirim? Otel rezervasyonu yapmak, reze...
2025-04-17 18:22:57,707 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:22:57,708 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:22:57,708 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:22:57,708 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba! Size nas\u0131l yard\u0131mc\u0131 olabilirim? Otel rezervasyonu yapmak, reze...
2025-04-17 18:22:57,708 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba! Size nasıl yardımcı olabilirim? Otel reze...
2025-04-17 18:22:57,849 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 228 (char 227)
2025-04-17 18:22:57,849 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:23:30,425 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:23:30,434 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 228 (char 227)
2025-04-17 18:23:30,434 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:23:30,436 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:30,436 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:30,436 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:30,437 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:23:30,449 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:23:30,450 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:23:30,770 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:23:30,770 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:23:30,776 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:23:30,779 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:23:30,779 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:23:30,780 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:23:30,783 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:23:30,784 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:23:30,787 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ad7bdcd5-ab76-4187-900b-3e7a0dd0301f'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='0f4c435f-2401-4bde-afda-995ddd1f9050'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='c4a96bc4-8629-4af8-8ee5-8136ad844f97'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='5e2f3995-9683-4530-b5fe-9af23199c45d')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:23:30,788 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ad7bdcd5-ab76-4187-900b-3e7a0dd0301f'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='0f4c435f-2401-4bde-afda-995ddd1f9050'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='c4a96bc4-8629-4af8-8ee5-8136ad844f97'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='5e2f3995-9683-4530-b5fe-9af23199c45d')]"
2025-04-17 18:23:30,788 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:23:31,667 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 18:23:32,652 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:23:32,653 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:23:32,656 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-17 18:23:32,657 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:23:32,657 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:23:32,657 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:23:32,658 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, size nas\u0131l yard\u0131mc\u0131 olabilirim?", "action_type": null, "tool_a...
2025-04-17 18:23:32,659 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, size nasıl yardımcı olabilirim?...
2025-04-17 18:23:32,772 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-17 18:23:32,772 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:23:44,078 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:23:44,090 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 88 (char 87)
2025-04-17 18:23:44,090 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:23:44,093 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:44,093 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:44,093 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:23:44,094 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:23:44,103 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:23:44,103 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:23:44,406 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:23:44,406 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:23:44,407 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:23:44,409 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:23:44,409 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:23:44,410 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:23:44,412 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:23:44,413 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:23:44,416 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='41d6f2d0-32c5-4acc-b866-dd8e2c22a531'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='d7d1a356-c2d4-48a3-ba8a-704ae9250926'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='5caa1f46-435d-4f3e-be83-1fe5e1429f0a'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='93e24af7-ca83-4d38-a82a-dc1a233dc4cd'), HumanMessage(content='california hava', additional_kwargs={}, response_metadata={}, id='becf4fd2-19b9-457a-9c53-da460f18893c')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:23:44,416 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='41d6f2d0-32c5-4acc-b866-dd8e2c22a531'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='d7d1a356-c2d4-48a3-ba8a-704ae9250926'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='5caa1f46-435d-4f3e-be83-1fe5e1429f0a'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='93e24af7-ca83-4d38-a82a-dc1a233dc4cd'), HumanMessage(content='california hava', additional_kwargs={}, response_metadata={}, id='becf4fd2-19b9-457a-9c53-da460f18893c')]"
2025-04-17 18:23:44,417 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:23:45,264 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 18:23:47,000 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:23:47,002 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:23:47,006 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:23:47,006 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:23:47,006 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:23:47,007 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:23:47,007 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Merhaba, Alt\u0131kula\u00e7 Otel'e ho\u015f geldiniz! Size nas\u0131l yard\u0131mc\u0...
2025-04-17 18:23:47,007 - __main__ - INFO - ✅ JSON response regex ile bulundu: Merhaba, Altıkulaç Otel'e hoş geldiniz! Size nasıl...
2025-04-17 18:23:47,094 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 49 (char 48)
2025-04-17 18:23:47,094 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:24:05,801 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:24:05,812 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 49 (char 48)
2025-04-17 18:24:05,813 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:24:05,815 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:24:05,815 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:24:05,815 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:24:05,816 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:24:05,827 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:24:05,828 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:24:06,105 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:24:06,105 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:24:06,106 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:24:06,108 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:24:06,108 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:24:06,109 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:24:06,111 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:24:06,112 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:24:06,116 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19761dbc-63c6-4c74-8308-b8e356348853'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2f88ae55-21b1-4fe7-a633-c3293a2363ba'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='3c1bfb45-bbcf-4842-b003-9d78a1bb7450'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='9b7f65f7-ceb0-487f-abff-d9a018644d80'), HumanMessage(content='california hava', additional_kwargs={}, response_metadata={}, id='d09b9151-f75f-45b4-afbf-04aa03b99996'), HumanMessage(content='toolların yok mu mcp toolları', additional_kwargs={}, response_metadata={}, id='825c4f97-1b8d-4bc0-8904-b2181551a5e9')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:24:06,116 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19761dbc-63c6-4c74-8308-b8e356348853'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='2f88ae55-21b1-4fe7-a633-c3293a2363ba'), HumanMessage(content='kullanabilir araçlar neler toollar', additional_kwargs={}, response_metadata={}, id='3c1bfb45-bbcf-4842-b003-9d78a1bb7450'), HumanMessage(content='hava durumu california getir', additional_kwargs={}, response_metadata={}, id='9b7f65f7-ceb0-487f-abff-d9a018644d80'), HumanMessage(content='california hava', additional_kwargs={}, response_metadata={}, id='d09b9151-f75f-45b4-afbf-04aa03b99996'), HumanMessage(content='toolların yok mu mcp toolları', additional_kwargs={}, response_metadata={}, id='825c4f97-1b8d-4bc0-8904-b2181551a5e9')]"
2025-04-17 18:24:06,117 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:24:07,219 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 18:24:08,573 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:24:08,574 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:24:08,578 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim? Rezervasyon yapmak, rezervasyonlar\\...
2025-04-17 18:24:08,579 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:24:08,579 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:24:08,580 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:24:08,580 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Size nas\\u0131l yard\\u0131mc\\u0131 olabilirim? Rezervasyon yapmak, rezervasyonlar\\...
2025-04-17 18:24:08,580 - __main__ - INFO - ✅ JSON response regex ile bulundu: Size nas\ıl yard\ımc\ı olabilirim? Rezervasyon yap...
2025-04-17 18:24:08,669 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 181 (char 180)
2025-04-17 18:24:08,669 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 18:26:25,178 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 18:26:25,181 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:25,181 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:25,181 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:25,181 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:26:25,193 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:26:25,193 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:26:25,420 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:26:25,420 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:26:25,421 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:26:25,423 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:26:25,423 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:26:25,424 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:26:25,428 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:26:25,429 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:26:28,450 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 18:26:28,460 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:28,460 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:28,461 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 18:26:28,461 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 18:26:28,470 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 18:26:28,471 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 18:26:28,718 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 18:26:28,718 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 18:26:28,719 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 18:26:28,720 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 18:26:28,721 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 18:26:28,721 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 18:26:28,723 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 18:26:28,724 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 18:26:28,734 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18cc7d21-0181-42a1-b40b-63aa3f27173f'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='01a24b88-147b-4235-9d6c-ffae9ae72f39')]...[{'name': 'get_alerts', 'description': 'Get weather alerts for a US state.\n\n    Args:\n        state: Two-letter US state code (e.g. CA, NY)\n    ', 'parameters': {'properties': {'state': {'title': 'State', 'type': 'string'}}, 'required': ['state'], 'title': 'get_alertsArguments', 'type': 'object'}}, {'name': 'get_forecast', 'description': 'Get weather forecast for a location.\n\n    Args:\n        latitude: Latitude of the location\n        longitude: Longitude of the location\n    ', 'parameters': {'properties': {'latitude': {'title': 'Latitude', 'type': 'number'}, 'longitude': {'title': 'Longitude', 'type': 'number'}}, 'required': ['latitude', 'longitude'], 'title': 'get_forecastArguments', 'type': 'object'}}]
2025-04-17 18:26:28,735 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='18cc7d21-0181-42a1-b40b-63aa3f27173f'), HumanMessage(content='merhaba', additional_kwargs={}, response_metadata={}, id='01a24b88-147b-4235-9d6c-ffae9ae72f39')]"
2025-04-17 18:26:28,735 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 18:26:30,448 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 18:26:30,450 - models.llm - ERROR - Fonksiyon çağrısı işleme hatası: the JSON object must be str, bytes or bytearray, not MapComposite
2025-04-17 18:26:31,501 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 18:26:31,504 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 18:26:31,506 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Ara\u00e7 bir hata ile kar\u015f\u0131la\u015ft\u0131. Hata mesaj\u0131, bir fonksiyon...
2025-04-17 18:26:31,506 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 18:26:31,507 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 18:26:31,507 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 18:26:31,507 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Ara\u00e7 bir hata ile kar\u015f\u0131la\u015ft\u0131. Hata mesaj\u0131, bir fonksiyon...
2025-04-17 18:26:31,508 - __main__ - INFO - ✅ JSON response regex ile bulundu: Araç bir hata ile karşılaştı. Hata mesajı, bir fon...
2025-04-17 19:59:18,747 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 19:59:18,753 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 19:59:18,753 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 19:59:18,753 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 19:59:18,754 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 19:59:18,776 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 19:59:18,780 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 19:59:19,231 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 19:59:19,231 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 19:59:19,233 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 19:59:19,234 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 19:59:19,234 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 19:59:19,235 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 19:59:19,237 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 19:59:19,239 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:14:31,339 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:14:31,344 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 20:14:31,344 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 20:14:31,344 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/weather.py
2025-04-17 20:14:31,345 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:14:31,370 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:14:31,371 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:14:31,701 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:14:31,701 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:14:31,702 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_alerts', 'get_forecast']
2025-04-17 20:14:31,704 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:14:31,704 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:14:31,705 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:14:31,707 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:14:31,708 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:15:01,754 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:15:01,757 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:01,757 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:01,757 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:01,757 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:15:01,764 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:15:01,765 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:15:02,114 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:15:02,114 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:15:02,116 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:15:02,118 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:15:02,118 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:15:02,119 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:15:02,121 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:15:02,122 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:15:12,840 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:15:12,853 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:12,854 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:12,854 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:12,854 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:15:12,871 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:15:12,872 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:15:13,280 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:15:13,280 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:15:13,281 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:15:13,283 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:15:13,283 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:15:13,284 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:15:13,286 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:15:13,287 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:15:13,300 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63ce187b-af48-443b-80a9-c8f2d53d4d13'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7c29841b-5565-41de-9451-59e700744871')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:15:13,302 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='63ce187b-af48-443b-80a9-c8f2d53d4d13'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7c29841b-5565-41de-9451-59e700744871')]"
2025-04-17 20:15:13,302 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:15:13,541 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:15:13,545 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:13,545 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:13,545 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:15:13,545 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:15:13,555 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:15:13,556 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:15:13,867 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:15:13,867 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:15:13,868 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:15:13,870 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:15:13,870 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:15:13,871 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:15:13,874 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:15:13,874 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:15:14,244 - models.llm - ERROR - Gemini API çağrısı hatası: 400 For controlled generation of only function calls (forced function calling), please set 'tool_config.function_calling_config.mode' field to ANY instead of populating 'response_mime_type' and 'response_schema' fields. For more details, see: https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/function-calling#tool-config
2025-04-17 20:15:15,260 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:15:15,260 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:15:15,261 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "to...
2025-04-17 20:15:15,262 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:15:15,262 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:15:15,262 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:15:15,262 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "to...
2025-04-17 20:15:15,262 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-17 20:23:14,006 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:23:14,009 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:14,009 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:14,009 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:14,009 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:23:14,017 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:23:14,017 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:23:14,326 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:23:14,326 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:23:14,328 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:23:14,330 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:23:14,330 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:23:14,331 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:23:14,334 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:23:14,336 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:23:20,540 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:23:20,546 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:20,546 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:20,547 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:23:20,547 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:23:20,555 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:23:20,556 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:23:20,893 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:23:20,894 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:23:20,895 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:23:20,902 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:23:20,902 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:23:20,904 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:23:20,909 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:23:20,909 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:23:20,923 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66774538-629d-4901-ab2d-be50eff12216'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='8dd32f72-96dc-423b-b0c0-43f8bd9b8c98')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:23:20,924 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66774538-629d-4901-ab2d-be50eff12216'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='8dd32f72-96dc-423b-b0c0-43f8bd9b8c98')]"
2025-04-17 20:23:20,925 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:23:20,925 - models.llm - ERROR - Gemini API çağrısı hatası: module 'google.generativeai.types' has no attribute 'ToolConfig'
2025-04-17 20:23:23,169 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:23:23,172 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66774538-629d-4901-ab2d-be50eff12216'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='8dd32f72-96dc-423b-b0c0-43f8bd9b8c98')]
2025-04-17 20:23:23,172 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:23:23,172 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:23:23,174 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='66774538-629d-4901-ab2d-be50eff12216'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='8dd32f72-96dc-423b-b0c0-43f8bd9b8c98')]
2025-04-17 20:23:23,174 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-17 20:23:23,174 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-17 20:23:23,174 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:23:23,175 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:23:23,176 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:23:23,176 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:23:23,176 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:23:23,177 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:23:23,177 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-17 20:23:23,241 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 149 (char 148)
2025-04-17 20:23:23,241 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:27:28,099 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:27:28,103 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:28,103 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:28,103 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:28,104 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:27:28,126 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:27:28,127 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:27:28,521 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:27:28,521 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:27:28,523 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:27:28,525 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:27:28,525 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:27:28,526 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:27:28,529 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:27:28,530 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:27:33,143 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:27:33,153 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:33,153 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:33,154 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:27:33,154 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:27:33,168 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:27:33,172 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:27:33,468 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:27:33,468 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:27:33,470 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:27:33,471 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:27:33,472 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:27:33,472 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:27:33,474 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:27:33,475 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:27:33,485 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='df5411c6-dcd6-4a86-bb16-144e3d47d0c0'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='6981f467-0d6b-4700-a5d7-89b01fe52a1c')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:27:33,486 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='df5411c6-dcd6-4a86-bb16-144e3d47d0c0'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='6981f467-0d6b-4700-a5d7-89b01fe52a1c')]"
2025-04-17 20:27:33,486 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:27:33,486 - models.llm - ERROR - Gemini API çağrısı hatası: module 'google.generativeai.types' has no attribute 'ToolConfig'
2025-04-17 20:27:34,844 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:27:34,847 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='df5411c6-dcd6-4a86-bb16-144e3d47d0c0'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='6981f467-0d6b-4700-a5d7-89b01fe52a1c')]
2025-04-17 20:27:34,847 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:27:34,847 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:27:34,851 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='df5411c6-dcd6-4a86-bb16-144e3d47d0c0'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='6981f467-0d6b-4700-a5d7-89b01fe52a1c')]
2025-04-17 20:27:34,851 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-17 20:27:34,852 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-17 20:27:34,853 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:27:34,855 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:27:34,855 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:27:34,855 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:27:34,856 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:27:34,856 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:27:34,857 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-17 20:27:34,928 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 149 (char 148)
2025-04-17 20:27:34,929 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:28:19,965 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:28:19,968 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:19,968 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:19,968 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:19,968 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:28:19,982 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:28:19,983 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:28:20,387 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:28:20,388 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:28:20,389 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:28:20,391 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:28:20,391 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:28:20,392 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:28:20,395 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:28:20,396 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:28:25,269 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:28:25,277 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:25,278 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:25,278 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:25,278 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:28:25,291 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:28:25,292 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:28:25,667 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:28:25,667 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:28:25,669 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:28:25,671 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:28:25,672 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:28:25,672 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:28:25,675 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:28:25,676 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:28:25,697 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fc4fdd1e-2383-45b0-bd64-3e18d15339c3'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='ea9b61f3-b0df-4100-ae7d-dc1210542e67')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:28:25,698 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='fc4fdd1e-2383-45b0-bd64-3e18d15339c3'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='ea9b61f3-b0df-4100-ae7d-dc1210542e67')]"
2025-04-17 20:28:25,698 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:28:27,274 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:28:27,274 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:28:27,274 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:28:28,105 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:28:28,107 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:28:28,110 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:28:28,110 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:28:28,111 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:28:28,111 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:28:28,111 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:28:28,111 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir araç kullanmaya çalıştınız ama sistem o aracı ...
2025-04-17 20:28:57,491 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:28:57,506 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:57,507 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:57,507 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:28:57,508 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:28:57,523 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:28:57,524 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:28:57,940 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:28:57,940 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:28:57,941 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:28:57,943 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:28:57,943 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:28:57,944 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:28:57,948 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:28:57,949 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:28:57,952 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a3a4807-9218-4e9a-9f87-cab338f3e735'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4dc9036c-5d2e-4089-90a6-a5070047acea'), HumanMessage(content='Tüm rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='0480edb0-f210-4e4c-bfb7-da1c026411f4')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:28:57,953 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a3a4807-9218-4e9a-9f87-cab338f3e735'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4dc9036c-5d2e-4089-90a6-a5070047acea'), HumanMessage(content='Tüm rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='0480edb0-f210-4e4c-bfb7-da1c026411f4')]"
2025-04-17 20:28:57,954 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:28:59,737 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:28:59,737 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:28:59,738 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:29:00,444 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:29:00,445 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:29:00,446 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:29:00,446 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:29:00,446 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:29:00,446 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:29:00,446 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:29:00,446 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir araç kullanmaya çalıştınız ama sistem o aracı ...
2025-04-17 20:30:29,815 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:30:29,818 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:29,818 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:29,818 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:29,818 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:30:29,828 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:30:29,829 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:30:30,218 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:30:30,218 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:30:30,220 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:30:30,223 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:30:30,224 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:30:30,225 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:30:30,232 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:30:30,235 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:30:34,276 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:30:34,283 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:34,284 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:34,284 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:30:34,284 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:30:34,295 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:30:34,296 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:30:34,637 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:30:34,637 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:30:34,638 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:30:34,640 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:30:34,640 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:30:34,641 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:30:34,643 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:30:34,644 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:30:34,658 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d03f261e-af78-4c30-80ae-34007514bea8'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='bd3e48ec-c08f-4f9a-8c88-3a6a54024173')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:30:34,659 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d03f261e-af78-4c30-80ae-34007514bea8'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='bd3e48ec-c08f-4f9a-8c88-3a6a54024173')]"
2025-04-17 20:30:34,659 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:30:36,201 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:30:36,201 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:30:36,201 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:30:37,158 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:30:37,160 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:30:37,161 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:30:37,162 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:30:37,162 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:30:37,162 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:30:37,162 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:30:37,163 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir araç kullanmaya çalıştınız ama sistem o aracı ...
2025-04-17 20:32:44,900 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:32:44,903 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:44,903 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:44,903 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:44,903 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:32:44,920 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:32:44,921 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:32:45,264 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:32:45,264 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:32:45,266 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:32:45,267 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:32:45,268 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:32:45,269 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:32:45,271 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:32:45,273 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:32:47,704 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:32:47,711 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:47,711 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:47,711 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:32:47,711 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:32:47,725 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:32:47,725 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:32:48,161 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:32:48,161 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:32:48,163 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:32:48,165 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:32:48,165 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:32:48,166 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:32:48,170 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:32:48,173 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:32:48,189 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19583001-f0c7-459a-b314-6f53ee63665e'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='52f8e569-ac4c-46b5-943b-f175d68165f1')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:32:48,190 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='19583001-f0c7-459a-b314-6f53ee63665e'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='52f8e569-ac4c-46b5-943b-f175d68165f1')]"
2025-04-17 20:32:48,190 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:32:49,605 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:32:49,605 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:32:49,605 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:32:50,320 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:32:50,324 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:32:50,328 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:32:50,328 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:32:50,328 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:32:50,329 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:32:50,329 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:32:50,329 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir araç kullanmaya çalıştınız ama sistem o aracı ...
2025-04-17 20:52:22,889 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:52:22,912 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:22,912 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:22,912 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:22,913 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:52:22,946 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:52:22,946 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:52:23,449 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:52:23,449 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:52:23,450 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:52:23,453 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:52:23,454 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:52:23,455 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:52:23,459 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:52:23,475 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:52:23,507 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='78207e23-4dc6-4538-a5f0-6a898a2eee9a'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='89161957-1af8-41c2-906c-174f723781cf'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='c0515e27-f7ef-4a05-b375-f07f4a64ff26')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:52:23,513 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='78207e23-4dc6-4538-a5f0-6a898a2eee9a'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='89161957-1af8-41c2-906c-174f723781cf'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='c0515e27-f7ef-4a05-b375-f07f4a64ff26')]"
2025-04-17 20:52:23,529 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:52:24,892 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:52:24,892 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:52:24,892 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:52:25,570 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:52:25,571 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:52:25,573 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:52:25,573 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:52:25,574 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:52:25,574 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:52:25,574 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir ara\u00e7 kullanmaya \u00e7al\u0131\u015ft\u0131n\u0131z ama sistem o arac\u0131 b...
2025-04-17 20:52:25,574 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir araç kullanmaya çalıştınız ama sistem o aracı ...
2025-04-17 20:52:37,591 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:52:37,593 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:37,593 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:37,593 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:37,593 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:52:37,603 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:52:37,604 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:52:37,982 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:52:37,982 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:52:37,983 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:52:37,985 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:52:37,986 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:52:37,987 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:52:37,991 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:52:37,992 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:52:41,009 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:52:41,018 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:41,018 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:41,019 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:52:41,019 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:52:41,028 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:52:41,028 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:52:41,409 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:52:41,410 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:52:41,411 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:52:41,415 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:52:41,415 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:52:41,416 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:52:41,419 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:52:41,420 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:52:41,437 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2e7cb7fe-186f-43dc-b792-8ec2a87d1469'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='140e9740-c2fa-474a-bd5e-e380909edf50')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:52:41,439 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2e7cb7fe-186f-43dc-b792-8ec2a87d1469'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='140e9740-c2fa-474a-bd5e-e380909edf50')]"
2025-04-17 20:52:41,439 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:52:42,958 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 20:52:42,959 - models.llm - WARNING - Fonksiyon çağrısı argümanları None: 
2025-04-17 20:52:42,959 - models.llm - INFO - Fonksiyon çağrısı: , Argümanlar: {}
2025-04-17 20:52:43,854 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:52:43,856 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:52:43,859 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bir hata olu\u015ftu. Sistem, istenen arac\u0131 bulamad\u0131. Ara\u00e7 ad\u0131 bel...
2025-04-17 20:52:43,859 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:52:43,860 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:52:43,860 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:52:43,860 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bir hata olu\u015ftu. Sistem, istenen arac\u0131 bulamad\u0131. Ara\u00e7 ad\u0131 bel...
2025-04-17 20:52:43,861 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bir hata oluştu. Sistem, istenen aracı bulamadı. A...
2025-04-17 20:54:00,534 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:54:00,537 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:00,537 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:00,537 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:00,537 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:54:00,607 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:54:00,636 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:54:01,044 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:54:01,044 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:54:01,046 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:54:01,049 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:54:01,049 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:54:01,053 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:54:01,058 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:54:01,059 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:54:05,323 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:54:05,333 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:05,333 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:05,333 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:05,333 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:54:05,350 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:54:05,351 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:54:05,721 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:54:05,721 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:54:05,722 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:54:05,724 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:54:05,724 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:54:05,725 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:54:05,727 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:54:05,728 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:54:05,742 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6c985eb3-9ee5-437f-acd3-1a0e874d8e50'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7d252073-e67f-4788-8f30-b26fb6667ef0')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:54:05,743 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6c985eb3-9ee5-437f-acd3-1a0e874d8e50'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7d252073-e67f-4788-8f30-b26fb6667ef0')]"
2025-04-17 20:54:05,744 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:54:05,745 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:54:07,325 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:54:07,329 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6c985eb3-9ee5-437f-acd3-1a0e874d8e50'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7d252073-e67f-4788-8f30-b26fb6667ef0')]
2025-04-17 20:54:07,329 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:54:07,330 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:54:07,333 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6c985eb3-9ee5-437f-acd3-1a0e874d8e50'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7d252073-e67f-4788-8f30-b26fb6667ef0')]
2025-04-17 20:54:07,334 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-17 20:54:07,334 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-17 20:54:07,335 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:54:07,337 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:54:07,338 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:54:07,338 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:54:07,338 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:54:07,338 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:54:07,339 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-17 20:54:07,411 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 149 (char 148)
2025-04-17 20:54:07,413 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:54:22,577 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:54:22,592 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 149 (char 148)
2025-04-17 20:54:22,592 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:54:22,593 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:22,593 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:22,593 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:54:22,594 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:54:22,622 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:54:22,622 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:54:23,171 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:54:23,171 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:54:23,174 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:54:23,175 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:54:23,176 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:54:23,177 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:54:23,180 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:54:23,180 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:54:23,184 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:54:23,185 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]"
2025-04-17 20:54:23,186 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:54:23,186 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:54:24,477 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:54:24,478 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]
2025-04-17 20:54:24,478 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:54:24,478 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:54:24,478 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "H\u00fcseyin ALTIKULA\u00c7"}
2025-04-17 20:54:24,480 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]
2025-04-17 20:54:24,480 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-17 20:54:24,480 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-17 20:54:24,481 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='5049b1c0-67c5-41b2-a3e9-685aee8545fd'), HumanMessage(content='{"customer_name": "H\\u00fcseyin ALTIKULA\\u00c7"}', additional_kwargs={}, response_metadata={}, id='aa482b2e-0c17-4d98-b47f-fc05f07e9b20')]
2025-04-17 20:54:24,481 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: Hüseyin ALTIKULAÇ, Tam Eşleşme: True
2025-04-17 20:54:24,481 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=Hüseyin ALTIKULAÇ, Oda Tipi=None, Tam Eşleşme=True
2025-04-17 20:54:24,481 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-17 20:54:28,843 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 7
2025-04-17 20:54:28,843 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 2
2025-04-17 20:54:28,843 - agents.tools_agents - INFO - İsme göre filtrelendi: 2 sonuç
2025-04-17 20:54:28,843 - agents.tools_agents - INFO - Fetch reservations completed with 2 results
2025-04-17 20:54:28,843 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:54:28,844 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5f3dd299-a254-4521-adff-8d130f931a7e'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='fc1a2f77-547f-4a86-bb51-9002e48212ac'), HumanMessage(content='hüseyin altıkulaç', additional_kwargs={}, response_metadata={}, id='7885d887-168f-4acf-b213-311010f9be12')]"
2025-04-17 20:54:28,844 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:54:28,844 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:54:32,529 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:54:32,530 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:54:32,532 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "```json\n{\"response\":\"H\\\\u00fcseyin ALTIKULA\\\\u00c7 ad\\\\u0131na olan rezervas...
2025-04-17 20:54:32,533 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:54:32,533 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:54:32,533 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:54:32,533 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "```json\n{\"response\":\"H\\\\u00fcseyin ALTIKULA\\\\u00c7 ad\\\\u0131na olan rezervas...
2025-04-17 20:54:32,533 - __main__ - INFO - ✅ JSON response regex ile bulundu: ```json
{\...
2025-04-17 20:54:32,618 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 13 (char 12)
2025-04-17 20:54:32,619 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:55:25,178 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:55:25,181 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:25,182 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:25,182 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:25,182 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:55:25,196 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:55:25,196 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:55:25,632 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:55:25,632 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:55:25,633 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:55:25,635 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:55:25,636 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:55:25,637 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:55:25,641 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:55:25,642 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:55:31,926 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:55:31,930 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:31,930 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:31,930 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:31,930 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:55:31,937 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:55:31,937 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:55:32,233 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:55:32,233 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:55:32,234 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:55:32,236 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:55:32,236 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:55:32,237 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:55:32,239 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:55:32,239 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:55:32,250 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a1e6037-4211-4bb1-8a3a-94d47e9e6aa6'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='35ea3468-1643-4ad9-b34b-2ae0738359da')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:55:32,250 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a1e6037-4211-4bb1-8a3a-94d47e9e6aa6'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='35ea3468-1643-4ad9-b34b-2ae0738359da')]"
2025-04-17 20:55:32,250 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:55:32,250 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:55:33,766 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:55:33,771 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:55:33,772 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a1e6037-4211-4bb1-8a3a-94d47e9e6aa6'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='35ea3468-1643-4ad9-b34b-2ae0738359da')]
2025-04-17 20:55:33,772 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:55:33,773 - agents.router_agent - INFO - Rezervasyon sorgusu oluşturuldu: {"customer_name": "MCP"}
2025-04-17 20:55:33,776 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9a1e6037-4211-4bb1-8a3a-94d47e9e6aa6'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='35ea3468-1643-4ad9-b34b-2ae0738359da')]
2025-04-17 20:55:33,777 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: fetch_reservations_tool
2025-04-17 20:55:33,778 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: fetch_reservations_tool
2025-04-17 20:55:33,779 - agents.tools_agents - INFO - FetchReservationsAgent invoked with data: [HumanMessage(content='{"customer_name": "MCP"}', additional_kwargs={}, response_metadata={}, id='c1be58f5-d1d9-41e8-a538-eb98abc80b1b'), HumanMessage(content='{"customer_name": "MCP"}', additional_kwargs={}, response_metadata={}, id='bb660ea3-ed1d-4b05-95e0-0af1c8cf052a')]
2025-04-17 20:55:33,779 - agents.tools_agents - INFO - Müşteri adına göre filtreleniyor: MCP, Tam Eşleşme: True
2025-04-17 20:55:33,779 - services.sheets_service - INFO - Müşteri adı filtreleme: Müşteri=MCP, Oda Tipi=None, Tam Eşleşme=True
2025-04-17 20:55:33,779 - services.sheets_service - INFO - Kimlik bilgileri dosyadan okunuyor: google_credentials.json
2025-04-17 20:55:37,759 - services.sheets_service - INFO - Filtreleme öncesi toplam kayıt: 7
2025-04-17 20:55:37,759 - services.sheets_service - INFO - Filtreleme sonrası eşleşen kayıt: 0
2025-04-17 20:55:37,759 - agents.tools_agents - INFO - İsme göre filtrelendi: 0 sonuç
2025-04-17 20:55:37,759 - agents.tools_agents - INFO - Fetch reservations completed with 0 results
2025-04-17 20:55:37,761 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:55:45,822 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:55:45,832 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:45,832 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:45,833 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:55:45,833 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:55:45,848 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:55:45,850 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:55:46,253 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:55:46,253 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:55:46,255 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:55:46,257 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:55:46,257 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:55:46,258 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:55:46,261 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:55:46,262 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:55:46,264 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0cccee16-4c5c-45e1-878d-ed176aa7e27c'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6000569a-5f7b-48b4-b194-a07d66e8a1a6'), HumanMessage(content='TOOLLARIN NELER', additional_kwargs={}, response_metadata={}, id='0af9553d-225c-4484-8271-fd99803d8b84')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:55:46,265 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0cccee16-4c5c-45e1-878d-ed176aa7e27c'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6000569a-5f7b-48b4-b194-a07d66e8a1a6'), HumanMessage(content='TOOLLARIN NELER', additional_kwargs={}, response_metadata={}, id='0af9553d-225c-4484-8271-fd99803d8b84')]"
2025-04-17 20:55:46,265 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:55:46,265 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:55:47,667 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:55:47,670 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0cccee16-4c5c-45e1-878d-ed176aa7e27c'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6000569a-5f7b-48b4-b194-a07d66e8a1a6'), HumanMessage(content='TOOLLARIN NELER', additional_kwargs={}, response_metadata={}, id='0af9553d-225c-4484-8271-fd99803d8b84')]
2025-04-17 20:55:47,671 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:55:47,671 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:55:47,676 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0cccee16-4c5c-45e1-878d-ed176aa7e27c'), HumanMessage(content='MCP ile rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6000569a-5f7b-48b4-b194-a07d66e8a1a6'), HumanMessage(content='TOOLLARIN NELER', additional_kwargs={}, response_metadata={}, id='0af9553d-225c-4484-8271-fd99803d8b84')]
2025-04-17 20:55:47,677 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-17 20:55:47,678 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-17 20:55:47,680 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:55:47,688 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fteri ad\u0131na olan rezervasyonlar\u0131 getirmek istedi\u011finiz...
2025-04-17 20:55:47,689 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:55:47,689 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:55:47,689 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:55:47,689 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fteri ad\u0131na olan rezervasyonlar\u0131 getirmek istedi\u011finiz...
2025-04-17 20:55:47,690 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşteri adına olan rezervasyonları getirmek ...
2025-04-17 20:55:47,790 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 174 (char 173)
2025-04-17 20:55:47,790 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:56:25,755 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:56:25,757 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:25,757 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:25,757 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:25,758 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:56:25,770 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:56:25,770 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:56:26,158 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:56:26,159 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:56:26,160 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:56:26,162 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:56:26,162 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:56:26,163 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:56:26,166 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:56:26,169 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:56:29,177 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:56:29,184 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:29,185 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:29,185 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:56:29,185 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:56:29,193 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:56:29,193 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:56:29,556 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:56:29,556 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:56:29,558 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:56:29,559 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:56:29,560 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:56:29,560 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:56:29,563 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:56:29,564 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:56:29,579 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d95529e1-a5c4-4c03-92b4-a9fec6fc0018'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='d37b67f8-85b4-4e15-8737-540485a9ac41')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:56:29,579 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d95529e1-a5c4-4c03-92b4-a9fec6fc0018'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='d37b67f8-85b4-4e15-8737-540485a9ac41')]"
2025-04-17 20:56:29,580 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:56:29,581 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:56:31,011 - agent_graph.graph - INFO - İşlem tespit edildi (action_type: list_reservations), data_extractor'a yönlendiriliyor
2025-04-17 20:56:31,011 - agents.router_agent - INFO - DataExtractorAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d95529e1-a5c4-4c03-92b4-a9fec6fc0018'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='d37b67f8-85b4-4e15-8737-540485a9ac41')]
2025-04-17 20:56:31,012 - agents.router_agent - INFO - Tespit edilen action_type: list_reservations
2025-04-17 20:56:31,012 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:56:31,013 - agents.router_agent - INFO - RouterAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d95529e1-a5c4-4c03-92b4-a9fec6fc0018'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='d37b67f8-85b4-4e15-8737-540485a9ac41')]
2025-04-17 20:56:31,013 - agents.router_agent - INFO - RouterAgent yönlendirme kararı: end
2025-04-17 20:56:31,014 - agent_graph.graph - INFO - Route_request fonksiyonu çağrıldı, yönlendirme: end
2025-04-17 20:56:31,014 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:56:31,015 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:56:31,015 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:56:31,015 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:56:31,015 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:56:31,015 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Hangi m\u00fc\u015fterinin rezervasyonlar\u0131n\u0131 g\u00f6rmek istiyorsunuz?", "ac...
2025-04-17 20:56:31,015 - __main__ - INFO - ✅ JSON response regex ile bulundu: Hangi müşterinin rezervasyonlarını görmek istiyors...
2025-04-17 20:56:31,072 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting value: line 1 column 149 (char 148)
2025-04-17 20:56:31,072 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 20:58:46,536 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 20:58:46,539 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:46,540 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:46,540 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:46,540 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:58:46,558 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:58:46,560 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:58:46,953 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:58:46,954 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:58:46,955 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:58:46,957 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:58:46,958 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:58:46,958 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:58:46,962 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:58:46,963 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:58:50,898 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 20:58:50,905 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:50,905 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:50,905 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 20:58:50,906 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 20:58:50,915 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 20:58:50,916 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 20:58:51,225 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 20:58:51,225 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 20:58:51,226 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 20:58:51,228 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 20:58:51,228 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 20:58:51,229 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 20:58:51,231 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 20:58:51,232 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 20:58:51,245 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d647cf8a-8292-4588-bb70-e229f362e96f'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='720474d1-2c6f-4f86-84d5-8683796866c1')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 20:58:51,245 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='d647cf8a-8292-4588-bb70-e229f362e96f'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='720474d1-2c6f-4f86-84d5-8683796866c1')]"
2025-04-17 20:58:51,245 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 20:58:51,246 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 20:58:54,953 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 20:58:54,956 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 20:58:54,959 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 20:58:54,960 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 20:58:54,960 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 20:58:54,960 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 20:58:54,960 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 20:58:54,961 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

```js...
2025-04-17 21:00:20,722 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:00:20,726 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:20,726 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:20,726 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:20,726 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:00:20,733 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:00:20,734 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:00:21,105 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:00:21,105 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:00:21,107 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:00:21,109 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:00:21,109 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:00:21,110 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:00:21,115 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:00:21,116 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:00:26,787 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:00:26,794 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:26,794 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:26,795 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:00:26,795 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:00:26,807 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:00:26,808 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:00:27,102 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:00:27,103 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:00:27,104 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:00:27,105 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:00:27,106 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:00:27,106 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:00:27,108 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:00:27,109 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:00:27,119 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c58b4ec0-ff4e-4d4d-a24b-1a3a16c78ed0'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5dbf2e2d-2c9c-4cba-afe6-6c1640235a41')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:00:27,120 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c58b4ec0-ff4e-4d4d-a24b-1a3a16c78ed0'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5dbf2e2d-2c9c-4cba-afe6-6c1640235a41')]"
2025-04-17 21:00:27,120 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'inputSchema', araç: get_reservations
2025-04-17 21:00:27,120 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'inputSchema', araç: add_new_reservation
2025-04-17 21:00:27,120 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:00:28,477 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:00:28,479 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:00:28,482 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n\n\u015e...
2025-04-17 21:00:28,483 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:00:28,483 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:00:28,483 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:00:28,483 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n\n\u015e...
2025-04-17 21:00:28,484 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtları aşağıdadır:

[]

Şu a...
2025-04-17 21:02:24,436 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:02:24,442 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:24,442 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:24,442 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:24,442 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:02:24,463 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:02:24,464 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:02:24,811 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:02:24,811 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:02:24,812 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:02:24,814 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:02:24,814 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:02:24,815 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:02:24,818 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:02:24,820 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:02:28,612 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:02:28,619 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:28,620 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:28,620 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:02:28,620 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:02:28,631 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:02:28,631 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:02:28,973 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:02:28,973 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:02:28,975 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:02:28,976 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:02:28,977 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:02:28,977 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:02:28,980 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:02:28,981 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:02:28,995 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3001b092-8073-46e8-8afd-34ef85a1ce26'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6947bbe1-8d3a-4f20-a895-5a8b6466a69e')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:02:28,995 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='3001b092-8073-46e8-8afd-34ef85a1ce26'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='6947bbe1-8d3a-4f20-a895-5a8b6466a69e')]"
2025-04-17 21:02:28,996 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'inputSchema', araç: get_reservations
2025-04-17 21:02:28,996 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'inputSchema', araç: add_new_reservation
2025-04-17 21:02:28,996 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:02:30,432 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:02:30,433 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:02:30,434 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:02:30,435 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:02:30,435 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:02:30,435 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:02:30,435 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:02:30,436 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

```js...
2025-04-17 21:03:36,680 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:03:36,684 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:36,684 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:36,684 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:36,684 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:03:36,699 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:03:36,699 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:03:37,098 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:03:37,098 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:03:37,100 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:03:37,102 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:03:37,103 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:03:37,103 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:03:37,107 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:03:37,108 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:03:40,890 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:03:40,899 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:40,899 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:40,899 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:03:40,899 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:03:40,910 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:03:40,911 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:03:41,258 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:03:41,258 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:03:41,260 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:03:41,263 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:03:41,263 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:03:41,264 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:03:41,268 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:03:41,269 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:03:41,294 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7708433b-a2e6-49ab-9038-875b70d62626'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7ade1874-4611-4c09-b010-e101550bdbea')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:03:41,295 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='7708433b-a2e6-49ab-9038-875b70d62626'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='7ade1874-4611-4c09-b010-e101550bdbea')]"
2025-04-17 21:03:41,295 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'parameters', araç: get_reservations
2025-04-17 21:03:41,295 - models.llm - ERROR - Araç şeması işlenirken hata: 'dict' object has no attribute 'parameters', araç: add_new_reservation
2025-04-17 21:03:41,295 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:03:43,744 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:03:43,745 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:03:43,746 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anlad\u0131m, rezervasyon kay\u0131tlar\u0131n\u0131 listelemek istiyorsunuz.\n\n```to...
2025-04-17 21:03:43,746 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:03:43,746 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:03:43,746 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:03:43,747 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Anlad\u0131m, rezervasyon kay\u0131tlar\u0131n\u0131 listelemek istiyorsunuz.\n\n```to...
2025-04-17 21:03:43,747 - __main__ - INFO - ✅ JSON response regex ile bulundu: Anladım, rezervasyon kayıtlarını listelemek istiyo...
2025-04-17 21:04:53,566 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:04:53,568 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:53,568 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:53,569 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:53,569 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:04:53,581 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:04:53,581 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:04:53,960 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:04:53,960 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:04:53,961 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:04:53,964 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:04:53,965 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:04:53,966 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:04:53,970 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:04:53,972 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:04:58,672 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:04:58,681 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:58,681 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:58,681 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:04:58,681 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:04:58,694 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:04:58,694 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:04:59,057 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:04:59,057 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:04:59,059 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:04:59,060 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:04:59,061 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:04:59,062 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:04:59,064 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:04:59,065 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:04:59,081 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e0c53e11-7d42-45cf-b5c5-b2c46b3d1f48'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='a4876f61-0527-43ad-86f1-87163a8b0070')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:04:59,081 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e0c53e11-7d42-45cf-b5c5-b2c46b3d1f48'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='a4876f61-0527-43ad-86f1-87163a8b0070')]"
2025-04-17 21:04:59,083 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 21:04:59,084 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 21:05:00,956 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:05:00,960 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:05:00,962 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:05:00,963 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:05:00,963 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:05:00,964 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:05:00,964 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:05:00,964 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

```js...
2025-04-17 21:06:09,037 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:06:09,040 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:09,040 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:09,040 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:09,040 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:06:09,048 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:06:09,049 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:06:09,418 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:06:09,419 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:06:09,420 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:06:09,422 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:06:09,422 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:06:09,423 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:06:09,429 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:06:09,433 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:06:12,727 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:06:12,735 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:12,735 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:12,735 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:06:12,735 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:06:12,745 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:06:12,746 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:06:13,053 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:06:13,053 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:06:13,055 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:06:13,056 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:06:13,057 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:06:13,057 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:06:13,059 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:06:13,060 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:06:13,074 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='496a8502-204d-4f02-81d9-7c24d0779490'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='edcad4c2-ba1d-483b-be4e-dbc60e786ed0')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:06:13,075 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='496a8502-204d-4f02-81d9-7c24d0779490'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='edcad4c2-ba1d-483b-be4e-dbc60e786ed0')]"
2025-04-17 21:06:13,075 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 21:06:13,076 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: name
2025-04-17 21:06:14,378 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:06:14,379 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:06:14,381 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131daki gibidir:\n\n[]\n\n\u01...
2025-04-17 21:06:14,382 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:06:14,382 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:06:14,382 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:06:14,382 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131daki gibidir:\n\n[]\n\n\u01...
2025-04-17 21:06:14,383 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtları aşağıdaki gibidir:

[...
2025-04-17 21:08:57,826 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:08:57,829 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:08:57,829 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:08:57,829 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:08:57,829 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:08:57,841 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:08:57,842 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:08:58,237 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:08:58,237 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:08:58,238 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:08:58,240 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:08:58,241 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:08:58,242 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:08:58,246 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:08:58,250 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:09:01,233 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:09:01,240 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:01,240 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:01,240 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:01,240 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:09:01,252 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:09:01,252 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:09:01,616 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:09:01,616 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:09:01,618 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:09:01,620 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:09:01,620 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:09:01,621 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:09:01,624 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:09:01,626 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:09:01,642 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='98269425-b894-493e-bfcf-e045e1c1be43'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='b5fe07be-8f27-49c4-ba28-a7c20a38da82')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:09:01,642 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='98269425-b894-493e-bfcf-e045e1c1be43'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='b5fe07be-8f27-49c4-ba28-a7c20a38da82')]"
2025-04-17 21:09:01,643 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 21:09:01,644 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: title
2025-04-17 21:09:02,894 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:09:02,896 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:09:02,899 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:09:02,900 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:09:02,900 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:09:02,901 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:09:02,901 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:09:02,901 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

[]

Ş...
2025-04-17 21:09:53,586 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:09:53,589 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:53,589 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:53,589 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:53,589 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:09:53,601 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:09:53,602 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:09:53,963 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:09:53,964 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:09:53,966 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:09:53,968 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:09:53,969 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:09:53,970 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:09:53,976 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:09:53,978 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:09:55,963 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:09:55,970 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:55,970 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:55,970 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:09:55,970 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:09:55,979 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:09:55,979 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:09:56,352 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:09:56,352 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:09:56,354 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:09:56,355 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:09:56,356 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:09:56,356 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:09:56,359 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:09:56,360 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:09:56,373 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e2165d4d-1a93-4bdf-97d1-d0ab22d62f9e'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='377f1b7b-b045-4e96-9d62-5f0797ad5dd1')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:09:56,373 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e2165d4d-1a93-4bdf-97d1-d0ab22d62f9e'), HumanMessage(content='test', additional_kwargs={}, response_metadata={}, id='377f1b7b-b045-4e96-9d62-5f0797ad5dd1')]"
2025-04-17 21:09:56,373 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: get_reservations
2025-04-17 21:09:56,373 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: add_new_reservation
2025-04-17 21:09:56,374 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:09:57,985 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:09:57,987 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:09:57,989 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Anla\u015f\u0131ld\u0131. Size nas\u0131l yard\u0131mc\u0131 olabilirim? \"test\" ifad...
2025-04-17 21:09:57,990 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:09:57,990 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:09:57,990 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:09:57,991 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Anla\u015f\u0131ld\u0131. Size nas\u0131l yard\u0131mc\u0131 olabilirim? \"test\" ifad...
2025-04-17 21:09:57,991 - __main__ - INFO - ✅ JSON response regex ile bulundu: Anlaşıldı. Size nasıl yardımcı olabilirim? \...
2025-04-17 21:11:38,522 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:11:38,525 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:38,526 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:38,526 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:38,526 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:11:38,546 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:11:38,547 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:11:38,872 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:11:38,872 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:11:38,873 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:11:38,875 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:11:38,875 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:11:38,876 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:11:38,878 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:11:38,881 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:11:42,817 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:11:42,822 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:42,822 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:42,822 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:11:42,822 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:11:42,828 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:11:42,829 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:11:43,135 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:11:43,135 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:11:43,137 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:11:43,138 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:11:43,139 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:11:43,139 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:11:43,141 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:11:43,142 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:11:43,153 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ce34a6d2-75c6-4fb6-9175-f063fc0792d2'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='eb1f0ddd-5957-47e1-b310-f189398890f1')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:11:43,153 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ce34a6d2-75c6-4fb6-9175-f063fc0792d2'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='eb1f0ddd-5957-47e1-b310-f189398890f1')]"
2025-04-17 21:11:43,153 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: get_reservations
2025-04-17 21:11:43,153 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: add_new_reservation
2025-04-17 21:11:43,153 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:11:44,328 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:11:44,331 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:11:44,334 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:11:44,334 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:11:44,334 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:11:44,335 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:11:44,335 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n```j...
2025-04-17 21:11:44,335 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

```js...
2025-04-17 21:12:48,255 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:12:48,258 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:48,258 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:48,258 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:48,258 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:12:48,268 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:12:48,269 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:12:48,633 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:12:48,648 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:12:48,650 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:12:48,652 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:12:48,652 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:12:48,653 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:12:48,657 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:12:48,659 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:12:51,680 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:12:51,687 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:51,688 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:51,688 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:12:51,688 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:12:51,698 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:12:51,699 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:12:52,092 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:12:52,092 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:12:52,094 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:12:52,096 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:12:52,097 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:12:52,098 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:12:52,105 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:12:52,106 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:12:52,133 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ddd59158-ae07-40ca-8dae-498d54c2040c'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='4bc10285-6d7b-41bf-a8c7-9ad4af721702')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:12:52,135 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='ddd59158-ae07-40ca-8dae-498d54c2040c'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='4bc10285-6d7b-41bf-a8c7-9ad4af721702')]"
2025-04-17 21:12:52,135 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: get_reservations
2025-04-17 21:12:52,135 - models.llm - ERROR - Araç şeması işlenirken hata: 'inputSchema', araç: add_new_reservation
2025-04-17 21:12:52,135 - models.llm - WARNING - Hiçbir araç tanımlaması yapılamadı!
2025-04-17 21:12:53,532 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:12:53,534 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:12:53,538 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:12:53,539 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:12:53,539 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:12:53,539 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:12:53,540 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:12:53,540 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

[]

Ş...
2025-04-17 21:13:29,697 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:13:29,700 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:29,700 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:29,700 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:29,700 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:13:29,708 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:13:29,709 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:13:30,079 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:13:30,079 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:13:30,082 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:13:30,084 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:13:30,084 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:13:30,085 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:13:30,089 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:13:30,090 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:13:33,712 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:13:33,719 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:33,719 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:33,720 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:13:33,720 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:13:33,728 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:13:33,730 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:13:34,077 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:13:34,077 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:13:34,079 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:13:34,081 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:13:34,082 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:13:34,082 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:13:34,086 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:13:34,087 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:13:34,102 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='54d0dbe4-214c-4126-b2e4-0fe060300c76'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='1ea4d424-cecd-43d9-9457-c9d0056dc9c3')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:13:34,103 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='54d0dbe4-214c-4126-b2e4-0fe060300c76'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='1ea4d424-cecd-43d9-9457-c9d0056dc9c3')]"
2025-04-17 21:13:34,103 - models.llm - INFO - Gemini API çağrısı yapılıyor (2 araç ile)
2025-04-17 21:13:34,105 - models.llm - ERROR - Gemini API çağrısı hatası: Unknown field for Schema: default
2025-04-17 21:13:35,175 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:13:35,177 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:13:35,180 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:13:35,181 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:13:35,181 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:13:35,181 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:13:35,182 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131n\u0131z a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n...
2025-04-17 21:13:35,182 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtlarınız aşağıdadır:

[]

Ş...
2025-04-17 21:22:33,747 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:22:33,750 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:33,750 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:33,750 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:33,751 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:22:33,768 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:22:33,768 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:22:34,150 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:22:34,151 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:22:34,152 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:22:34,154 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:22:34,154 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:22:34,155 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:22:34,161 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:22:34,167 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:22:39,402 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:22:39,410 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:39,410 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:39,411 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:22:39,411 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:22:39,421 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:22:39,421 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:22:39,766 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:22:39,766 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:22:39,768 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:22:39,769 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:22:39,770 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:22:39,770 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:22:39,774 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:22:39,775 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:22:39,791 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='151c417f-92eb-482c-bef9-06caeee6a754'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='94f17068-c4a8-42d0-b2d3-f97c17d3786b')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:22:39,792 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='151c417f-92eb-482c-bef9-06caeee6a754'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='94f17068-c4a8-42d0-b2d3-f97c17d3786b')]"
2025-04-17 21:22:39,792 - models.llm - ERROR - Sorgu işleme hatası: 'dict' object has no attribute 'inputSchema'
2025-04-17 21:22:39,794 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:22:39,795 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:22:39,797 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'dict' object has no attribut...
2025-04-17 21:22:39,797 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:22:39,798 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:22:39,798 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:22:39,798 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'dict' object has no attribut...
2025-04-17 21:22:39,799 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: 'dict' object...
2025-04-17 21:22:39,873 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:22:39,874 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:23:56,342 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:23:56,346 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:56,347 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:56,347 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:56,347 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:23:56,358 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:23:56,358 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:23:56,881 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:23:56,881 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:23:56,884 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:23:56,885 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:23:56,886 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:23:56,886 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:23:56,888 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:23:56,889 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:23:59,696 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:23:59,700 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:59,700 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:59,700 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:23:59,701 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:23:59,708 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:23:59,709 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:24:00,027 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:24:00,027 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:24:00,028 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:24:00,030 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:24:00,031 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:24:00,031 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:24:00,033 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:24:00,034 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:24:00,037 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='137e0a2a-2a58-4abc-90f5-03322dc17d16'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='fdd09011-c291-40ec-87be-8d07d8c02ed8')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:24:00,037 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='137e0a2a-2a58-4abc-90f5-03322dc17d16'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='fdd09011-c291-40ec-87be-8d07d8c02ed8')]"
2025-04-17 21:24:00,037 - models.llm - ERROR - Sorgu işleme hatası: Unknown field for Schema: default
2025-04-17 21:24:00,038 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:24:00,038 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:24:00,039 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Unknown field for Schema: def...
2025-04-17 21:24:00,039 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:24:00,039 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:24:00,039 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:24:00,039 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Unknown field for Schema: def...
2025-04-17 21:24:00,039 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Unknown field...
2025-04-17 21:24:37,094 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:24:37,097 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:37,097 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:37,097 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:37,097 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:24:37,105 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:24:37,106 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:24:37,464 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:24:37,465 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:24:37,466 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:24:37,468 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:24:37,468 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:24:37,469 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:24:37,474 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:24:37,475 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:24:41,531 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:24:41,538 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:41,539 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:41,539 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:24:41,539 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:24:41,551 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:24:41,552 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:24:41,893 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:24:41,893 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:24:41,894 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:24:41,896 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:24:41,897 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:24:41,898 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:24:41,902 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:24:41,903 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:24:41,919 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2348d1a0-a5c0-4776-97b9-aa32eb16e4a7'), HumanMessage(content='rezervasyon ypalım', additional_kwargs={}, response_metadata={}, id='ff89558d-15fe-4ca5-b2ed-6228791e3ecc')]...[{'name': 'get_reservations', 'description': '\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', 'parameters': {'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}}, {'name': 'add_new_reservation', 'description': '\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', 'parameters': {'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'}}]
2025-04-17 21:24:41,920 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2348d1a0-a5c0-4776-97b9-aa32eb16e4a7'), HumanMessage(content='rezervasyon ypalım', additional_kwargs={}, response_metadata={}, id='ff89558d-15fe-4ca5-b2ed-6228791e3ecc')]"
2025-04-17 21:24:41,920 - models.llm - ERROR - Sorgu işleme hatası: 'dict' object has no attribute 'inputSchema'
2025-04-17 21:24:41,921 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:24:41,922 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:24:41,923 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'dict' object has no attribut...
2025-04-17 21:24:41,923 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:24:41,923 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:24:41,923 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:24:41,924 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'dict' object has no attribut...
2025-04-17 21:24:41,924 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: 'dict' object...
2025-04-17 21:24:42,010 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:24:42,010 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:28:17,626 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:28:17,628 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:17,628 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:17,628 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:17,628 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:28:17,637 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:28:17,638 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:28:17,968 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:28:17,968 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:28:17,969 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:28:17,971 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:28:17,971 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:28:17,972 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:28:17,974 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:28:17,975 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:28:20,948 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:28:20,955 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:20,955 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:20,955 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:28:20,955 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:28:20,966 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:28:20,967 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:28:21,312 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:28:21,312 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:28:21,314 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:28:21,315 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:28:21,316 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:28:21,316 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:28:21,319 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:28:21,319 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:28:21,333 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='965bae34-98a0-4c14-918d-16aedca6f020'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='1bc9df74-ee11-46c9-8242-1a7a9e3680c0')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:28:21,334 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='965bae34-98a0-4c14-918d-16aedca6f020'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='1bc9df74-ee11-46c9-8242-1a7a9e3680c0')]"
2025-04-17 21:28:21,334 - models.llm - ERROR - Sorgu işleme hatası: 'Tool' object is not subscriptable
2025-04-17 21:28:21,334 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:28:21,336 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:28:21,337 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object is not subscrip...
2025-04-17 21:28:21,338 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:28:21,338 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:28:21,338 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:28:21,338 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object is not subscrip...
2025-04-17 21:28:21,339 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: 'Tool' object...
2025-04-17 21:28:21,424 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:28:21,424 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:35:14,892 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:35:14,897 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:14,897 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:14,897 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:14,897 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:35:14,918 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:35:14,919 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:35:15,303 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:35:15,303 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:35:15,305 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:35:15,306 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:35:15,307 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:35:15,307 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:35:15,310 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:35:15,311 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:35:19,129 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:35:19,137 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:19,137 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:19,138 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:35:19,138 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:35:19,150 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:35:19,150 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:35:19,562 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:35:19,562 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:35:19,564 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:35:19,567 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:35:19,568 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:35:19,569 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:35:19,572 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:35:19,573 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:35:19,593 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='699e785d-245a-40b0-9f0f-118622c75122'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5a9dd2e1-df11-426e-a8c4-9f740d9a843e')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:35:19,595 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='699e785d-245a-40b0-9f0f-118622c75122'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5a9dd2e1-df11-426e-a8c4-9f740d9a843e')]"
2025-04-17 21:35:19,595 - models.llm - ERROR - Sorgu işleme hatası: 'Tool' object is not subscriptable
2025-04-17 21:35:19,596 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:35:19,597 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:35:19,600 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object is not subscrip...
2025-04-17 21:35:19,600 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:35:19,601 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:35:19,601 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:35:19,602 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object is not subscrip...
2025-04-17 21:35:19,602 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: 'Tool' object...
2025-04-17 21:35:19,708 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:35:19,709 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:36:51,808 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:36:51,811 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:51,811 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:51,811 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:51,811 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:36:51,823 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:36:51,824 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:36:52,241 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:36:52,241 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:36:52,242 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:36:52,244 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:36:52,245 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:36:52,245 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:36:52,248 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:36:52,250 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:36:56,289 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:36:56,293 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:56,293 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:56,293 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:36:56,293 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:36:56,306 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:36:56,307 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:36:56,649 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:36:56,649 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:36:56,651 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:36:56,654 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:36:56,655 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:36:56,656 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:36:56,661 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:36:56,663 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:36:56,693 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1a94be46-9b0e-4158-82fe-3e6ec7bfd7c1'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='e8aa1eda-d4c2-4482-abc6-1e4aac3a74e9')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:36:56,694 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1a94be46-9b0e-4158-82fe-3e6ec7bfd7c1'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='e8aa1eda-d4c2-4482-abc6-1e4aac3a74e9')]"
2025-04-17 21:36:56,694 - models.llm - ERROR - Sorgu işleme hatası: 'Tool' object has no attribute 'descri'
2025-04-17 21:36:56,695 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:36:56,697 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:36:56,698 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object has no attribut...
2025-04-17 21:36:56,698 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:36:56,698 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:36:56,698 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:36:56,699 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: 'Tool' object has no attribut...
2025-04-17 21:36:56,699 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: 'Tool' object...
2025-04-17 21:36:56,805 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:36:56,806 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:37:09,672 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:37:09,687 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 73 (char 72)
2025-04-17 21:37:09,687 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:37:09,690 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:09,691 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:09,691 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:09,691 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:37:09,699 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:37:09,700 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:37:10,099 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:37:10,099 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:37:10,100 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:37:10,102 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:37:10,102 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:37:10,103 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:37:10,105 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:37:10,106 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:37:10,109 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='13136f91-3ab3-4bc9-a19f-29241ea48b01'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5ae88d83-48d8-41ab-ac9e-15227d65cbaa'), HumanMessage(content='rezerveleri lsitele', additional_kwargs={}, response_metadata={}, id='f18ee8d6-4b6a-4bd8-a7c3-c1c4b8ab53f3')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:37:10,109 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='13136f91-3ab3-4bc9-a19f-29241ea48b01'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='5ae88d83-48d8-41ab-ac9e-15227d65cbaa'), HumanMessage(content='rezerveleri lsitele', additional_kwargs={}, response_metadata={}, id='f18ee8d6-4b6a-4bd8-a7c3-c1c4b8ab53f3')]"
2025-04-17 21:37:10,110 - models.llm - ERROR - Sorgu işleme hatası: Unknown field for Schema: default
2025-04-17 21:37:10,110 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:37:10,111 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:37:10,111 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Unknown field for Schema: def...
2025-04-17 21:37:10,111 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:37:10,111 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:37:10,111 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:37:10,111 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Unknown field for Schema: def...
2025-04-17 21:37:10,111 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Unknown field...
2025-04-17 21:37:55,399 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:37:55,402 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:55,402 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:55,402 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:55,402 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:37:55,410 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:37:55,411 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:37:55,771 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:37:55,771 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:37:55,773 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:37:55,775 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:37:55,775 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:37:55,776 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:37:55,781 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:37:55,782 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:37:58,413 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:37:58,422 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:58,423 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:58,423 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:37:58,423 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:37:58,432 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:37:58,434 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:37:58,801 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:37:58,801 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:37:58,802 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:37:58,804 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:37:58,805 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:37:58,806 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:37:58,809 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:37:58,810 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:37:58,834 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cff5a23a-0cf4-4d09-b109-6f9a26bea0ba'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='ed599299-82d2-4f2d-9d42-24f9bfe2eb8b')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:37:58,835 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cff5a23a-0cf4-4d09-b109-6f9a26bea0ba'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='ed599299-82d2-4f2d-9d42-24f9bfe2eb8b')]"
2025-04-17 21:38:01,368 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 21:38:01,368 - models.llm - ERROR - Sorgu işleme hatası: Could not convert `part.function_call` to text.
2025-04-17 21:38:01,370 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:38:01,373 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:38:01,376 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:38:01,376 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:38:01,376 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:38:01,377 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:38:01,377 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:38:01,377 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Could not con...
2025-04-17 21:39:44,124 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:39:44,126 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:44,126 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:44,127 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:44,127 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:39:44,136 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:39:44,136 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:39:44,500 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:39:44,500 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:39:44,502 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:39:44,504 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:39:44,504 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:39:44,505 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:39:44,508 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:39:44,510 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:39:47,414 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:39:47,421 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:47,421 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:47,421 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:39:47,421 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:39:47,433 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:39:47,434 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:39:47,847 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:39:47,847 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:39:47,849 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:39:47,851 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:39:47,851 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:39:47,852 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:39:47,855 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:39:47,856 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:39:47,872 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5944318e-14f1-4ae7-9682-9839447951a8'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='f41be521-5f45-4f72-b0d2-73390cc68d0f')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:39:47,872 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='5944318e-14f1-4ae7-9682-9839447951a8'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='f41be521-5f45-4f72-b0d2-73390cc68d0f')]"
2025-04-17 21:39:49,330 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 21:39:49,334 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:39:49,336 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:39:49,339 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n\n\u015e...
2025-04-17 21:39:49,339 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:39:49,339 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:39:49,340 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:39:49,340 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Mevcut rezervasyon kay\u0131tlar\u0131 a\u015fa\u011f\u0131dad\u0131r:\n\n[]\n\n\u015e...
2025-04-17 21:39:49,340 - __main__ - INFO - ✅ JSON response regex ile bulundu: Mevcut rezervasyon kayıtları aşağıdadır:

[]

Şu a...
2025-04-17 21:40:26,890 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:40:26,905 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:40:26,905 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:40:26,906 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:40:26,906 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:40:26,920 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:40:26,921 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:40:27,340 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:40:27,340 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:40:27,341 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:40:27,343 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:40:27,343 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:40:27,344 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:40:27,348 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:40:27,349 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:40:27,352 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='38c92ab0-3d4c-4536-b49d-2492c44dd826'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='2b408b24-9262-4fdd-9430-06cc10398c27'), HumanMessage(content='Get reservationu çağır rezerveleri getir', additional_kwargs={}, response_metadata={}, id='aa4fd91e-2126-419b-8132-c36cd62bdb08')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:40:27,353 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='38c92ab0-3d4c-4536-b49d-2492c44dd826'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='2b408b24-9262-4fdd-9430-06cc10398c27'), HumanMessage(content='Get reservationu çağır rezerveleri getir', additional_kwargs={}, response_metadata={}, id='aa4fd91e-2126-419b-8132-c36cd62bdb08')]"
2025-04-17 21:40:28,974 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 21:40:28,975 - models.llm - ERROR - Sorgu işleme hatası: Could not convert `part.function_call` to text.
2025-04-17 21:40:28,976 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:40:28,978 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:40:28,981 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:40:28,981 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:40:28,982 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:40:28,982 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:40:28,982 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:40:28,982 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Could not con...
2025-04-17 21:41:31,490 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:41:31,496 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:31,496 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:31,496 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:31,496 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:41:31,524 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:41:31,525 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:41:32,052 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:41:32,052 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:41:32,053 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:41:32,055 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:41:32,055 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:41:32,055 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:41:32,058 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:41:32,059 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:41:35,172 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:41:35,179 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:35,179 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:35,180 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:41:35,180 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:41:35,189 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:41:35,189 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:41:35,571 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:41:35,571 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:41:35,573 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:41:35,574 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:41:35,575 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:41:35,575 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:41:35,577 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:41:35,578 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:41:35,581 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8cd598f0-995a-4c81-8f41-fc61d71f265e'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='a92887c2-6027-462c-b307-31867fade943')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:41:35,582 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='8cd598f0-995a-4c81-8f41-fc61d71f265e'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='a92887c2-6027-462c-b307-31867fade943')]"
2025-04-17 21:41:39,217 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 21:41:39,218 - models.llm - ERROR - Sorgu işleme hatası: Could not convert `part.function_call` to text.
2025-04-17 21:41:39,219 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:41:39,220 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:41:39,222 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:41:39,222 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:41:39,222 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:41:39,223 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:41:39,223 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:41:39,223 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Could not con...
2025-04-17 21:43:38,374 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:43:38,378 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:38,378 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:38,378 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:38,378 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:43:38,400 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:43:38,401 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:43:38,789 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:43:38,789 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:43:38,791 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:43:38,793 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:43:38,793 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:43:38,794 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:43:38,796 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:43:38,797 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:43:44,253 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:43:44,263 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:44,263 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:44,263 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:43:44,263 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:43:44,274 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:43:44,275 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:43:44,618 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:43:44,618 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:43:44,619 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:43:44,621 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:43:44,622 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:43:44,622 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:43:44,626 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:43:44,627 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:43:44,643 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2b03ab16-0b81-4e16-95ef-06a2315a624b'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='27223d7a-eff1-4e3b-8e84-986d23aa427a')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:43:44,644 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2b03ab16-0b81-4e16-95ef-06a2315a624b'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='27223d7a-eff1-4e3b-8e84-986d23aa427a')]"
2025-04-17 21:43:48,713 - models.llm - INFO - Fonksiyon çağrısı bulunamadı, normal yanıt döndürülüyor
2025-04-17 21:43:48,714 - models.llm - ERROR - Sorgu işleme hatası: Could not convert `part.function_call` to text.
2025-04-17 21:43:48,717 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:43:48,720 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:43:48,724 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:43:48,724 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:43:48,725 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:43:48,725 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:43:48,725 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: Could not convert `part.funct...
2025-04-17 21:43:48,726 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: Could not con...
2025-04-17 21:45:14,486 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:45:14,507 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:14,508 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:14,508 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:14,508 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:45:14,524 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:45:14,525 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:45:14,992 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:45:14,992 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:45:15,017 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:45:15,022 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:45:15,023 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:45:15,024 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:45:15,032 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:45:15,034 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:45:15,040 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b6ad4a25-c782-4350-b781-2f4016c0f77f'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='ba927352-400c-41ac-931f-7e09c02ca58b'), HumanMessage(content='rezerveleri lsitele', additional_kwargs={}, response_metadata={}, id='2ba41276-1d09-4aeb-b4d3-261c65492d0b')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:45:15,045 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='b6ad4a25-c782-4350-b781-2f4016c0f77f'), HumanMessage(content='Tüm rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='ba927352-400c-41ac-931f-7e09c02ca58b'), HumanMessage(content='rezerveleri lsitele', additional_kwargs={}, response_metadata={}, id='2ba41276-1d09-4aeb-b4d3-261c65492d0b')]"
2025-04-17 21:45:16,389 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 21:45:16,992 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {}
2025-04-17 21:45:18,438 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:45:18,439 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:45:18,442 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu sonu\u00e7 zaten olduk\u00e7a sadele\u015ftirilmi\u015f durumda. Bir hata mesaj\u01...
2025-04-17 21:45:18,443 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:45:18,443 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:45:18,443 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:45:18,443 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu sonu\u00e7 zaten olduk\u00e7a sadele\u015ftirilmi\u015f durumda. Bir hata mesaj\u01...
2025-04-17 21:45:18,443 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu sonuç zaten oldukça sadeleştirilmiş durumda. Bi...
2025-04-17 21:45:42,382 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:45:42,385 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:42,385 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:42,385 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:45:42,385 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:45:42,394 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:45:42,395 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:45:42,778 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:45:42,778 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:45:42,779 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:45:42,781 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:45:42,781 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:45:42,782 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:45:42,784 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:45:42,786 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:46:06,756 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:46:06,765 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:46:06,765 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:46:06,765 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:46:06,765 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:46:06,780 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:46:06,785 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:46:07,216 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:46:07,216 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:46:07,217 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:46:07,219 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:46:07,219 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:46:07,220 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:46:07,222 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:46:07,223 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:46:07,232 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0c1e5e04-d20c-470c-a57a-929d4dd9bb42'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='fda035c0-0f9a-4fdc-8a99-97b0f9e69c2d')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:46:07,233 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='0c1e5e04-d20c-470c-a57a-929d4dd9bb42'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='fda035c0-0f9a-4fdc-8a99-97b0f9e69c2d')]"
2025-04-17 21:46:08,813 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 21:46:09,454 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {}
2025-04-17 21:46:10,965 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:46:10,969 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:46:10,974 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu sonu\u00e7 zaten olduk\u00e7a sadele\u015ftirilmi\u015f durumda. Bir hata mesaj\u01...
2025-04-17 21:46:10,974 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:46:10,974 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:46:10,975 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:46:10,975 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu sonu\u00e7 zaten olduk\u00e7a sadele\u015ftirilmi\u015f durumda. Bir hata mesaj\u01...
2025-04-17 21:46:10,976 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu sonuç zaten oldukça sadeleştirilmiş durumda. Bi...
2025-04-17 21:51:20,974 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:51:20,992 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:51:20,992 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:51:20,992 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:51:20,992 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:51:20,999 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:51:20,999 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:51:21,429 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:51:21,429 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:51:21,430 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:51:21,432 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:51:21,432 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:51:21,433 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:51:21,435 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:51:21,436 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:51:21,439 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7b1ae49-dd35-4ff0-a04c-ef2960fe3ebf'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='5533ae79-637c-442f-bae8-c0621d4a7d3f'), HumanMessage(content='rezerveleri listele', additional_kwargs={}, response_metadata={}, id='cc212350-611c-4298-9270-6dea794381cf')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:51:21,440 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='c7b1ae49-dd35-4ff0-a04c-ef2960fe3ebf'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='5533ae79-637c-442f-bae8-c0621d4a7d3f'), HumanMessage(content='rezerveleri listele', additional_kwargs={}, response_metadata={}, id='cc212350-611c-4298-9270-6dea794381cf')]"
2025-04-17 21:51:23,847 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 21:51:24,756 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 21:51:24,756 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 21:51:24,756 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 'GeminiJSONModel' object has no attribute 'session'
2025-04-17 21:51:28,001 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:51:28,004 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:51:28,007 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu bir hata mesaj\u0131d\u0131r ve sadele\u015ftirilecek bir sonu\u00e7 de\u011fildir....
2025-04-17 21:51:28,007 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:51:28,008 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:51:28,008 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:51:28,008 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu bir hata mesaj\u0131d\u0131r ve sadele\u015ftirilecek bir sonu\u00e7 de\u011fildir....
2025-04-17 21:51:28,008 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu bir hata mesajıdır ve sadeleştirilecek bir sonu...
2025-04-17 21:51:28,092 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 438 (char 437)
2025-04-17 21:51:28,092 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:57:19,865 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:57:19,868 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:19,868 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:19,868 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:19,868 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:57:19,877 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:57:19,878 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:57:20,204 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:57:20,204 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:57:20,206 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:57:20,208 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:57:20,208 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:57:20,209 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:57:20,211 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:57:20,212 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:57:23,576 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:57:23,584 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:23,584 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:23,584 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:57:23,584 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:57:23,593 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:57:23,593 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:57:23,901 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:57:23,901 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:57:23,903 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:57:23,905 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:57:23,905 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:57:23,906 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:57:23,909 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:57:23,910 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:57:23,923 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cce1f8c1-2035-478d-891f-4b87a630fb73'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='660014dc-4547-4fdc-ad52-880842d088e2')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:57:23,923 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cce1f8c1-2035-478d-891f-4b87a630fb73'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='660014dc-4547-4fdc-ad52-880842d088e2')]"
2025-04-17 21:57:25,313 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 21:57:25,967 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 21:57:25,968 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 21:57:29,946 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:57:29,949 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:57:29,953 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu bir sonu\u00e7 de\u011fil, bir nesne g\u00f6sterimidir. \u00d6zellikle, bu bir \"co...
2025-04-17 21:57:29,953 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:57:29,954 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:57:29,954 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:57:29,954 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu bir sonu\u00e7 de\u011fil, bir nesne g\u00f6sterimidir. \u00d6zellikle, bu bir \"co...
2025-04-17 21:57:29,955 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu bir sonuç değil, bir nesne gösterimidir. Özelli...
2025-04-17 21:57:30,027 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 722 (char 721)
2025-04-17 21:57:30,028 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 21:59:21,378 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 21:59:21,381 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:21,381 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:21,381 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:21,381 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:59:21,390 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:59:21,391 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:59:21,867 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:59:21,868 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:59:21,870 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:59:21,871 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:59:21,872 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:59:21,872 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:59:21,876 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:59:21,878 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:59:25,279 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 21:59:25,288 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:25,288 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:25,288 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 21:59:25,288 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 21:59:25,296 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 21:59:25,297 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 21:59:25,647 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 21:59:25,647 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 21:59:25,649 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 21:59:25,651 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 21:59:25,651 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 21:59:25,653 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 21:59:25,656 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 21:59:25,657 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 21:59:25,670 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='88c1421f-4f4a-4dd6-83b2-29157bd4c912'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a755e003-fe1b-471c-8783-9fb9906e2827')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 21:59:25,670 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='88c1421f-4f4a-4dd6-83b2-29157bd4c912'), HumanMessage(content='rezervasyonları getir', additional_kwargs={}, response_metadata={}, id='a755e003-fe1b-471c-8783-9fb9906e2827')]"
2025-04-17 21:59:27,275 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 21:59:27,801 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 21:59:27,801 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 21:59:27,801 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): asyncio.run() cannot be called from a running event loop
2025-04-17 21:59:31,073 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 21:59:31,077 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 21:59:31,079 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu bir hata mesaj\u0131d\u0131r ve sadele\u015ftirilecek bir sonu\u00e7 de\u011fildir....
2025-04-17 21:59:31,079 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 21:59:31,079 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 21:59:31,080 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 21:59:31,080 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu bir hata mesaj\u0131d\u0131r ve sadele\u015ftirilecek bir sonu\u00e7 de\u011fildir....
2025-04-17 21:59:31,081 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu bir hata mesajıdır ve sadeleştirilecek bir sonu...
2025-04-17 21:59:31,161 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 1358 (char 1357)
2025-04-17 21:59:31,161 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 22:01:21,488 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:01:21,490 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:21,491 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:21,491 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:21,491 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:01:21,501 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:01:21,502 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:01:21,912 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:01:21,912 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:01:21,914 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:01:21,915 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:01:21,916 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:01:21,916 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:01:21,921 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:01:21,923 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:01:24,665 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:01:24,673 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:24,673 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:24,673 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:01:24,673 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:01:24,680 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:01:24,680 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:01:24,991 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:01:24,991 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:01:24,992 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:01:24,994 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:01:24,994 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:01:24,994 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:01:24,996 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:01:24,997 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:01:25,009 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='51877a63-eb43-4cfa-b308-7fb9c5b33d7d'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='74c2a9d3-0689-4896-884e-b7c495e65d34')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:01:25,010 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='51877a63-eb43-4cfa-b308-7fb9c5b33d7d'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='74c2a9d3-0689-4896-884e-b7c495e65d34')]"
2025-04-17 22:01:26,471 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:01:27,072 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:01:27,073 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:01:27,073 - models.llm - ERROR - Sorgu işleme hatası: This event loop is already running
2025-04-17 22:01:27,080 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 22:01:27,082 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:01:27,085 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: This event loop is already ru...
2025-04-17 22:01:27,086 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:01:27,086 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:01:27,086 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:01:27,086 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: This event loop is already ru...
2025-04-17 22:01:27,087 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: This event lo...
2025-04-17 22:02:40,951 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:02:40,954 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:40,954 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:40,954 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:40,954 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:02:40,965 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:02:40,966 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:02:41,330 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:02:41,330 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:02:41,331 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:02:41,333 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:02:41,333 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:02:41,334 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:02:41,337 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:02:41,338 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:02:43,967 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:02:43,979 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:43,979 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:43,979 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:02:43,979 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:02:43,987 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:02:43,987 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:02:44,396 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:02:44,396 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:02:44,421 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:02:44,423 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:02:44,423 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:02:44,424 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:02:44,427 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:02:44,427 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:02:44,445 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93871906-33ad-4440-a896-c4a1722a679f'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='71e6f662-b4fd-4e46-ae70-a96665a9ee78')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:02:44,445 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='93871906-33ad-4440-a896-c4a1722a679f'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='71e6f662-b4fd-4e46-ae70-a96665a9ee78')]"
2025-04-17 22:02:45,861 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:02:46,471 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:02:46,471 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:02:46,473 - models.llm - ERROR - Sorgu işleme hatası: 
2025-04-17 22:02:46,474 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 22:02:46,475 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:02:46,476 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: "}...
2025-04-17 22:02:46,476 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:02:46,476 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:02:46,477 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:02:46,477 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: "}...
2025-04-17 22:02:46,477 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: ...
2025-04-17 22:03:05,961 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:03:05,970 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:03:05,970 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:03:05,971 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:03:05,971 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:03:05,981 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:03:05,982 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:03:06,419 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:03:06,419 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:03:06,420 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:03:06,422 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:03:06,422 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:03:06,423 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:03:06,428 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:03:06,429 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:03:06,432 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='94504d30-ef86-4a17-82d7-aea03e3ae917'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4bd033da-bbf5-44ac-9c3c-bbd37e85692b'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='11cb76ae-2d40-4546-b37f-bf783a1d5a32')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:03:06,433 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='94504d30-ef86-4a17-82d7-aea03e3ae917'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4bd033da-bbf5-44ac-9c3c-bbd37e85692b'), HumanMessage(content='rezerveleri litele', additional_kwargs={}, response_metadata={}, id='11cb76ae-2d40-4546-b37f-bf783a1d5a32')]"
2025-04-17 22:03:07,769 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:03:08,239 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:03:08,240 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:03:08,241 - models.llm - ERROR - Sorgu işleme hatası: 
2025-04-17 22:03:08,243 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 22:03:08,245 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:03:08,248 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: "}...
2025-04-17 22:03:08,248 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:03:08,248 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:03:08,249 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:03:08,249 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "\u0130ste\u011finizi i\u015flerken bir hata olu\u015ftu: "}...
2025-04-17 22:03:08,249 - __main__ - INFO - ✅ JSON response regex ile bulundu: İsteğinizi işlerken bir hata oluştu: ...
2025-04-17 22:04:22,829 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:04:22,832 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:22,832 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:22,832 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:22,832 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:04:22,843 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:04:22,843 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:04:23,199 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:04:23,199 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:04:23,200 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:04:23,202 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:04:23,202 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:04:23,203 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:04:23,205 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:04:23,206 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:04:25,692 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:04:25,695 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:25,695 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:25,695 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:04:25,696 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:04:25,701 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:04:25,702 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:04:26,011 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:04:26,011 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:04:26,012 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:04:26,014 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:04:26,014 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:04:26,015 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:04:26,017 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:04:26,017 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:04:26,027 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cdc2e10f-441d-4056-b232-39bf7d9e2b57'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4b8dee72-9347-49da-bbbb-8e90b622ca31')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:04:26,028 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='cdc2e10f-441d-4056-b232-39bf7d9e2b57'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='4b8dee72-9347-49da-bbbb-8e90b622ca31')]"
2025-04-17 22:04:27,254 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:04:27,831 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:04:27,831 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:04:31,773 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 22:04:31,775 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:04:31,778 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu bir sonu\u00e7 de\u011fil, bir nesne temsilidir. \u00d6zellikle, bu bir \"coroutine...
2025-04-17 22:04:31,779 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:04:31,779 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:04:31,779 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:04:31,780 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu bir sonu\u00e7 de\u011fil, bir nesne temsilidir. \u00d6zellikle, bu bir \"coroutine...
2025-04-17 22:04:31,780 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu bir sonuç değil, bir nesne temsilidir. Özellikl...
2025-04-17 22:04:31,858 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 182 (char 181)
2025-04-17 22:04:31,859 - __main__ - INFO - regex ile json ayrıştırma başarılı
2025-04-17 22:06:36,458 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:06:36,465 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:36,466 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:36,466 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:36,466 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:06:36,496 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:06:36,502 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:06:36,854 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:06:36,854 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:06:36,856 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:06:36,857 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:06:36,858 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:06:36,858 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:06:36,861 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:06:36,862 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:06:40,565 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:06:40,572 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:40,572 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:40,572 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:06:40,573 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:06:40,580 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:06:40,581 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:06:40,894 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:06:40,895 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:06:40,896 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:06:40,898 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:06:40,898 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:06:40,899 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:06:40,901 - agent_graph.graph - INFO - LangGraph derleme işlemi tamamlandı.
2025-04-17 22:06:40,901 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:06:40,913 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2c290c3d-5338-4fee-94e2-c9aef9b24b88'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='2f13bd98-6c65-431c-860f-0296c45a6c35')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:06:40,913 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='2c290c3d-5338-4fee-94e2-c9aef9b24b88'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='2f13bd98-6c65-431c-860f-0296c45a6c35')]"
2025-04-17 22:06:42,270 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:06:42,743 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:06:42,744 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:06:42,746 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
2025-04-17 22:06:43,601 - agent_graph.graph - INFO - İşlem tipi tespit edilmedi, doğrudan end'e yönlendiriliyor
2025-04-17 22:06:43,604 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:06:43,607 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu sonu\u00e7 zaten olabildi\u011fince sadele\u015ftirilmi\u015f durumda. Bir hata mes...
2025-04-17 22:06:43,607 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:06:43,608 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:06:43,608 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:06:43,608 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu sonu\u00e7 zaten olabildi\u011fince sadele\u015ftirilmi\u015f durumda. Bir hata mes...
2025-04-17 22:06:43,609 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu sonuç zaten olabildiğince sadeleştirilmiş durum...
2025-04-17 22:16:06,408 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:16:06,477 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:06,479 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:06,482 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:06,487 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:16:06,526 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:16:06,531 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:16:07,314 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:16:07,314 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:16:07,315 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:16:07,317 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:16:07,317 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:16:07,318 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:16:07,322 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:16:18,242 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:16:18,244 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:18,244 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:18,244 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:18,244 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:16:18,251 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:16:18,252 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:16:18,646 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:16:18,646 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:16:18,649 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:16:18,651 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:16:18,652 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:16:18,654 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:16:18,663 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:16:21,518 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:16:21,524 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:21,525 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:21,525 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:16:21,525 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:16:21,533 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:16:21,535 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:16:21,848 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:16:21,848 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:16:21,850 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:16:21,852 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:16:21,853 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:16:21,853 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:16:21,857 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:17:14,634 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:17:14,675 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:14,675 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:14,675 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:14,675 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:17:14,704 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:17:14,705 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:17:15,254 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:17:15,254 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:17:15,255 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:17:15,257 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:17:15,257 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:17:15,257 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:17:15,261 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:17:18,046 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:17:18,050 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:18,050 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:18,050 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:18,050 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:17:18,055 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:17:18,056 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:17:18,398 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:17:18,399 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:17:18,400 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:17:18,402 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:17:18,402 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:17:18,403 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:17:18,406 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:17:21,588 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:17:21,595 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:21,595 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:21,595 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:17:21,595 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:17:21,605 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:17:21,606 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:17:21,976 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:17:21,976 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:17:21,978 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:17:21,980 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:17:21,980 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:17:21,981 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:17:21,985 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:18:23,677 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:18:23,701 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:18:23,701 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:18:23,702 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:18:23,703 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:18:23,710 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:18:23,711 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:18:24,185 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:18:24,185 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:18:24,186 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:18:24,188 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:18:24,188 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:18:24,189 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:18:24,192 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:18:24,195 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1dd30706-952b-4f57-89ca-05ce69d29ac7'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='e6e20d57-fb94-4c6f-8f53-fe6bc227413c'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='8727ac07-47cc-49a9-9366-c195c6db0f65')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:18:24,196 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='1dd30706-952b-4f57-89ca-05ce69d29ac7'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='e6e20d57-fb94-4c6f-8f53-fe6bc227413c'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='8727ac07-47cc-49a9-9366-c195c6db0f65')]"
2025-04-17 22:18:25,297 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:18:25,955 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:18:25,956 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:18:25,957 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
2025-04-17 22:18:27,451 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:19:39,300 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:19:39,324 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:39,325 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:39,326 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:39,327 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:19:39,340 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:19:39,340 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:19:39,840 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:19:39,840 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:19:39,842 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:19:39,845 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:19:39,846 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:19:39,847 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:19:39,851 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:19:39,859 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9e821936-14b4-433b-a6d1-cadbe6b1b9ab'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='61842476-0c98-4465-89a3-dc4f2cea866a'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='7bc1d1ce-248c-4e6c-8590-3ecacf1df6c0'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='88ff5b1d-7969-4092-9973-8e40aa955da0')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:19:39,861 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='9e821936-14b4-433b-a6d1-cadbe6b1b9ab'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='61842476-0c98-4465-89a3-dc4f2cea866a'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='7bc1d1ce-248c-4e6c-8590-3ecacf1df6c0'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='88ff5b1d-7969-4092-9973-8e40aa955da0')]"
2025-04-17 22:19:40,973 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:19:41,612 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:19:41,612 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:19:41,613 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
2025-04-17 22:19:42,452 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:19:42,456 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu sonu\u00e7 zaten olabildi\u011fince sadele\u015ftirilmi\u015f durumda. JSON format\...
2025-04-17 22:19:42,456 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:19:42,457 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:19:42,457 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:19:42,457 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu sonu\u00e7 zaten olabildi\u011fince sadele\u015ftirilmi\u015f durumda. JSON format\...
2025-04-17 22:19:42,457 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu sonuç zaten olabildiğince sadeleştirilmiş durum...
2025-04-17 22:19:56,113 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:19:56,115 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:56,115 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:56,115 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:56,115 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:19:56,122 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:19:56,123 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:19:56,460 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:19:56,461 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:19:56,462 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:19:56,464 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:19:56,464 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:19:56,465 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:19:56,471 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:19:59,455 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:19:59,462 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:59,462 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:59,462 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:19:59,463 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:19:59,474 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:19:59,474 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:19:59,820 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:19:59,820 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:19:59,822 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:19:59,824 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:19:59,825 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:19:59,826 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:19:59,830 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:19:59,849 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6436ae55-3af7-48cc-80f5-81f700c3cc06'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='81ddc6a2-a95c-44df-98cc-5a11623a7262')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:19:59,849 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='6436ae55-3af7-48cc-80f5-81f700c3cc06'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='81ddc6a2-a95c-44df-98cc-5a11623a7262')]"
2025-04-17 22:20:00,983 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:20:01,623 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:20:01,624 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:20:01,624 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
2025-04-17 22:20:02,418 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:20:02,420 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Bu sonu\u00e7 zaten olabilecek en sade halinde. Bir hata mesaj\u0131 ve hatan\u0131n n...
2025-04-17 22:20:02,420 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:20:02,420 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:20:02,420 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:20:02,421 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Bu sonu\u00e7 zaten olabilecek en sade halinde. Bir hata mesaj\u0131 ve hatan\u0131n n...
2025-04-17 22:20:02,421 - __main__ - INFO - ✅ JSON response regex ile bulundu: Bu sonuç zaten olabilecek en sade halinde. Bir hat...
2025-04-17 22:21:01,137 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:21:01,140 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:01,140 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:01,140 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:01,140 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:21:01,150 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:21:01,151 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:21:01,526 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:21:01,526 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:21:01,528 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:21:01,529 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:21:01,530 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:21:01,530 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:21:01,535 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:21:05,345 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:21:05,352 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:05,353 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:05,353 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:21:05,353 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:21:05,363 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:21:05,363 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:21:05,686 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:21:05,686 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:21:05,688 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:21:05,689 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:21:05,690 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:21:05,690 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:21:05,693 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:21:05,703 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e9fafca9-47a0-459a-a84f-b5d0f99e6147'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='3935a1a7-132e-471d-8343-2f50569bd955')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:21:05,703 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='e9fafca9-47a0-459a-a84f-b5d0f99e6147'), HumanMessage(content='rezervasyonları listele', additional_kwargs={}, response_metadata={}, id='3935a1a7-132e-471d-8343-2f50569bd955')]"
2025-04-17 22:21:07,027 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:21:07,615 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:21:07,615 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:21:07,617 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
Traceback:
Traceback (most recent call last):
  File "/Users/huseyin/Documents/deep-learning/wp_agent/models/llm.py", line 223, in handle_function_call
    result = await self.session.call_tool(name, arguments=args_dict)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/client/session.py", line 256, in call_tool
    return await self.send_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/shared/session.py", line 244, in send_request
    await self._write_stream.send(JSONRPCMessage(jsonrpc_request))
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 242, in send
    self.send_nowait(item)
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 211, in send_nowait
    raise ClosedResourceError
anyio.ClosedResourceError

2025-04-17 22:21:09,345 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:21:09,348 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Sonu\u00e7, bir ara\u00e7 \u00e7a\u011fr\u0131s\u0131 s\u0131ras\u0131nda olu\u015fan ...
2025-04-17 22:21:09,349 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:21:09,349 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:21:09,349 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:21:09,349 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Sonu\u00e7, bir ara\u00e7 \u00e7a\u011fr\u0131s\u0131 s\u0131ras\u0131nda olu\u015fan ...
2025-04-17 22:21:09,350 - __main__ - INFO - ✅ JSON response regex ile bulundu: Sonuç, bir araç çağrısı sırasında oluşan bir hatay...
2025-04-17 22:26:46,857 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:26:46,871 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:26:46,872 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:26:46,872 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:26:46,878 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:26:46,878 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:26:47,362 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:26:47,362 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:26:47,364 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:16,887 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:16,887 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:16,887 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:16,898 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:16,898 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:17,313 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:17,313 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:17,314 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:33,459 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:33,459 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:33,460 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:33,469 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:33,469 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:33,776 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:33,776 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:33,778 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:43,684 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:43,684 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:43,685 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:43,691 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:43,692 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:44,104 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:44,104 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:44,105 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:44,108 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:27:44,217 - __main__ - INFO - Session state başlatıldı: {'research_question': '', 'understanding_response': [], 'reservation_response': [], 'support_response': [], 'reservations_result': [], 'add_reservation_result': [], 'update_reservation_result': [], 'delete_reservation_result': [], 'reservation_query': [], 'new_reservation': [], 'update_reservation': [], 'delete_reservation': [], 'availability_check': [], 'human_response': []}
2025-04-17 22:27:44,219 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:44,220 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:44,220 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:44,220 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:44,224 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:44,224 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:44,597 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:44,597 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:44,598 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:44,600 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:27:44,601 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:27:44,601 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:27:44,604 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:27:49,218 - __main__ - INFO - 🔄 Yeni sorgu geldi, workflow sıfırlanıyor
2025-04-17 22:27:49,221 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:49,221 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:49,221 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:49,230 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:49,231 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:49,573 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:49,573 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:49,574 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:49,577 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:27:49,584 - __main__ - INFO - MCP sunucusuna bağlanılıyor: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:49,585 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:49,585 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:49,585 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:49,595 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:49,597 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:49,959 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:49,962 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:49,973 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:49,978 - __main__ - INFO - MCP sunucusundan 2 araç başarıyla alındı
2025-04-17 22:27:49,979 - __main__ - INFO - LangGraph oluşturuluyor
2025-04-17 22:27:49,980 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:27:49,986 - __main__ - INFO - Sistem başarıyla başlatıldı
2025-04-17 22:27:50,023 - agents.agents - INFO - ReservationAgent invoked with question: [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='64e01015-7403-4eab-9bd9-6efa3459af0d'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='a6fdc445-c43a-40c0-bdad-45addf3f76b0')]...[Tool(name='get_reservations', description='\n    Gets reservations from the spreadsheet. Can filter by customer_name.\n\n    :param random_string: Dummy parameter for no-parameter tools\n    :return: A string containing the result of the fetch operation (list of reservations or error message).\n    ', inputSchema={'properties': {'random_string': {'default': '', 'title': 'random_string', 'type': 'string'}}, 'title': 'get_reservationsArguments', 'type': 'object'}), Tool(name='add_new_reservation', description='\n    Adds a new reservation to the spreadsheet.\n\n    :param customer_name: Name of the customer\n    :param check_in_date: Check-in date (YYYY-MM-DD)\n    :param check_out_date: Check-out date (YYYY-MM-DD)\n    :param adults: Number of adults\n    :param children: Number of children\n    :param room_type: Type of room (e.g., Standard, Suite)\n    :return: A string confirming the reservation addition or an error message.\n    ', inputSchema={'properties': {'customer_name': {'title': 'Customer Name', 'type': 'string'}, 'check_in_date': {'title': 'Check In Date', 'type': 'string'}, 'check_out_date': {'title': 'Check Out Date', 'type': 'string'}, 'adults': {'title': 'Adults', 'type': 'integer'}, 'children': {'title': 'Children', 'type': 'integer'}, 'room_type': {'title': 'Room Type', 'type': 'string'}}, 'required': ['customer_name', 'check_in_date', 'check_out_date', 'adults', 'children', 'room_type'], 'title': 'add_new_reservationArguments', 'type': 'object'})]
2025-04-17 22:27:50,024 - models.llm - INFO - Sorgu: "[HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='64e01015-7403-4eab-9bd9-6efa3459af0d'), HumanMessage(content='rezervasyonları görelim', additional_kwargs={}, response_metadata={}, id='a6fdc445-c43a-40c0-bdad-45addf3f76b0')]"
2025-04-17 22:27:51,427 - models.llm - INFO - Fonksiyon çağrısı bulundu, araç kullanılıyor
2025-04-17 22:27:51,916 - models.llm - INFO - Gemini fallback ile araç bulundu: get_reservations, args: {'random_string': 'dummy'}
2025-04-17 22:27:51,916 - models.llm - INFO - 🚀 Araç çağrılıyor: get_reservations, Parametreler: {'random_string': 'dummy'}
2025-04-17 22:27:51,919 - models.llm - ERROR - 🔴 MCP araç çağrısı hatası (get_reservations): 
Traceback:
Traceback (most recent call last):
  File "/Users/huseyin/Documents/deep-learning/wp_agent/models/llm.py", line 223, in handle_function_call
    result = await self.session.call_tool(name, arguments=args_dict)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/client/session.py", line 256, in call_tool
    return await self.send_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/mcp/shared/session.py", line 244, in send_request
    await self._write_stream.send(JSONRPCMessage(jsonrpc_request))
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 242, in send
    self.send_nowait(item)
  File "/Users/huseyin/Documents/deep-learning/wp_agent/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 211, in send_nowait
    raise ClosedResourceError
anyio.ClosedResourceError

2025-04-17 22:27:54,761 - agents.tools_agents - INFO - EndNodeAgent invoked - workflow completed
2025-04-17 22:27:54,764 - __main__ - INFO - Son rezervasyon yanıtı: {"response": "Sonu\u00e7, bir ara\u00e7 \u00e7a\u011fr\u0131s\u0131 s\u0131ras\u0131nda olu\u015fan ...
2025-04-17 22:27:54,764 - __main__ - INFO - 🔍 get_last_response: Yanıt arama başladı
2025-04-17 22:27:54,764 - __main__ - INFO - 🔍 Mevcut yanıt türleri: ['understanding_response', 'reservation_response', 'support_response', 'reservations_result', 'add_reservation_result', 'update_reservation_result', 'delete_reservation_result', 'human_response']
2025-04-17 22:27:54,765 - __main__ - INFO - 💬 Reservasyon yanıtı bulundu, işleniyor...
2025-04-17 22:27:54,765 - __main__ - INFO - 💬 Rezervasyon yanıtı içeriği: {"response": "Sonu\u00e7, bir ara\u00e7 \u00e7a\u011fr\u0131s\u0131 s\u0131ras\u0131nda olu\u015fan ...
2025-04-17 22:27:54,765 - __main__ - INFO - ✅ JSON response regex ile bulundu: Sonuç, bir araç çağrısı sırasında oluşan bir hatay...
2025-04-17 22:27:54,860 - __main__ - INFO - MCP sunucu dosyası mevcut: /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:54,860 - __main__ - INFO - MCP sunucu komutu: python /Users/huseyin/Documents/deep-learning/wp_agent/google-sheets-mcp/sheet.py
2025-04-17 22:27:54,860 - __main__ - INFO - Bağlantı kuruluyor...
2025-04-17 22:27:54,869 - __main__ - INFO - ClientSession oluşturuluyor...
2025-04-17 22:27:54,870 - __main__ - INFO - ClientSession başlatılıyor...
2025-04-17 22:27:55,245 - __main__ - INFO - ClientSession başlatıldı
2025-04-17 22:27:55,245 - __main__ - INFO - Araçlar listeniyor...
2025-04-17 22:27:55,246 - __main__ - INFO - Bağlantı kuruldu, araçlar: ['get_reservations', 'add_new_reservation']
2025-04-17 22:27:55,248 - agent_graph.graph - INFO - LangGraph derleniyor...
2025-04-17 22:27:55,252 - __main__ - WARNING - JSON ayrıştırma hatası: Expecting ',' delimiter: line 1 column 1035 (char 1034)
2025-04-17 22:27:55,253 - __main__ - INFO - regex ile json ayrıştırma başarılı
